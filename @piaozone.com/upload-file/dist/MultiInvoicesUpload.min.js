!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["MultiInvoicesUpload.min"]=t():e["MultiInvoicesUpload.min"]=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([,function(e,t,r){var n=r(2),a=r(3).default,i=r(4).compressImgFile;e.exports={adjustSize:n.adjustSize,loadImage:n.loadImage,base64ToFile:n.base64ToFile,normalize:n.normalize,getRotateRect:n.getRotateRect,cuteImage:n.cuteImage,markImage:n.markImage,sortByRegion:n.sortByRegion,OperateCanvas:a,compressImgFile:i}},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){s(i,n,a,o,l,"next",e)}function l(e){s(i,n,a,o,l,"throw",e)}o(void 0)}))}}function c(e,t,r,n){var a=parseFloat(r/e),i=parseFloat(n/t),o=parseFloat(e/t);return(e>r||t>n)&&(a<i?(e=r,t=Math.floor(e/o)):e=(t=n)*o),{width:e,height:t,rate:o}}function u(e){return new Promise((function(t){var r=new Image;r.onload=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({errcode:"0000",data:{imgObj:r,width:r.width,height:r.height}});case 1:case"end":return e.stop()}}),e)}))),r.onerror=function(){t({errcode:"2000",description:"加载图像失败"})},r.src=e}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t=t||"temp_"+ +new Date+"_"+Math.random().toString().replace(/0\./,"")+".jpg";for(var r=e.split(","),n=r[0].match(/:(.*?);/)[1],a=n.split("/")[1],i=atob(r[1]),o=i.length,s=new Uint8Array(o);o--;)s[o]=i.charCodeAt(o);if(t=t.split(".")[0],window.File&&"function"==typeof window.File)return{errcode:"0000",data:new File([s],"".concat(t,".").concat(a),{type:n})};try{var l=new Blob([s],{type:n});return l.lastModifiedDate=new Date,l.name="".concat(t,".").concat(a),{errcode:"0000",data:l}}catch(e){return console.error(e),{errcode:"90002",description:"base64转换为图片异常，请检查图片是否正常"}}}function d(e){return f.apply(this,arguments)}function f(){return(f=l(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s,l,d,f,p,v,g,y,m,_,b,k,x,A,w,S,C,P,R,T=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T.length>1&&void 0!==T[1]?T[1]:{},n=URL.createObjectURL(t),e.next=4,u(n);case 4:if("0000"===(a=e.sent).errcode){e.next=7;break}return e.abrupt("return",a);case 7:if(i=r.maxWidth,o=void 0===i?1920:i,s=r.maxHeight,l=void 0===s?1080:s,d=r.quality,f=void 0===d?.95:d,p=r.toType,v=void 0===p?"base64":p,g=r.filename,y=void 0===g?"":g,m=a.data,_=m.width,b=m.height,k=m.imgObj,x=c(_,b,o,l),A=x.width,w=x.height,S="",e.prev=13,(C=document.createElement("canvas")).width=A,C.height=w,(P=C.getContext("2d")).clearRect(0,0,A,w),P.drawImage(k,0,0,A,w),S=C.toDataURL("image/jpeg",f),"base64"!==v){e.next=23;break}return e.abrupt("return",{errcode:"0000",data:{imageWidth:A,imageHeight:w,base64:S}});case 23:e.next=29;break;case 25:return e.prev=25,e.t0=e.catch(13),console.error(e.t0),e.abrupt("return",{errcode:"90001",description:"图片转换异常, 请检查图片是否正常"});case 29:return e.next=31,h(S,y);case 31:if("0000"===(R=e.sent).errcode){e.next=34;break}return e.abrupt("return",R);case 34:return e.abrupt("return",{errcode:"0000",data:{imageWidth:A,imageHeight:w,file:R.data}});case 35:case"end":return e.stop()}}),e,null,[[13,25]])})))).apply(this,arguments)}function p(e,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=parseFloat(Math.PI/180),c=Math.cos,u=Math.sin,h=parseFloat(t/r);e=Math.abs(e);var d=n-i,f=a-i,p=t,v=r;return 0===(e%=360)||180===e?(d=n,f=a):90===e||270===e?(d=a,f=n):e>0&&e<90||e>180&&e<270?(d=n*c(e*l)+a*u(e*l),f=a*c(e*l)+n*u(e*l)):(e>90&&e<180||e>270&&e<360)&&(d=a*c(e*l)+n*u(e*l),f=n*c(e*l)+a*u(e*l)),o&&s&&(t<o||r<s)&&(r<s?p=h*(v=s):v=(p=o)/h),(p>d||v>f)&&(p>v?p=h*(v=f):v=(p=d)/h,p>d?v=(p=d)/h:v>f&&(p=(v=f)*h)),{rw:p,rh:v}}function v(e,t){return g.apply(this,arguments)}function g(){return(g=l(regeneratorRuntime.mark((function e(t,r){var n,a,i,o,s,l,c,u,h,d,f,p,v,g,y,m,_,b,k,x,A,w,S,C,P,R,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.pixel,a=void 0===n?"":n,i=r.region,o=void 0===i?"":i,s=r.maxWidth,l=void 0===s?1920:s,c=r.maxHeight,u=void 0===c?1080:c,""!==o){e.next=3;break}return e.abrupt("return",{errcode:"0000",data:t});case 3:if(h=t.width,d=t.height,o&&a?(y=a.split(","),m=parseInt(y[0]),_=parseInt(y[1]),(h>d&&m<_||h<d&&m>_)&&(m=parseInt(y[1]),_=parseInt(y[0])),b=parseFloat(h/m),k=parseFloat(d/_),x=o.replace(/[\[\]]/g,"").split(","),f=parseInt(x[0])*b,p=parseInt(x[1])*k,v=parseInt(x[2])*b-f,g=parseInt(x[3])*k-p):(f=0,p=0,v=h,g=d),A=parseFloat(v/g),w=v,S=g,"function"==typeof(C=document.createElement("canvas")).getContext){e.next=12;break}return e.abrupt("return",{errcode:"unsport",description:"浏览器不支持canvas"});case 12:return l=v>1920?1920:v,u=g>1080?1080:g,C.width=l,C.height=u,(P=C.getContext("2d")).clearRect(0,0,l,u),R=l,T=u,P.save(),P.translate(l/2,u/2),w>S?w=A*(S=T):S=(w=R)/A,w>R?S=(w=R)/A:S>T&&(w=(S=T)*A),P.translate(-w/2,-S/2),P.drawImage(t,f,p,v,g,0,0,w,S),P.restore(),e.abrupt("return",{errcode:"0000",description:"success",data:C});case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){if(e.length<=1)return e;for(var t=0;t<e.length-1;t++)for(var r=0;r<e.length-t-1;r++){var n=e[r],a=e[r+1],o=a.region||"";o=o.replace(/[[\]]/g,"").split(",");var s=parseInt(o[0]),l=parseInt(o[1]),c=n.region||"";c=c.replace(/[[\]]/g,"").split(",");var u=s-parseInt(c[0]),h=l-parseInt(c[1]),d=!1;if(u<0&&h<0?d=!0:u<0?d=!(h+u>0):h<0&&(d=!(h+u>50)),d){var f=i({},a);e[r+1]=i({},n),e[r]=f}}return e}function m(){for(var e=n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]),t=0;t<e.length;t++){var r=e[t].region||"";r=r.replace(/[[\]]/g,"").split(",");for(var a=parseInt(r[0]),i=parseInt(r[1]),o=parseInt(r[2]),s=parseInt(r[3]),l=0;l<e.length;l++)if(!(l<=t)){var c=e[l].region||"";c=c.replace(/[[\]]/g,"").split(",");var u=parseInt(c[0]),h=parseInt(c[1]),d=parseInt(c[2]),f=parseInt(c[3]);if(!(o<u||s<h)){var p=Math.abs((o>d?o:d)-(a<u?a:u))-(Math.abs(o-a)+Math.abs(d-u)),v=Math.abs((s>f?s:f)-(h<i?h:i))-(Math.abs(s-i)+Math.abs(f-h));p>0||v>0||(v=Math.abs(v)/2+6,(p=Math.abs(p)/2+6)<v?(a<u?(r=[a,i,parseInt(r[2])-p,r[3]],c=[u+p,h,c[2],c[3]],o-=p,u+=p):(r=[a+p,i,r[2],r[3]],c=[u,h,parseInt(c[2])-p,c[3]],d-=p,a+=p),e[t].region=r.join(","),e[l].region=c.join(",")):(i<h?(r=[a,i,r[2],parseInt(r[3])-v],c=[u,h+v,c[2],c[3]],s-=v,h+=v):(r=[a,i+v,r[2],r[3]],c=[u,h,c[2],parseInt(c[3])-v],f-=v,i+=v),e[t].region=r.join(","),e[l].region=c.join(",")))}}}return e}function _(e){return b.apply(this,arguments)}function b(){return(b=l(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s,l,c,u,h,d,f,v,g,y=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=y.length>1&&void 0!==y[1]?y[1]:{},n=r.maxWidth,a=void 0===n?1920:n,i=r.maxHeight,o=void 0===i?1024:i,s=r.minWidth,l=r.minHeight,"function"==typeof(c=document.createElement("canvas")).getContext){e.next=5;break}return e.abrupt("return",{errcode:"unsport",description:"浏览器不支持canvas"});case 5:return u=t.width,h=t.height,d=p(0,u,h,a,o,0,s,l),f=d.rw,v=d.rh,c.width=f,c.height=v,(g=c.getContext("2d")).clearRect(0,0,c.width,c.height),g.save(),g.drawImage(t,0,0,u,h,0,0,f,v),g.restore(),e.abrupt("return",{errcode:"0000",description:"success",data:c});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return x.apply(this,arguments)}function x(){return(x=l(regeneratorRuntime.mark((function e(t,r){var n,a,i,o,s,l,c,u,h,d,f,v,g,y,_,b,k,x,A,w,S,C,P,R,T,E,O,F,I,M,L,D,j,N,B,U,q,W,H,G,z,V,Y,X,K,J,Q,$,Z;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.targetWidth,a=r.targetHeight,i=r.areaInfo,o=void 0===i?[]:i,s=r.clearCanvas,l=r.orientation,c=void 0===l?0:l,u=r.maxWidth,h=void 0===u?1920:u,d=r.maxHeight,f=void 0===d?1024:d,v=12,g=16,y=2,_=1,b=t.width,k=t.height,0!==o.length){e.next=9;break}return e.abrupt("return",{errcode:"argsErr",description:"标记区域为空"});case 9:if(void 0===s&&(s=!0),(x=document.createElement("canvas"))&&"function"==typeof x.getContext){e.next=13;break}return e.abrupt("return",{errcode:"unsport",description:"浏览器不支持canvas"});case 13:for(A=Math.abs(c)%360,w=p(A,b,k,h,f,0),S=w.rw,C=w.rh,P=x.getContext("2d"),R=0,T=0,E=0,O=0,F=b,I=k,(M=o[0].pixel)&&(L=M.split(","),b>k&&F<I||b<k&&F>I?(F=parseInt(L[1]),I=parseInt(L[0])):(F=parseInt(L[0]),I=parseInt(L[1]))),90===A||270===A?(x.width=C,x.height=S):(x.width=S,x.height=C),P.save(),P.clearRect(0,0,x.width,x.height),P.translate(x.width/2,x.height/2),P.rotate(-c*Math.PI/180),D=parseFloat(S/F),j=parseFloat(C/I),P.translate(-S/2,-C/2),P.drawImage(t,0,0,b,k,0,0,S,C),N=p(0,x.width,x.height,n,a,0),_=x.height/N.rh,v*=_,g*=_,y*=_,B=m(o),U=0;U<B.length;U++)q=B[U].region.replace(/[[\]]/g,"").split(","),B[U].region||(q=[0,0,b,k]),W=B[U].markColor||"#487BFB",H=B[U].lineColor||W,R=parseInt(q[0])*D,T=parseInt(q[1])*j,E=parseInt(q[2])*D-R,O=parseInt(q[3])*j-T,G=parseInt(q[2])*D,z=parseInt(q[3])*j,E+R>S&&(E=S-R),O+T>C&&(O=C-T),P.save(),P.strokeStyle=H,P.lineWidth=y,"function"==typeof P.setLineDash&&P.setLineDash([10*_,10*_]),P.moveTo(R+y,T+y),P.beginPath(),P.strokeRect(R+y,T+y,E-2*y,O-2*y),P.stroke(),P.closePath(),P.restore(),P.save(),P.strokeStyle=W,P.beginPath(),V=R+v+y+2,Y=T+v+y+2,-90===c||270===c?Y=z-v-y-2:-180===c||180===c?(V=G-v-y-2,Y=z-v-y-2):90!==c&&-270!==c||(V=G-v-y-2),P.moveTo(V,Y),P.arc(V,Y,v,0,2*Math.PI,!1),P.closePath(),P.stroke(),P.fillStyle=W,P.fill(),P.restore();for(X=0;X<B.length;X++)K=B[X].region.replace(/[[\]]/g,"").split(","),B[X].region||(K=[0,0,b,k]),R=parseInt(K[0])*D,T=parseInt(K[1])*j,J=parseInt(K[2])*D,Q=parseInt(K[3])*j,$=R+v+y+2.3,Z=T+v+y+2.3,P.save(),P.font=g+"px Times New Roman",P.fillStyle="#fff",P.textAlign="center",P.textBaseline="middle",-90===c||270===c?Z=Q-v-y-2.3:-180===c||180===c?($=J-v-y-2.3,Z=Q-v-y-2.3):90!==c&&-270!==c||($=J-v-y-2.3),0!==c?(P.translate($,Z),P.rotate(c*Math.PI/180),P.fillText(X+1,0,0)):P.fillText(X+1,$,Z),P.restore();return P.restore(),e.abrupt("return",{errcode:"0000",description:"success",data:x});case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.r(t),r.d(t,"adjustSize",(function(){return c})),r.d(t,"loadImage",(function(){return u})),r.d(t,"base64ToFile",(function(){return h})),r.d(t,"normalize",(function(){return d})),r.d(t,"getRotateRect",(function(){return p})),r.d(t,"cuteImage",(function(){return v})),r.d(t,"sortByRegion",(function(){return y})),r.d(t,"adjuestRect",(function(){return m})),r.d(t,"showImage",(function(){return _})),r.d(t,"markImage",(function(){return k}))},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r(2);function a(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,l,"next",e)}function l(e){a(o,n,i,s,l,"throw",e)}s(void 0)}))}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"modifyArgs",(function(e){r.displayFlag=e.displayFlag||r.displayFlag,r.width=e.width||r.width,r.height=e.height||r.height,r.emptyFillStyle=e.emptyFillStyle||r.emptyFillStyle,r.imgCanvasObj=null})),s(this,"computeDrawSize",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.imgWidth,a=e.imgHeight,i=e.maxWidth,o=e.maxHeight,s=e.rotateDeg,l=void 0===s?r.rotateDeg:s,c=e.displayFlag,u=void 0===c?"showImage":c,h=e.resetLargerRatio,d=e.reset,f=void 0!==e.largerRatio?e.largerRatio:r.largerRatio,p=parseFloat(t/a),v=1*i/2,g=1*o/2;if(l!==r.rotateDeg||h||d){var y="markImage"===u?0:l,m=Object(n.getRotateRect)(y,t,a,i,o,0,v,g);r.rw=m.rw,r.rh=m.rh,r.rotateDeg=d?r.initRotateDeg:l,r.largerRatio=parseFloat(r.rw/t),r.initLargerRatio||(r.initLargerRatio=r.largerRatio)}else f!==r.largerRatio&&(r.largerRatio=f),r.rh=a*f,r.rw=r.rh*p})),s(this,"showImage",function(){var e=i(regeneratorRuntime.mark((function e(t){var a,i,o,s,l,c,u,h,d,f,p,v,g,y,m,_,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=b.length>1&&void 0!==b[1]?b[1]:{},i=a.resetLargerRatio,o=a.reset,s=a.largerRatio,l=void 0===s?r.largerRatio:s,c=void 0!==a.rotateDeg?a.rotateDeg:r.rotateDeg,c%=360,u=r.ctx.canvas.width,h=r.ctx.canvas.height,d=r.getOffset(c,a.offsetX,a.offsetY),f=d.offsetX,p=d.offsetY,c===r.rotateDeg&&r.imgCanvasObj){e.next=14;break}return e.next=10,Object(n.showImage)(t);case 10:if("0000"===(v=e.sent).errcode){e.next=13;break}return e.abrupt("return",v);case 13:r.imgCanvasObj=v.data;case 14:return g=r.ctx,y=r.imgCanvasObj.width,m=r.imgCanvasObj.height,r.computeDrawSize({imgWidth:y,imgHeight:m,maxWidth:u,maxHeight:h,rotateDeg:c,largerRatio:l,resetLargerRatio:i,reset:o}),_=g.canvas,g.save(),g.fillStyle=r.emptyFillStyle,g.clearRect(0,0,_.width,_.height),g.translate(_.width/2,_.height/2),g.rotate(-c*Math.PI/180),g.translate(-r.rw/2+f,-r.rh/2+p),g.drawImage(r.imgCanvasObj,0,0,y,m,0,0,r.rw,r.rh),g.restore(),e.abrupt("return",{errcode:"0000",data:{rotateDeg:r.rotateDeg,largerRatio:r.largerRatio}});case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s(this,"cuteImage",function(){var e=i(regeneratorRuntime.mark((function e(t){var a,i,o,s,l,c,u,h,d,f,p,v,g,y,m,_,b,k,x,A,w,S=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S.length>1&&void 0!==S[1]?S[1]:{},i=a.resetLargerRatio,o=a.reset,s=a.largerRatio,l=void 0===s?r.largerRatio:s,c=a.areaInfo,u=void 0===c?[]:c,h=void 0!==a.rotateDeg?a.rotateDeg:r.rotateDeg,h%=360,d=u[0],f=d.pixel,p=d.region,v=r.ctx.canvas.width,g=r.ctx.canvas.height,h===r.rotateDeg&&r.imgCanvasObj){e.next=14;break}return e.next=10,Object(n.cuteImage)(t,{pixel:f,region:p});case 10:if("0000"===(y=e.sent).errcode){e.next=13;break}return e.abrupt("return",y);case 13:r.imgCanvasObj=y.data;case 14:return m=r.ctx,_=m.canvas,b=r.imgCanvasObj.width,k=r.imgCanvasObj.height,x=r.getOffset(h,a.offsetX,a.offsetY),A=x.offsetX,w=x.offsetY,r.computeDrawSize({imgWidth:b,imgHeight:k,maxWidth:v,maxHeight:g,rotateDeg:h,largerRatio:l,resetLargerRatio:i,reset:o}),m.save(),m.fillStyle=r.emptyFillStyle,m.clearRect(0,0,_.width,_.height),m.translate(_.width/2,_.height/2),m.rotate(-h*Math.PI/180),m.translate(-r.rw/2+A,-r.rh/2+w),m.drawImage(r.imgCanvasObj,0,0,b,k,0,0,r.rw,r.rh),m.restore(),e.abrupt("return",{errcode:"0000",data:{rotateDeg:r.rotateDeg,largerRatio:r.largerRatio}});case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s(this,"markImage",function(){var e=i(regeneratorRuntime.mark((function e(t){var a,i,o,s,l,c,u,h,d,f,p,v,g,y,m,_,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=b.length>1&&void 0!==b[1]?b[1]:{},i=a.resetLargerRatio,o=a.reset,s=a.offsetX,l=a.offsetY,c=a.largerRatio,u=void 0===c?r.largerRatio:c,h=a.areaInfo,d=void 0===h?[]:h,f=void 0!==a.rotateDeg?a.rotateDeg:r.rotateDeg,f%=360,p=r.ctx,v=p.canvas.width,g=p.canvas.height,f===r.rotateDeg&&r.imgCanvasObj){e.next=14;break}return e.next=10,Object(n.markImage)(t,{targetHeight:g,targetWidth:v,areaInfo:d,orientation:f});case 10:if("0000"===(y=e.sent).errcode){e.next=13;break}return e.abrupt("return",y);case 13:r.imgCanvasObj=y.data;case 14:return m=r.imgCanvasObj.width,_=r.imgCanvasObj.height,r.computeDrawSize({displayFlag:"markImage",imgWidth:m,imgHeight:_,maxWidth:v,maxHeight:g,rotateDeg:f,largerRatio:u,resetLargerRatio:i,reset:o}),p.save(),p.fillStyle=r.emptyFillStyle,p.clearRect(0,0,p.canvas.width,p.canvas.height),p.translate(p.canvas.width/2-r.rw/2+s,p.canvas.height/2-r.rh/2+l),p.drawImage(r.imgCanvasObj,0,0,m,_,0,0,r.rw,r.rh),p.restore(),e.abrupt("return",{errcode:"0000",data:{rotateDeg:r.rotateDeg,largerRatio:r.largerRatio}});case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.ctx=t.ctx,this.width=t.width,this.height=t.height,this.initLargerRatio=t.largerRatio||1,this.initRotateDeg=t.rotateDeg||0,this.rotateDeg=this.initRotateDeg,this.largerRatio=this.initLargerRatio,this.emptyFillStyle=t.emptyFillStyle||"#D7DAE1"}var t,r,a;return t=e,(r=[{key:"getOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(90===e||-270===e){var n=r;r=t,t=-n}else if(-90===e||270===e){var a=r;r=-t,t=a}else 180!==e&&-180!==e||(r=-r,t=-t);return{offsetX:t,offsetY:r}}}])&&o(t.prototype,r),a&&o(t,a),e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"tempCompressImgFile",(function(){return c})),r.d(t,"compressImgFile",(function(){return h}));var n=r(2);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){s(i,n,a,o,l,"next",e)}function l(e){s(i,n,a,o,l,"throw",e)}o(void 0)}))}}function c(e){return u.apply(this,arguments)}function u(){return(u=l(regeneratorRuntime.mark((function e(t){var r,a,o,s,l,c,u,h,d,f,p,v,g,y,m,_,b,k,x,A,w,S,C,P,R=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R.length>1&&void 0!==R[1]?R[1]:{},a=r.localUrl||"",o=window.URL||window.webkitURL||window.mozURL||{},-1!==(t.type||"").indexOf("image/")&&"function"==typeof o.createObjectURL&&void 0!==r.fileLimitSize){e.next=6;break}return e.abrupt("return",{errcode:"0000",localUrl:a,file:t});case 6:if(s=r.fileLimitWidth,l=r.fileLimitHeight,!(c=r.fileLimitPixel)&&s&&l&&(c=s>l?l:s),c||(c=1500),u=r.fileQuality||.98,u=isNaN(parseFloat(u))?.98:parseFloat(u),""!==a){e.next=21;break}e.prev=13,a=o.createObjectURL(t),e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(13),window.console&&console.error(e.t0),e.abrupt("return",{errcode:"0000",localUrl:a,file:t});case 21:if(h=r.fileLimitSize,d=t.size,f=1024*parseFloat(h)*1024,!(d<=f)){e.next=26;break}return e.abrupt("return",{errcode:"0000",localUrl:a,file:t});case 26:return p=f/d,e.next=29,Object(n.loadImage)(a);case 29:if("0000"===(v=e.sent).errcode){e.next=32;break}return e.abrupt("return",{errcode:"0000",localUrl:a,file:t});case 32:if(g=v.data,y=g.width,m=g.height,_=g.imgObj,b={originWidth:y,originHeight:m,width:y,height:m,localUrl:a},!(y<c||m<c)){e.next=36;break}return e.abrupt("return",i({errcode:"0000"},b,{file:t}));case 36:k=y,x=m,A=y/m,y<=m?(x=Math.floor(m*p),k=Math.floor(x*A)):(k=Math.floor(y*p),x=Math.floor(k/A)),(k<c||x<c)&&(k<=x?(k=c,x=Math.floor(k/A)):(x=c,k=Math.floor(x*A))),b.width=k,b.height=x,e.prev=43,(S=document.createElement("canvas")).width=k,S.height=x,(C=S.getContext("2d")).clearRect(0,0,k,x),C.drawImage(_,0,0,k,x),w=S.toDataURL("image/jpeg",u),S=null,e.next=58;break;case 54:return e.prev=54,e.t1=e.catch(43),window.console&&console.error(e.t1),e.abrupt("return",i({errcode:"0000"},b,{file:t}));case 58:return e.next=60,Object(n.base64ToFile)(w,t.name);case 60:if(!("0000"!==(P=e.sent).errcode||P.data.size>t.size)){e.next=63;break}return e.abrupt("return",i({errcode:"0000"},b,{width:y,height:m,file:t}));case 63:return e.abrupt("return",i({errcode:"0000"},b,{file:P.data}));case 64:case"end":return e.stop()}}),e,null,[[13,17],[43,54]])})))).apply(this,arguments)}function h(e){return d.apply(this,arguments)}function d(){return(d=l(regeneratorRuntime.mark((function e(t){var r,n,a,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.prev=1,e.next=4,c(t,r);case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),window.console&&console.error(e.t0);case 11:return a=r.localUrl||"",e.abrupt("return",{errcode:"0000",localUrl:a,file:t});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var n=r(6),a=r(7),i=r(1),o=r(180),s=r.n(o);function l(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){l(i,n,a,o,s,"next",e)}function s(e){l(i,n,a,o,s,"throw",e)}o(void 0)}))}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=a.tools.consoleLog,v=a.tools.getUUId,g=function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"checkIsLowBroser",(function(){if(r.useBackendUpload)return!0;if("function"!=typeof FileReader)return!0;var e=Object(a.clientCheck)().browser;return!(e.chrome>50)&&!(e.firefox>50)})),f(this,"getNormalOpt",(function(e,t){var r={index:e.index||0,pageNo:e.pageNo||1,totalPages:e.totalPages||1,id:e.id,fileHash:e.fileHash||""};return"object"===d(t)&&(r=h({},r,{localUrl:e.localUrl||window.URL.createObjectURL(t),name:e.name||t.name,file:t,size:t.size,width:t.width||0,height:t.height||0})),r})),f(this,"getUploadOpt",function(){var e=c(regeneratorRuntime.mark((function e(t,n){var a,i,o,s,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},i=(n=n||{}).name||t.name,"function"!=typeof r.onPreUpload){e.next=19;break}return e.prev=4,o=r.getNormalOpt(n,t),e.next=8,r.onPreUpload(o);case 8:if("0000"!==(s=e.sent).errcode){e.next=13;break}a=s.data,e.next=14;break;case 13:return e.abrupt("return",h({},s,{description:s.description||"获取上传前参数异常"}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),p(e.t0,"error","处理上传回调失败");case 19:return l=new FormData,c=h({},r.datas,{},a),l.append(r.uploadName,t,i),Object.keys(c).forEach((function(e){l.append(e,c[e])})),e.abrupt("return",{errcode:"0000",data:l,description:"success"});case 24:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t,r){return e.apply(this,arguments)}}()),f(this,"handleUploadFile",function(){var e=c(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.pwyFetch)(t,{method:"post",body:r,contentType:"file"});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f(this,"handleFile",function(){var e=c(regeneratorRuntime.mark((function e(t,n){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==r.uploadSingleUrl){e.next=2;break}return e.abrupt("return",{errcode:"30001",description:"参数错误，文件上传地址不能为空"});case 2:return e.next=4,r.getUploadOpt(t,n);case 4:if("0000"===(a=e.sent).errcode){e.next=7;break}return e.abrupt("return",a);case 7:return e.next=9,r.handleUploadFile(r.uploadSingleUrl,a.data);case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f(this,"handleImage",function(){var e=c(regeneratorRuntime.mark((function e(t,n){var a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},r.fileQuality&&(a.fileQuality=r.fileQuality),r.fileLimitWidth&&(a.fileLimitWidth=r.fileLimitWidth),r.fileLimitHeight&&(a.fileLimitHeight=r.fileLimitHeight),r.fileLimitPixel&&(a.fileLimitPixel=r.fileLimitPixel),r.fileLimitSize&&(a.fileLimitSize=r.fileLimitSize),e.next=8,Object(i.compressImgFile)(t,a);case 8:if("0000"===e.sent.errcode){e.next=15;break}return e.next=12,r.handleFile(t,n);case 12:o=e.sent,e.next=19;break;case 15:return s=o.file,e.next=18,r.handleFile(s,n);case 18:o=e.sent;case 19:return e.abrupt("return",o);case 20:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f(this,"readAsBinaryString",(function(e){return new Promise((function(t){var r=new FileReader;if("function"==typeof FileReader.prototype.readAsBinaryString)r.onload=function(e){t(r.result)},r.onerror=function(){t(null)},r.readAsBinaryString(e);else{var n="";r.onload=function(e){for(var a=new Uint8Array(r.result),i=a.byteLength,o=0;o<i;o++)n+=String.fromCharCode(a[o]);t(n)},r.onerror=function(){t(null)},r.readAsArrayBuffer(e)}}))})),f(this,"readInvoiceExcel",function(){var e=c(regeneratorRuntime.mark((function e(t){var n,a,i,o,s,l,c,u,h,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.readAsBinaryString(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",{errcode:"4000",description:"文件解析异常"});case 5:a=window.XLSX,i=a.read(n,{type:"binary"}),o=a.utils.sheet_to_json(i.Sheets[i.SheetNames[0]],{defval:""}),s=[],l=0;case 10:if(!(l<o.length)){e.next=24;break}if(c=o[l]["发票代码"]||"",u=o[l]["发票号码"]||"",h=o[l]["开票日期"]||"",d=o[l]["校验码后六位(普票必填)"]||"",f=o[l]["开票不含税金额（专票必填）"]||"",c&&u&&h){e.next=18;break}return e.abrupt("continue",21);case 18:8===(h=h.trim()).length&&(h=h.substr(0,4)+"-"+h.substr(4,2)+"-"+h.substr(6,2)),s.push({fpdm:c,fphm:u,kprq:h,kpje:f,jym:d});case 21:l++,e.next=10;break;case 24:return e.abrupt("return",{errcode:"0000",data:s});case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f(this,"loadJsLib",(function(e){return new Promise((function(t){a.loadJs.syncUse(e,c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.loadedExcelLib=!0,t(null);case 2:case"end":return e.stop()}}),e)}))))}))})),f(this,"handleExcel",function(){var e=c(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.loadedExcelLib){e.next=3;break}return e.next=3,r.loadExcelLib(r.staticUrl+"/gallery/xlsx/xlsx.full.min.js");case 3:return e.next=5,r.readInvoiceExcel(t);case 5:if("0000"===(a=e.sent).errcode){e.next=8;break}return e.abrupt("return",a);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f(this,"getPdfPagesInfo",(function(e,t){return new Promise((function(n){s.a.mapLimit(e,r.limit,function(){var e=c(regeneratorRuntime.mark((function e(n,i){var o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.fileUrl,s={errcode:"5000",description:"服务端异常，请稍后再试"},e.prev=2,e.next=5,Object(a.pwyFetch)(r.getPdfInfoUrl,{method:"post",body:h({fileUrl:o},r.datas)});case 5:s=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console&&console.error("getPdfPagesInfo error",e.t0);case 11:return e.next=13,r.wrapStepFinish(h({},s,{},t,{imgSrc:n.fileUrl,pageNo:n.index,processType:"pdfPageInfo"}));case 13:i(null);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,r){return e.apply(this,arguments)}}(),c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({errcode:"0000"});case 1:case"end":return e.stop()}}),e)}))))}))})),f(this,"startAnalysisFullPdf",function(){var e=c(regeneratorRuntime.mark((function e(t,n){var a,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getNormalOpt(n,t),(i=new FormData).append(r.uploadName,t,t.name),Object.keys(r.datas).forEach((function(e){i.append(e,r.datas[e])})),e.next=6,r.handleUploadFile(r.analysisFullUrl,i);case 6:if("0000"===(o=e.sent).errcode){e.next=9;break}return e.abrupt("return",h({processType:"pdf"},o,{},a));case 9:s=o.data,r.getPdfPagesInfo(s,a);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f(this,"handleMultiPdfPage",function(){var e=c(regeneratorRuntime.mark((function e(t,a){var i,o,s,l,c,u,d,f,p,v,g,y,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.getNormalOpt(h({},a,{totalPages:r.pdfDoc.numPages})),e.next=3,Object(n.getOnePageData)(r.pdfDoc,t,r.scale,r.quality);case 3:if("0000"===(o=e.sent).errcode){e.next=8;break}return e.next=7,r.wrapStepFinish(h({},o,{},i,{processType:"pdfPage"}));case 7:return e.abrupt("return");case 8:if(s=o.data,l=s.file,c=s.name,u=s.localUrl,d=s.id,f=s.totalPages,p=s.width,v=s.height,g={name:c,localUrl:u,id:d,totalPages:f,width:p,height:v},"0000"===(y=r.getUploadOpt(l,g)).errcode){e.next=15;break}return e.next=14,r.wrapStepFinish(h({},o,{},g,{processType:"pdfPage"}));case 14:return e.abrupt("return");case 15:return e.next=17,r.handleUploadFile(r.uploadSingleUrl,y.data);case 17:return m=e.sent,e.next=20,r.wrapStepFinish(h({},m,{},g,{processType:"pdfPage"}));case 20:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f(this,"handleMultiPdf",function(){var e=c(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var a=this;if(this.uploadFullUrl){var i=new FormData,o=h({},this.datas,{},r);i.append(this.uploadName,t,t.name),Object.keys(o).forEach((function(e){i.append(e,o[e])})),this.handleUploadFile(this.uploadFullUrl,i).then((function(t){if("0000"!==t.errcode)return Object(n.cleanPdfDoc)(a.pdfDoc),t;for(var i=a.pdfDoc.numPages,o=[],l=1;l<=i;l++)o.push(l);s.a.mapLimit(o,a.limit,function(){var e=c(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.handleMultiPdfPage(t,r);case 2:n(null);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),function(){var t=c(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r&&console.log("handlerPdfDoc err",r),e({errcode:"0000"});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f(this,"handlePdf",function(){var e=c(regeneratorRuntime.mark((function e(t,a){var i,o,s,l,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.checkIsLowBroser(),o=!0,!i&&window.URL&&window.URL.createObjectURL){e.next=6;break}if(r.analysisFullUrl&&r.getPdfInfoUrl){e.next=5;break}return e.abrupt("return",{errcode:"30002",description:"当前浏览器不支持多页pdf处理"});case 5:o=!1;case 6:if(!o){e.next=38;break}return e.next=9,Object(n.getPdfDocument)({CMAP_URL:r.staticUrl+"/gallery/pdfjs-dist/2.10.377/cmaps/",workerSrc:r.staticUrl+"/gallery/pdfjs-dist/2.10.377/build/pdf.worker.min.js",file:t});case 9:if("0000"===(l=e.sent).errcode){e.next=12;break}return e.abrupt("return",l);case 12:return r.pdfDoc=l.data,c=l.fileHash,e.next=16,Object(n.checkMultiInvoicePdf)(r.pdfDoc);case 16:if("0000"===(u=e.sent).errcode){e.next=22;break}return e.next=20,r.startAnalysisFullPdf(t,a);case 20:e.next=36;break;case 22:if(2!==u.data){e.next=32;break}return e.next=25,r.handleMultiPdf(t,h({},a,{fileHash:c}));case 25:if("0000"===(s=e.sent).errcode){e.next=30;break}return e.next=29,r.startAnalysisFullPdf(t,a);case 29:s=e.sent;case 30:e.next=36;break;case 32:return e.next=34,r.handleFile(t,a);case 34:s=e.sent,Object(n.cleanPdfDoc)(r.pdfDoc);case 36:e.next=41;break;case 38:return e.next=40,r.startAnalysisFullPdf(t,a);case 40:s=e.sent;case 41:return e.abrupt("return",s);case 42:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f(this,"wrapStepFinish",function(){var e=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.onStepFinish(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("onStepFinish error",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),f(this,"startHandleSingleFile",function(){var e=c(regeneratorRuntime.mark((function e(t,n){var a,i,o,s,l,c,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.type,i=t.name,o="other",l="";try{l=window.URL.createObjectURL(t)}catch(e){console.warn("获取本地连接异常",e)}if(c={id:v(),index:n,localUrl:l},u=t.size/1024/1024,parseInt(u)>r.limeFileSize?s={errcode:"30003",description:"文件大小超出限制"}:-1!==a.indexOf("image")?(d=r.handleImage,o="image"):/\.(xlsx|XLSX|xls|XLS)$/.test(i)?(d=r.handleExcel,o="excel"):/\.(ofd|OFD)$/.test(i)?(d=r.handleFile,o="ofd"):/\.(pdf|PDF)$/.test(i)?(d=r.handlePdf,o="pdf"):(o="other",s={errcode:"30000",description:"不支持该文件类型，请重新选择"}),!d){e.next=12;break}return e.next=11,d(t,c);case 11:s=e.sent;case 12:return e.next=14,r.wrapStepFinish(h({},s,{file:t,processType:o}));case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f(this,"start",function(){var e=c(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={errcode:"0000",data:[],description:"success"},!(t instanceof File)){e.next=6;break}return e.next=4,r.startHandleSingleFile(t,0);case 4:e.next=17;break;case 6:if(!(t instanceof Array||t instanceof FileList)){e.next=16;break}a=0;case 8:if(!(a<t.length)){e.next=14;break}return e.next=11,r.startHandleSingleFile(t[a],a);case 11:a++,e.next=8;break;case 14:e.next=17;break;case 16:n={errcode:"30002",description:"参数错误, 请检查！"};case 17:return e.next=19,r.onFinish(n);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.uploadSingleUrl=t.uploadSingleUrl||"",this.analysisFullUrl=t.analysisFullUrl||"",this.getPdfInfoUrl=t.getPdfInfoUrl||"",this.uploadFullUrl=t.uploadFullUrl||"",this.datas=t.datas||{},this.onPreUpload=t.onPreUpload,this.onStepFinish=t.onStepFinish||function(){},this.onFinish=t.onFinish||function(){},this.limit=t.limit||2,this.scale=t.scale?t.scale>3.5?3.5:t.scale:1.5,this.quality=t.quality||.95,this.staticUrl=t.staticUrl||"",this.limeFileSize=t.limeFileSize||20,this.uploadName=t.uploadName||"file",this.useBackendUpload=t.useBackendUpload,this.pdfDoc=null,this.fileQuality=t.fileQuality,this.fileLimitWidth=t.fileLimitWidth,this.fileLimitHeight=t.fileLimitHeight,this.fileLimitPixel=t.fileLimitPixel,this.fileLimitSize=t.fileLimitSize}},function(e,t,r){"use strict";r.r(t),r.d(t,"cleanPdfPage",(function(){return v})),r.d(t,"cleanPdfDoc",(function(){return g})),r.d(t,"getPdfDocument",(function(){return y})),r.d(t,"checkMultiInvoicePdf",(function(){return _})),r.d(t,"getOnePageData",(function(){return b})),r.d(t,"readFile",(function(){return k})),r.d(t,"pdfRenderToCanvas",(function(){return x})),r.d(t,"pdfToImage",(function(){return A}));var n=r(1),a=r(7);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){c(i,n,a,o,s,"next",e)}function s(e){c(i,n,a,o,s,"throw",e)}o(void 0)}))}}var h=r(130),d=a.tools.consoleLog,f=a.tools.getUUId,p=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e4;return Promise.race([new Promise((function(n){e.getDocument(t).promise.then((function(e){e.filename=r,n({errcode:"0000",data:e})})).catch((function(e){console.log(e),n({errcode:"5000",description:"服务端异常，请稍后再试"})}))})),new Promise((function(e){setTimeout((function(){e({errcode:"getDocumentTimeout",description:"pdf处理超时！"})}),n)}))])},v=function(e){try{e.cleanup()}catch(e){d("clean Pdf Page error",e)}},g=function(){var e=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.cleanup(),t.destroy()}catch(e){d("clean Pdf Doc error",e)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=u(regeneratorRuntime.mark((function e(t){var n,a,i,s,c,u,f,v,g,y,m,_,b,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r(167),a={},i=t.CMAP_URL,s=void 0===i?"":i,c=t.file,u=t.workerSrc,f=t.data,v=t.timeout,g=void 0===v?2e4:v,u&&(n.GlobalWorkerOptions.workerSrc=u),s&&(a.cMapUrl=s,a.cMapPacked=!0),y=(+new Date+"-"+Math.random()).replace("0.","")+".jpg",m="",void 0===f){e.next=11;break}a.data=f,e.next=27;break;case 11:if("object"!==l(c)){e.next=21;break}return e.next=14,k(c);case 14:_=e.sent,a.data=_,b=h.lib.WordArray.create(_),m=h.SHA256(b).toString(),y=+new Date+"-"+c.name,e.next=27;break;case 21:if("string"!=typeof c){e.next=26;break}a.url=c,a.withCredentials=!0,e.next=27;break;case 26:return e.abrupt("return",{errcode:"err",description:"参数异常，文件对象为空"});case 27:return e.prev=27,e.next=30,p(n,a,y,g);case 30:return x=e.sent,e.abrupt("return",o({},x,{fileHash:m}));case 34:return e.prev=34,e.t0=e.catch(27),d("获取pdf文档异常",e.t0),e.abrupt("return",{errcode:"err",description:"获取pdf文档失败"});case 38:case"end":return e.stop()}}),e,null,[[27,34]])})));return function(t){return e.apply(this,arguments)}}(),m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5;return new Promise((function(a){e.getPage(r).then((function(e){var r=e.getViewport({scale:n}),i=document.getElementById(t),o=i.getContext("2d"),s=parseInt(r.width),l=parseInt(r.height);i.height=l,i.width=s;var c={canvasContext:o,viewport:r};e.render(c).promise.then((function(e){a(e?{errcode:"err",description:"pdf处理异常"}:{errcode:"0000",description:"success"})}))}))}))},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(r){e.getPage(t).then((function(e){try{e.getTextContent().then((function(e){if(e){for(var t=[],n=2,a=0;a<e.items.length;a++)t.push(e.items[a].str);var i=t.join("");i.length>50&&-1!==i.indexOf("发票")&&(n=1),r({errcode:"0000",data:n})}else r({errcode:"50002",description:"获取pdf内容异常"})}))}catch(e){console&&console.warn("获取pdf内容异常",e),r({errcode:"50003",description:"获取pdf内容异常"})}})).catch((function(e){console&&console.warn("pdf处理异常",e),r({errcode:"50001",description:"pdf处理异常"})}))}))},b=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.5,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.95,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return new Promise((function(l){e.getPage(t).then((function(c){var u=c._pageInfo.view;if(u.length>3){var h=u[2]-u[0],p=u[3]-u[1];h>1300&&p>1300&&(r=1)}var g=c.getViewport({scale:r}),y=document.createElement("canvas"),m=y.getContext("2d"),_=parseInt(g.width*s),b=parseInt(g.height*s);y.height=b,y.width=_;var k={canvasContext:m,viewport:g};1!==s&&(k.transform=[s,0,0,s,0,0]);var x=c.render(k),A=t+"-"+e.filename.replace(/\.(pdf|PDF)$/,"")+".jpg",w={id:f(),pageNo:t,totalPages:e.numPages,name:A};x.promise.then((function(e){if(e)return v(c),void l({data:w,errcode:"err",description:"pdf转换异常"});var t=y.toDataURL("image/jpeg",a);if(i)return v(c),void l({errcode:"0000",data:o({},w,{width:_,height:b,base64:t})});var r=Object(n.base64ToFile)(t,A);if("0000"!==r.errcode)return v(c),void l({data:w,errcode:"50001",description:"pdf处理异常"});v(c),l({errcode:"0000",data:o({},w,{width:_,height:b,file:r.data,localUrl:window.URL.createObjectURL(r.data)})})})).catch((function(e){v(c),d("pdf处理异常",e),l({data:w,errcode:"50001",description:"pdf处理异常"})}))})).catch((function(e){d("pdf处理异常",e),l({errcode:"50001",description:"pdf处理异常"})}))}))},k=function(e){return new Promise((function(t){var r=new FileReader;r.readAsArrayBuffer(e),r.onload=function(){t(r.result)}}))},x=function(){var e=u(regeneratorRuntime.mark((function e(t,r){var n,a,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.canvasId,a=r.pageNo,i=r.scale,!((o=void 0===i?1.5:i)>3.5)){e.next=3;break}return e.abrupt("return",{errcode:"3001",description:"放大系数不能超过3.5"});case 3:return e.next=5,m(t,n,a,o);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),A=function(){var e=u(regeneratorRuntime.mark((function e(t,r){var n,a,i,s,l,c,h,f,p,v,g,y,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.onStepFinish,a=r.onFinish,i=r.scale,s=void 0===i?1.5:i,l=r.quality,c=void 0===l?.95:l,h=r.disabledToFile,f=r.viewportProportion,p=function(){var e=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof a){e.next=9;break}return e.prev=1,e.next=4,a(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),d("pdf转换为图片异常",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),!(s>3.5)){e.next=5;break}return p({errcode:"3001",description:"放大系数不能超过3.5"}),e.abrupt("return");case 5:v=t.numPages,g=1;case 7:if(!(g<=v)){e.next=24;break}return e.next=10,b(t,g,s,c,h,f);case 10:if(y=e.sent,"function"!=typeof n){e.next=21;break}return m=y.data||{},e.prev=13,e.next=16,n({errcode:y.errcode,data:o({},m,{pageNo:g,totalNum:v})});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(13),d("回调处理异常",e.t0);case 21:g++,e.next=7;break;case 24:p({errcode:"0000",data:{totalNum:v}});case 25:case"end":return e.stop()}}),e,null,[[13,18]])})));return function(t,r){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),a=r(105);t.baseExt=r(122),t.cookieHelp=r(104),t.cacheHelp=r(124),t.loadJs=r(125),t.urlHandler=r(126),t.tools=r(111),t.checkInvoiceType=r(127).checkInvoiceType,t.checkInvoiceTypeFull=r(127).checkInvoiceTypeFull,t.crossHttp=r(128).default,t.clientCheck=r(129).default,t.kdRequest=n.kdRequest,t.pwyFetch=a.pwyFetch,t.pwyRequest=a.kdRequest,t.paramJson=n.param},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kdRequest=t.param=t.prePath=void 0;var n,a=u(r(9)),i=u(r(12)),o=u(r(13)),s=u(r(84)),l=u(r(86)),c=(t.kdRequest=(n=(0,i.default)(a.default.mark((function e(t){var r,n,i,o=t.urlPre,u=void 0===o?"":o,p=t.method,v=void 0===p?"GET":p,g=t.url,y=void 0===g?"":g,m=t.data,_=void 0===m?"":m,b=(t.mode,t.timeout),k=void 0===b?6e4:b,x=(t.redirect,t.dataType),A=void 0===x?"json":x,w=t.credentials,S=void 0===w?"include":w,C=(t.handlerError,t.headers),P=void 0===C?{"Content-Type":"application/json"}:C;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^http/.test(y)||(y=u+y),(r=(0,c.getCookie)("csrfToken"))||(r=sessionStorage.getItem("csrfToken")),y=-1===y.indexOf("?")?y+"?_csrf="+r:y+"&_csrf="+r,r)try{P["x-csrf-token"]=r,(0,c.setCookie)("csrfToken",r,1800)}catch(e){(0,c.setCookie)("csrfToken",r,1800)}if(!window.fetch){e.next=18;break}return e.next=8,d({url:y,data:_,dataType:A,headers:P,method:v});case 8:if(200===(n=e.sent).status){e.next=13;break}return e.abrupt("return",{errcode:"5000",description:"请求出错("+n.status+")"});case 13:return e.next=15,n.text().then((function(e){if("json"!==A)return e;try{return e=JSON.parse(e)}catch(t){return{errcode:"jsonErr",description:"返回数据格式异常",data:e}}})).catch((function(e){return{errcode:"serverErr",description:e}}));case 15:return e.abrupt("return",e.sent);case 16:e.next=23;break;case 18:return"GET"===v?_=h(_):"object"===(void 0===_?"undefined":(0,l.default)(_))&&"json"===A&&(_=(0,s.default)(_)),e.next=21,f({method:v,url:y,data:_,timeout:k,credentials:S,headers:P});case 21:return i=e.sent,e.abrupt("return",i);case 23:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)}),r(104));function u(e){return e&&e.__esModule?e:{default:e}}t.prePath="/";var h=t.param=function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){return e}var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+"="+encodeURIComponent(e[r]));return t.join("&")},d=function(e){var t=e.method,r=void 0===t?"GET":t,n=e.url,a=void 0===n?"":n,i=e.data,o=void 0===i?"":i,c=e.mode,u=void 0===c?"cors":c,d=(e.timeout,e.redirect),f=void 0===d?"follow":d,p=e.dataType,v=void 0===p?"json":p,g=e.credentials,y=void 0===g?"include":g,m=e.headers,_=void 0===m?{"Content-Type":"application/json"}:m,b={method:r,mode:u,credentials:y,redirect:f};return"GET"===r?o=h(o):"object"===(void 0===o?"undefined":(0,l.default)(o))&&"json"===v&&(o=(0,s.default)(o)),"GET"===r?-1===a.indexOf("?")?a+="?"+o:a+="&"+o:"POST"===r&&(b.body=o),"json"===v&&(b.headers=_),fetch(a,b)};function f(e){var t=e.method,r=void 0===t?"GET":t,n=e.url,a=void 0===n?"":n,i=e.data,s=void 0===i?"":i,l=e.timeout,c=void 0===l?6e4:l,u=(e.credentials,e.contentType),h=e.headers;e.success;return u=h["Content-Type"]||"application/json;charset=UTF-8",new o.default((function(e,t){var n=void 0;XMLHttpRequest&&(n=new XMLHttpRequest),n||"undefined"==typeof XDomainRequest||(n=new XDomainRequest);try{n.timeout=c}catch(e){console.warn("设置超时时间异常")}if(n.ontimeout=function(){e({errcode:"timeoutErr",description:"请求超时！"})},u)try{n.contentType=u}catch(e){console.warn("设置contentType异常")}n.onload=function(){if(4===n.readyState){var t=n.status;if(200===t){var r=n.responseText;try{r=JSON.parse(r),e(r)}catch(t){e({errcode:"innerErr",description:"返回数据出错！"})}}else e({errcode:"requestErr",description:"请求出错"+t})}},n.onerror=function(t){e({errcode:"requestErr",description:"请求异常"})},n.open(r,a,!0);try{n.setRequestHeader("Content-Type",u),h["x-csrf-token"]&&n.setRequestHeader("x-csrf-token",h["x-csrf-token"])}catch(e){}n.send(s)}))}},function(e,t,r){e.exports=r(10)},function(e,t,r){var n=function(){return this}()||Function("return this")(),a=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(11),a)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var r,n=Object.prototype,a=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag",c="object"==typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=b;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",v={},g={};g[o]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==n&&a.call(m,o)&&(g=m);var _=w.prototype=x.prototype=Object.create(g);A.prototype=_.constructor=w,w.constructor=A,w[l]=A.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(_),e},u.awrap=function(e){return{__await:e}},S(C.prototype),C.prototype[s]=function(){return this},u.AsyncIterator=C,u.async=function(e,t,r,n){var a=new C(b(e,t,r,n));return u.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(_),_[l]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},u.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=r),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;T(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function b(e,t,r,n){var a=t&&t.prototype instanceof x?t:x,i=Object.create(a.prototype),o=new E(n||[]);return i._invoke=function(e,t,r){var n=h;return function(a,i){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===a)throw i;return F()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=P(o,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var l=k(e,t,r);if("normal"===l.type){if(n=r.done?p:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=p,r.method="throw",r.arg=l.arg)}}}(e,r,o),i}function k(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function x(){}function A(){}function w(){}function S(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function C(e){var t;this._invoke=function(r,n){function i(){return new Promise((function(t,i){!function t(r,n,i,o){var s=k(e[r],e,n);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(c).then((function(e){l.value=e,i(l)}),o)}o(s.arg)}(r,n,t,i)}))}return t=t?t.then(i,i):i()}}function P(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,P(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=k(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,v;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:F}}function F(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(13),i=(n=a)&&n.__esModule?n:{default:n};t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default((function(e,r){return function n(a,o){try{var s=t[a](o),l=s.value}catch(e){return void r(e)}if(!s.done)return i.default.resolve(l).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(l)}("next")}))}}},function(e,t,r){e.exports={default:r(14),__esModule:!0}},function(e,t,r){r(15),r(16),r(60),r(64),r(82),r(83),e.exports=r(24).Promise},function(e,t){},function(e,t,r){"use strict";var n=r(17)(!0);r(20)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t,r){var n=r(18),a=r(19);e.exports=function(e){return function(t,r){var i,o,s=String(a(t)),l=n(r),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):i:e?s.slice(l,l+2):o-56320+(i-55296<<10)+65536}}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){"use strict";var n=r(21),a=r(22),i=r(38),o=r(27),s=r(39),l=r(40),c=r(56),u=r(58),h=r(57)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,p,v,g,y){l(r,t,p);var m,_,b,k=function(e){if(!d&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},x=t+" Iterator",A="values"==v,w=!1,S=e.prototype,C=S[h]||S["@@iterator"]||v&&S[v],P=C||k(v),R=v?A?k("entries"):P:void 0,T="Array"==t&&S.entries||C;if(T&&(b=u(T.call(new e)))!==Object.prototype&&b.next&&(c(b,x,!0),n||"function"==typeof b[h]||o(b,h,f)),A&&C&&"values"!==C.name&&(w=!0,P=function(){return C.call(this)}),n&&!y||!d&&!w&&S[h]||o(S,h,P),s[t]=P,s[x]=f,v)if(m={values:A?P:k("values"),keys:g?P:k("keys"),entries:R},y)for(_ in m)_ in S||i(S,_,m[_]);else a(a.P+a.F*(d||w),t,m);return m}},function(e,t){e.exports=!0},function(e,t,r){var n=r(23),a=r(24),i=r(25),o=r(27),s=r(37),l=function(e,t,r){var c,u,h,d=e&l.F,f=e&l.G,p=e&l.S,v=e&l.P,g=e&l.B,y=e&l.W,m=f?a:a[t]||(a[t]={}),_=m.prototype,b=f?n:p?n[t]:(n[t]||{}).prototype;for(c in f&&(r=t),r)(u=!d&&b&&void 0!==b[c])&&s(m,c)||(h=u?b[c]:r[c],m[c]=f&&"function"!=typeof b[c]?r[c]:g&&u?i(h,n):y&&b[c]==h?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(h):v&&"function"==typeof h?i(Function.call,h):h,v&&((m.virtual||(m.virtual={}))[c]=h,e&l.R&&_&&!_[c]&&o(_,c,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){var r=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(26);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(28),a=r(36);e.exports=r(32)?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(29),a=r(31),i=r(35),o=Object.defineProperty;t.f=r(32)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),a)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(30);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){e.exports=!r(32)&&!r(33)((function(){return 7!=Object.defineProperty(r(34)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){e.exports=!r(33)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(30),a=r(23).document,i=n(a)&&n(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t,r){var n=r(30);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){e.exports=r(27)},function(e,t){e.exports={}},function(e,t,r){"use strict";var n=r(41),a=r(36),i=r(56),o={};r(27)(o,r(57)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(o,{next:a(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(29),a=r(42),i=r(54),o=r(51)("IE_PROTO"),s=function(){},l=function(){var e,t=r(34)("iframe"),n=i.length;for(t.style.display="none",r(55).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[i[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[o]=e):r=l(),void 0===t?r:a(r,t)}},function(e,t,r){var n=r(28),a=r(29),i=r(43);e.exports=r(32)?Object.defineProperties:function(e,t){a(e);for(var r,o=i(t),s=o.length,l=0;s>l;)n.f(e,r=o[l++],t[r]);return e}},function(e,t,r){var n=r(44),a=r(54);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t,r){var n=r(37),a=r(45),i=r(48)(!1),o=r(51)("IE_PROTO");e.exports=function(e,t){var r,s=a(e),l=0,c=[];for(r in s)r!=o&&n(s,r)&&c.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~i(c,r)||c.push(r));return c}},function(e,t,r){var n=r(46),a=r(19);e.exports=function(e){return n(a(e))}},function(e,t,r){var n=r(47);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(45),a=r(49),i=r(50);e.exports=function(e){return function(t,r,o){var s,l=n(t),c=a(l.length),u=i(o,c);if(e&&r!=r){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){var n=r(18),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t,r){var n=r(18),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):i(e,t)}},function(e,t,r){var n=r(52)("keys"),a=r(53);e.exports=function(e){return n[e]||(n[e]=a(e))}},function(e,t,r){var n=r(24),a=r(23),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(21)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(23).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(28).f,a=r(37),i=r(57)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(52)("wks"),a=r(53),i=r(23).Symbol,o="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=n},function(e,t,r){var n=r(37),a=r(59),i=r(51)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){var n=r(19);e.exports=function(e){return Object(n(e))}},function(e,t,r){r(61);for(var n=r(23),a=r(27),i=r(39),o=r(57)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=n[c],h=u&&u.prototype;h&&!h[o]&&a(h,o,c),i[c]=i.Array}},function(e,t,r){"use strict";var n=r(62),a=r(63),i=r(39),o=r(45);e.exports=r(20)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n,a,i,o,s=r(21),l=r(23),c=r(25),u=r(65),h=r(22),d=r(30),f=r(26),p=r(66),v=r(67),g=r(71),y=r(72).set,m=r(74)(),_=r(75),b=r(76),k=r(77),x=r(78),A=l.TypeError,w=l.process,S=w&&w.versions,C=S&&S.v8||"",P=l.Promise,R="process"==u(w),T=function(){},E=a=_.f,O=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[r(57)("species")]=function(e){e(T,T)};return(R||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t&&0!==C.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(e){}}(),F=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var r=e._c;m((function(){for(var n=e._v,a=1==e._s,i=0,o=function(t){var r,i,o,s=a?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(a||(2==e._h&&D(e),e._h=1),!0===s?r=n:(u&&u.enter(),r=s(n),u&&(u.exit(),o=!0)),r===t.promise?c(A("Promise-chain cycle")):(i=F(r))?i.call(r,l,c):l(r)):c(n)}catch(e){u&&!o&&u.exit(),c(e)}};r.length>i;)o(r[i++]);e._c=[],e._n=!1,t&&!e._h&&M(e)}))}},M=function(e){y.call(l,(function(){var t,r,n,a=e._v,i=L(e);if(i&&(t=b((function(){R?w.emit("unhandledRejection",a,e):(r=l.onunhandledrejection)?r({promise:e,reason:a}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",a)})),e._h=R||L(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){y.call(l,(function(){var t;R?w.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},N=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw A("Promise can't be resolved itself");(t=F(e))?m((function(){var n={_w:r,_d:!1};try{t.call(e,c(N,n,1),c(j,n,1))}catch(e){j.call(n,e)}})):(r._v=e,r._s=1,I(r,!1))}catch(e){j.call({_w:r,_d:!1},e)}}};O||(P=function(e){p(this,P,"Promise","_h"),f(e),n.call(this);try{e(c(N,this,1),c(j,this,1))}catch(e){j.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(79)(P.prototype,{then:function(e,t){var r=E(g(this,P));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=R?w.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&I(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=c(N,e,1),this.reject=c(j,e,1)},_.f=E=function(e){return e===P||e===o?new i(e):a(e)}),h(h.G+h.W+h.F*!O,{Promise:P}),r(56)(P,"Promise"),r(80)("Promise"),o=r(24).Promise,h(h.S+h.F*!O,"Promise",{reject:function(e){var t=E(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(s||!O),"Promise",{resolve:function(e){return x(s&&this===o?P:this,e)}}),h(h.S+h.F*!(O&&r(81)((function(e){P.all(e).catch(T)}))),"Promise",{all:function(e){var t=this,r=E(t),n=r.resolve,a=r.reject,i=b((function(){var r=[],i=0,o=1;v(e,!1,(function(e){var s=i++,l=!1;r.push(void 0),o++,t.resolve(e).then((function(e){l||(l=!0,r[s]=e,--o||n(r))}),a)})),--o||n(r)}));return i.e&&a(i.v),r.promise},race:function(e){var t=this,r=E(t),n=r.reject,a=b((function(){v(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return a.e&&n(a.v),r.promise}})},function(e,t,r){var n=r(47),a=r(57)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:i?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(25),a=r(68),i=r(69),o=r(29),s=r(49),l=r(70),c={},u={};(t=e.exports=function(e,t,r,h,d){var f,p,v,g,y=d?function(){return e}:l(e),m=n(r,h,t?2:1),_=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(f=s(e.length);f>_;_++)if((g=t?m(o(p=e[_])[0],p[1]):m(e[_]))===c||g===u)return g}else for(v=y.call(e);!(p=v.next()).done;)if((g=a(v,m,p.value,t))===c||g===u)return g}).BREAK=c,t.RETURN=u},function(e,t,r){var n=r(29);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(39),a=r(57)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[a]===e)}},function(e,t,r){var n=r(65),a=r(57)("iterator"),i=r(39);e.exports=r(24).getIteratorMethod=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(29),a=r(26),i=r(57)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[i])?t:a(r)}},function(e,t,r){var n,a,i,o=r(25),s=r(73),l=r(55),c=r(34),u=r(23),h=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,v=u.Dispatch,g=0,y={},m=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},_=function(e){m.call(e.data)};d&&f||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++g]=function(){s("function"==typeof e?e:Function(e),t)},n(g),g},f=function(e){delete y[e]},"process"==r(47)(h)?n=function(e){h.nextTick(o(m,e,1))}:v&&v.now?n=function(e){v.now(o(m,e,1))}:p?(i=(a=new p).port2,a.port1.onmessage=_,n=o(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(e){u.postMessage(e+"","*")},u.addEventListener("message",_,!1)):n="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),m.call(e)}}:function(e){setTimeout(o(m,e,1),0)}),e.exports={set:d,clear:f}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(23),a=r(72).set,i=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,l="process"==r(47)(o);e.exports=function(){var e,t,r,c=function(){var n,a;for(l&&(n=o.domain)&&n.exit();e;){a=e.fn,e=e.next;try{a()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(l)r=function(){o.nextTick(c)};else if(!i||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);r=function(){u.then(c)}}else r=function(){a.call(n,c)};else{var h=!0,d=document.createTextNode("");new i(c).observe(d,{characterData:!0}),r=function(){d.data=h=!h}}return function(n){var a={fn:n,next:void 0};t&&(t.next=a),e||(e=a,r()),t=a}}},function(e,t,r){"use strict";var n=r(26);function a(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new a(e)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(23).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){var n=r(29),a=r(30),i=r(75);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=r(27);e.exports=function(e,t,r){for(var a in t)r&&e[a]?e[a]=t[a]:n(e,a,t[a]);return e}},function(e,t,r){"use strict";var n=r(23),a=r(24),i=r(28),o=r(32),s=r(57)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:n[e];o&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(57)("iterator"),a=!1;try{var i=[7][n]();i.return=function(){a=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i=[7],o=i[n]();o.next=function(){return{done:r=!0}},i[n]=function(){return o},e(i)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(22),a=r(24),i=r(23),o=r(71),s=r(78);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,a.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then((function(){return r}))}:e,r?function(r){return s(t,e()).then((function(){throw r}))}:e)}})},function(e,t,r){"use strict";var n=r(22),a=r(75),i=r(76);n(n.S,"Promise",{try:function(e){var t=a.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){e.exports={default:r(85),__esModule:!0}},function(e,t,r){var n=r(24),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},function(e,t,r){"use strict";t.__esModule=!0;var n=o(r(87)),a=o(r(90)),i="function"==typeof a.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof a.default&&"symbol"===i(n.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,r){e.exports={default:r(88),__esModule:!0}},function(e,t,r){r(16),r(60),e.exports=r(89).f("iterator")},function(e,t,r){t.f=r(57)},function(e,t,r){e.exports={default:r(91),__esModule:!0}},function(e,t,r){r(92),r(15),r(102),r(103),e.exports=r(24).Symbol},function(e,t,r){"use strict";var n=r(23),a=r(37),i=r(32),o=r(22),s=r(38),l=r(93).KEY,c=r(33),u=r(52),h=r(56),d=r(53),f=r(57),p=r(89),v=r(94),g=r(95),y=r(98),m=r(29),_=r(30),b=r(59),k=r(45),x=r(35),A=r(36),w=r(41),S=r(99),C=r(101),P=r(96),R=r(28),T=r(43),E=C.f,O=R.f,F=S.f,I=n.Symbol,M=n.JSON,L=M&&M.stringify,D=f("_hidden"),j=f("toPrimitive"),N={}.propertyIsEnumerable,B=u("symbol-registry"),U=u("symbols"),q=u("op-symbols"),W=Object.prototype,H="function"==typeof I&&!!P.f,G=n.QObject,z=!G||!G.prototype||!G.prototype.findChild,V=i&&c((function(){return 7!=w(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=E(W,t);n&&delete W[t],O(e,t,r),n&&e!==W&&O(W,t,n)}:O,Y=function(e){var t=U[e]=w(I.prototype);return t._k=e,t},X=H&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},K=function(e,t,r){return e===W&&K(q,t,r),m(e),t=x(t,!0),m(r),a(U,t)?(r.enumerable?(a(e,D)&&e[D][t]&&(e[D][t]=!1),r=w(r,{enumerable:A(0,!1)})):(a(e,D)||O(e,D,A(1,{})),e[D][t]=!0),V(e,t,r)):O(e,t,r)},J=function(e,t){m(e);for(var r,n=g(t=k(t)),a=0,i=n.length;i>a;)K(e,r=n[a++],t[r]);return e},Q=function(e){var t=N.call(this,e=x(e,!0));return!(this===W&&a(U,e)&&!a(q,e))&&(!(t||!a(this,e)||!a(U,e)||a(this,D)&&this[D][e])||t)},$=function(e,t){if(e=k(e),t=x(t,!0),e!==W||!a(U,t)||a(q,t)){var r=E(e,t);return!r||!a(U,t)||a(e,D)&&e[D][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=F(k(e)),n=[],i=0;r.length>i;)a(U,t=r[i++])||t==D||t==l||n.push(t);return n},ee=function(e){for(var t,r=e===W,n=F(r?q:k(e)),i=[],o=0;n.length>o;)!a(U,t=n[o++])||r&&!a(W,t)||i.push(U[t]);return i};H||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===W&&t.call(q,r),a(this,D)&&a(this[D],e)&&(this[D][e]=!1),V(this,e,A(1,r))};return i&&z&&V(W,e,{configurable:!0,set:t}),Y(e)}).prototype,"toString",(function(){return this._k})),C.f=$,R.f=K,r(100).f=S.f=Z,r(97).f=Q,P.f=ee,i&&!r(21)&&s(W,"propertyIsEnumerable",Q,!0),p.f=function(e){return Y(f(e))}),o(o.G+o.W+o.F*!H,{Symbol:I});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)f(te[re++]);for(var ne=T(f.store),ae=0;ne.length>ae;)v(ne[ae++]);o(o.S+o.F*!H,"Symbol",{for:function(e){return a(B,e+="")?B[e]:B[e]=I(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!H,"Object",{create:function(e,t){return void 0===t?w(e):J(w(e),t)},defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ie=c((function(){P.f(1)}));o(o.S+o.F*ie,"Object",{getOwnPropertySymbols:function(e){return P.f(b(e))}}),M&&o(o.S+o.F*(!H||c((function(){var e=I();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],a=1;arguments.length>a;)n.push(arguments[a++]);if(r=t=n[1],(_(t)||void 0!==e)&&!X(e))return y(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!X(t))return t}),n[1]=t,L.apply(M,n)}}),I.prototype[j]||r(27)(I.prototype,j,I.prototype.valueOf),h(I,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(e,t,r){var n=r(53)("meta"),a=r(30),i=r(37),o=r(28).f,s=0,l=Object.isExtensible||function(){return!0},c=!r(33)((function(){return l(Object.preventExtensions({}))})),u=function(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return c&&h.NEED&&l(e)&&!i(e,n)&&u(e),e}}},function(e,t,r){var n=r(23),a=r(24),i=r(21),o=r(89),s=r(28).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,r){var n=r(43),a=r(96),i=r(97);e.exports=function(e){var t=n(e),r=a.f;if(r)for(var o,s=r(e),l=i.f,c=0;s.length>c;)l.call(e,o=s[c++])&&t.push(o);return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(47);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(45),a=r(100).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(n(e))}},function(e,t,r){var n=r(44),a=r(54).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},function(e,t,r){var n=r(97),a=r(36),i=r(45),o=r(35),s=r(37),l=r(31),c=Object.getOwnPropertyDescriptor;t.f=r(32)?c:function(e,t){if(e=i(e),t=o(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return a(!n.f.call(e,t),e[t])}},function(e,t,r){r(94)("asyncIterator")},function(e,t,r){r(94)("observable")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getCookie=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var a=r[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return unescape(a.substring(t.length,a.length))}return""},t.clearCookie=function(e){n(e,"",-1)};var n=t.setCookie=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a="";if(0!==(r=r||0)){var i=new Date;i.setTime(i.getTime()+1e3*r),a="; expires="+i.toGMTString(),n&&(a+="; "+n)}document.cookie=e+"="+escape(t)+a+"; path=/"};t.clearAllCookie=function(){for(var e=document.cookie.split("; "),t=0,r=e.length;t<r;t++){var a=e[t].split("=");a.length>0&&n(a[0],"",-1)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kdRequest=t.pwyFetch=t.errcodeInfo=void 0;var n,a=f(r(84)),i=f(r(86)),o=f(r(9)),s=f(r(12)),l=f(r(106)),c=f(r(13)),u=(t.kdRequest=(n=(0,s.default)(o.default.mark((function e(t){var r=t.method,n=void 0===r?"GET":r,a=t.url,i=void 0===a?"":a,s=t.data,l=void 0===s?{}:s,c=t.timeout,u=void 0===c?9e4:c,h=t.dataType,d=void 0===h?"json":h,f=t.headers,p=void 0===f?{"Content-Type":"application/json"}:f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(i,{body:l,headers:p,timeout:u,dataType:d,method:n.toUpperCase()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)}),r(104)),h=r(8),d=r(111);function f(e){return e&&e.__esModule?e:{default:e}}var p,v,g,y=t.errcodeInfo={gatewayTimeout:{errcode:"gatewayTimeout",description:"网关超时，请稍后再试!"},serverErr:{errcode:"serverErr",description:"服务端异常, 请稍后再试！"},requestErr:{errcode:"requestErr",description:"请求错误, 请检查网络或参数！"},timeoutErr:{errcode:"timeoutErr",description:"请求超时, 请检查网络是否正常！"}},m=function(e,t){return new c.default((function(r){var n=t||{},a=n.dataType,i=void 0===a?"json":a,o=n.method,s=n.headers,c=void 0===s?{}:s,u=n.mode,h=void 0===u?"cors":u,f=n.credentials,p=void 0===f?"include":f,v=n.redirect,g=void 0===v?"follow":v,m=n.body,_=n.onResponseProgress,b=n.callback,k={method:o,mode:h,credentials:p,redirect:g},x=function(e){"function"==typeof b?b(e):r(e)},A=o.toUpperCase();"json"!==i&&"text"!==i||(k.dataType="text"),k.headers=c,"GET"!==A&&(k.body=m),fetch(e,k).then((function(e){if(504===e.status)x(y.gatewayTimeout);else if(500===e.status)x(y.serverErr);else if(400===e.status||404===e.status)x(y.requestErr);else{var t=function(e){var t=void 0;if("json"===i){try{t=JSON.parse(e)}catch(e){(0,d.consoleLog)(e),t=(0,l.default)({},y.serverErr)}x(t)}else x(e)};if("function"==typeof _&&"function"==typeof TextDecoder){var r=e.body.getReader(),n=new TextDecoder,a=0,o="",s=e.headers.get("content-length");return s=parseInt(s),r.read().then((function e(i){return i.done?(_(a,s),void t(o)):(a+=i.value.length,o+=n.decode(i.value),_(a,s),r.read().then(e))}))}e.text().then((function(e){t(e)})).catch((function(e){(0,d.consoleLog)(e),x(y.requestErr)}))}})).catch((function(e){(0,d.consoleLog)(e),x(y.requestErr)}))}))},_=(p=(0,s.default)(o.default.mark((function e(t,r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.race([m(t,r),new c.default((function(e){setTimeout((function(){var t=(0,l.default)({},y.timeoutErr);"function"==typeof r.callback?r.callback(t):e(t)}),r.timeout||9e4)}))]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t){return p.apply(this,arguments)}),b=function(e,t){return new c.default((function(r){var n=new window.XMLHttpRequest,a=t.method,i=void 0===a?"GET":a,o=t.body,s=void 0===o?null:o,c=t.dataType,u=void 0===c?"json":c,h=t.headers,f=t.callback,p=t.onRequestProgress,v=t.onResponseProgress,g=t.onProgress,m=function(e){"function"==typeof f?f(e):r(e)},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("function"==typeof g)try{g(n.readyState,n.status,e,t)}catch(e){(0,d.consoleLog)(e)}};_(),n.open(i,e,!0),_(),n.ontimeout=function(){m(y.timeoutErr),_()},"function"!=typeof p&&"function"!=typeof g||(n.upload.onprogress=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof p)try{p(e.loaded,e.total)}catch(e){(0,d.consoleLog)(e)}_(e.loaded,e.total)}),"function"!=typeof v&&"function"!=typeof g||(n.onprogress=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof v)try{v(e.loaded,e.total)}catch(e){(0,d.consoleLog)(e)}_(e.loaded,e.total)}),n.onreadystatechange=function(){_();var e=n.readyState,t=n.status;if(4===e&&200===t){var r=n.responseText,a=void 0;if("json"===u){try{a=JSON.parse(r)}catch(e){(0,d.consoleLog)(e),a=(0,l.default)({},y.serverErr)}m(a)}else console&&console.warn("xhr onreadystatechange resText",r),m(r);n=null}},n.onerror=function(e){(0,d.consoleLog)("xhr error: ",e),m(y.requestErr),_()},h&&h["Content-Type"]&&n.setRequestHeader("Content-Type",h["Content-Type"]),h&&h["x-csrf-token"]&&n.setRequestHeader("x-csrf-token",h["x-csrf-token"]),"json"===u&&(n.responseType="text"),n.timeout=t.timeout||9e4,"post"===i.toLowerCase()?n.send(s):n.send(null),_()}))},k=(v=(0,s.default)(o.default.mark((function e(t,r){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new c.default((function(e){var n=new window.XDomainRequest,a=r.method,i=void 0===a?"GET":a,o=r.body,s=void 0===o?null:o,c=r.callback,u=r.dataType,h=void 0===u?"json":u,f=function(t){"function"==typeof c?c(t):e(t)};n.open(i,t),n.ontimeout=function(){f(y.timeoutErr)},n.onerror=function(e){(0,d.consoleLog)(e),f(y.requestErr)},n.onload=function(){var e=xhr.responseText,t=void 0;if("json"===h){try{t=JSON.parse(e)}catch(e){(0,d.consoleLog)(e),t=(0,l.default)({},y.serverErr)}f(t)}else f(e)},"post"===i.toLowerCase()?n.send(s):n.send(null)})),e.next=3,c.default.race([n,new c.default((function(e){setTimeout((function(){var t=(0,l.default)({},y.timeoutErr);"function"==typeof callback?callback(t):e(t)}),r.timeout||9e4)}))]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)}),x=t.pwyFetch=(g=(0,s.default)(o.default.mark((function e(t,r){var n,s,c,d,f,p,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.method||"GET",s=r.data||r.body,c=r.headers||{},d=n.toUpperCase(),"json"===(f=r.contentType||"json")&&(c["Content-Type"]="application/json; charset=UTF-8"),(p=(0,u.getCookie)("csrfToken"))||(p=sessionStorage.getItem("csrfToken")),t=-1===t.indexOf("?")?t+"?_csrf="+p:t+"&_csrf="+p,p)try{c["x-csrf-token"]=p,(0,u.setCookie)("csrfToken",p,1800)}catch(e){(0,u.setCookie)("csrfToken",p,1800)}if(r=(0,l.default)({},r,{headers:c,body:s}),"GET"===d&&(void 0!==r.disabledCache&&!1!==r.disabledCache||(t=-1===t.indexOf("?")?t+"?random="+Math.random():t+"&random="+Math.random()),s&&"object"===(void 0===s?"undefined":(0,i.default)(s))&&(s=(0,h.param)(s,!0))&&(t+="&"+s)),"POST"===d&&s&&"object"===(void 0===s?"undefined":(0,i.default)(s))&&"json"===f&&(r=(0,l.default)({},r,{body:(0,a.default)(s)})),v=void 0,!window.fetch||r.onRequestProgress||r.disabledFetch||r.onProgress){e.next=18;break}v=_(t,r),e.next=28;break;case 18:if(!window.XMLHttpRequest){e.next=24;break}return e.next=21,b(t,r);case 21:v=e.sent,e.next=28;break;case 24:if(!window.XDomainRequest){e.next=28;break}return e.next=27,k(t,r);case 27:v=e.sent;case 28:return e.abrupt("return",v);case 29:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(107),i=(n=a)&&n.__esModule?n:{default:n};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){e.exports={default:r(108),__esModule:!0}},function(e,t,r){r(109),e.exports=r(24).Object.assign},function(e,t,r){var n=r(22);n(n.S+n.F,"Object",{assign:r(110)})},function(e,t,r){"use strict";var n=r(32),a=r(43),i=r(96),o=r(97),s=r(59),l=r(46),c=Object.assign;e.exports=!c||r(33)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||Object.keys(c({},t)).join("")!=n}))?function(e,t){for(var r=s(e),c=arguments.length,u=1,h=i.f,d=o.f;c>u;)for(var f,p=l(arguments[u++]),v=h?a(p).concat(h(p)):a(p),g=v.length,y=0;g>y;)f=v[y++],n&&!d.call(p,f)||(r[f]=p[f]);return r}:c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readAsBinaryString=t.getInvoiceErrInfo=t.isInVisualArea=t.consoleLog=t.getUUId=t.downloadFile=t.blobToFile=t.getInvoiceQrInfoNew=t.getInvoiceQrInfo=t.checkInvoiceTin=t.checkInvoiceTitle=t.getInvoiceTypeName=void 0;var n=u(r(13)),a=u(r(86)),i=u(r(84)),o=u(r(112)),s=u(r(107)),l=r(8),c=r(104);function u(e){return e&&e.__esModule?e:{default:e}}var h=r(116).invoiceTypes.INPUT_INVOICE_TYPES_DICT;t.getInvoiceTypeName=function(e){return{k1:"普通电子发票",k2:"电子发票专票",k3:"普通纸质发票",k4:"专用纸质发票",k5:"普通纸质卷式发票",k7:"通用机打票",k8:"的士票",k9:"火车票",k10:"飞机票",k11:"其他票",k12:"机动车发票",k13:"二手车发票",k14:"定额发票",k15:"通行费电子发票",k16:"客运发票",k17:"过路过桥费"}["k"+e]||"--"},t.checkInvoiceTitle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"simple",a=[1,3,4,5,15],i=/[^A-Za-z0-9\u4e00-\u9fa5]/g;return-1===a.indexOf(parseInt(e))?3:(t=t.replace(i,"").trim(),r=r.replace(i,"").trim(),"strict"===n?t===r?1:2:"simple"===n?t.length<6||t===r?1:2:void 0)},t.checkInvoiceTin=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"simple",i=[1,3,4,5,15],o=/[^A-Za-z0-9\u4e00-\u9fa5]/g;return-1===i.indexOf(parseInt(e))?3:"strict"===a?t===r?1:2:"simple"===a?(n=n.replace(o,"").trim()).length<6||t===r?1:2:void 0},t.getInvoiceQrInfo=function(e){var t=e.replace(/[，]/g,",").split(",");try{var r=t[2],n=t[3],a=t[5],i=t[4],o=t[6].substr(-6);return!!(r&&n&&a)&&{fpdm:r,fphm:n,kprq:a,amount:i,jym:o}}catch(e){return!1}};t.getInvoiceQrInfoNew=function(e){if(e.indexOf("https")>-1&&e.indexOf("?")){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof(e=e.replace("?","&"))&&e?e.split("&").reduce((function(e,t){var r=t.split("=");return(0,s.default)((0,o.default)({},r[0],r[1]),e)}),{}):e}(e),r=t.bill_num,n=void 0===r?"":r,a=t.total_amount,i=void 0===a?"":a,l=t.hash,c=void 0===l?"":l;return""!=n&&""!=i&&""!=c?{errcode:"0000",qrcodeType:"web",data:{bill_num:n,total_amount:i,hash:c},description:"成功"}:{errcode:"fail",qrcodeType:"web",description:"请扫描发票（电，普，专）"}}var u=e.replace(/[，]/g,",").split(",");try{var h=u[6].indexOf("20"),d=u[2],f=u[3];if(8==u[6].length&&0==h)return{errcode:"0000",qrcodeType:"string",data:{fpdm:d,fphm:f,kprq:u[6],amount:u[5],jym:u[7].substr(-5)},description:"成功"};var p=u[5],v=u[4],g=u[6].substr(-6);if(d&&f&&p){if(""==v&&""==g)return{errcode:"fail",description:"请扫描发票（电，普，专）"};var y=function(e){var t=e.substr(e.length-3),r=e.substr(e.length-2),n=e.substr(0,1),a=e.substr(7,1),i=e.substr(5,1);if("10"==e.length)return"130"===t||"140"===t||"160"===t||"170"===t?4:3;if(12==e.length){if("0"==n&&"12"==r)return 15;if("0"==n&&"11"==r)return 1;if("0"==n&&"06"==r)return 5;if("0"==n&&"07"==r)return 5;if("0"==n&&"17"==r)return 13;if(("1"==i||"2"==i)&&"2"==a)return 12;if("0"==n&&"13"==r)return 2}return 3}(d);return"-1"==[1,2,3,4,15].indexOf(y)?{errcode:"fail",description:"请扫描发票（电，普，专）"}:{errcode:"0000",qrcodeType:"string",data:{fpdm:d,fphm:f,kprq:p,amount:v,jym:g},description:"成功"}}return{errcode:"fail",qrcodeType:"string",description:"请扫描发票（电，普，专）"}}catch(e){return{errcode:"fail",description:"请扫描发票（电，普，专）"}}},t.blobToFile=function(e,t){var r=t.split("."),n=r[r.length-1],a="image/jpeg";return a="png"===n?"image/png":"bmp"===n?"image/bmp":"jpg"===n?"image/jpeg":"pdf"===n?"application/pdf":"application/octet-stream",!(!window.File||"function"!=typeof window.File)&&new window.File([e],t,{type:a})},t.downloadFile=function(e){var t=e.url,r=e.key,n=void 0===r?"downloadParams":r,o=e.data,s=void 0===o?{}:o,u=e.method,h=void 0===u?"POST":u,d=e.startCallback,f=e.endCallback,p=e.downloadType,v=void 0===p?"form":p,g=e.timeout,y=void 0===g?6e4:g;if(window.XMLHttpRequest&&window.Blob&&window.FileReader&&"xhr"===v)!function(e){var t=e.url,r=e.key,n=void 0===r?"downloadParams":r,a=e.data,o=void 0===a?{}:a,s=e.method,u=void 0===s?"POST":s,h=e.startCallback,d=e.endCallback,f=e.timeout,p=void 0===f?6e4:f;u=u.toLocaleLowerCase(),h();var v=function(e){(0,c.clearCookie)("downloadResult"),"function"==typeof d&&d(e)},g=new window.XMLHttpRequest;if("get"===u&&(t+="?"+(0,l.param)(o)),g.open(u,t,!0),g.responseType="blob",g.setRequestHeader("Content-Type","application/json"),g.timeout=p,g.onerror=function(){v({errcode:"5000",description:"服务端异常，请稍后再试"})},g.ontimeout=function(){v({errcode:"5004",description:"请求超时，请稍后再试"})},g.onload=function(){if(200===g.status){var e=g.response,t=g.getResponseHeader("Content-Type");if(-1!==t.indexOf("text/html"))v({errcode:"5000",description:"服务端异常，请稍后再试"});else if(-1!==t.indexOf("application/json")){var r=new window.FileReader;r.onload=function(){var e=r.result;try{e=JSON.parse(e)}catch(t){e={errcode:"5000",description:"服务端异常，请稍后再试"},console.error(t)}v(e)},r.readAsText(e)}else{for(var n=g.getResponseHeader("Content-Disposition").replace(/\s/g,"").split(";"),a={},i=0,o=n.length;i<o;i++){var s=n[i].split("="),l="";s[1]&&(l=s[1].replace(/^"/,"").replace(/"$/,"")),a[s[0]]=l}var c=a["filename*"]||a.filename||"file";if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(new Blob([e]),c);else{var u=document.createElement("a");u.download=decodeURIComponent(c),u.style.display="none",u.href=URL.createObjectURL(new Blob([e])),document.body.appendChild(u),u.click(),document.body.removeChild(u)}v({errcode:"0000",description:"下载成功"})}}else v({errcode:"5000",description:"请求异常，请稍后再试"})},"post"===u){var y=(0,i.default)(o),m={};m[n]=y,g.send((0,i.default)(m))}else g.send()}(e);else{d();var m="tempDownloadIframe"+ +new Date,_="tempFormId_"+ +new Date;(0,c.clearCookie)("downloadResult");var b=function(e){var t=document.getElementById(m),r=document.getElementById(_);(0,c.clearCookie)("downloadResult"),t.innerHTML="",t.parentNode.removeChild(t),r.parentNode.removeChild(r),"function"==typeof f&&f(e)},k=document.createElement("iframe");k.id=m,k.name=m,k.enctype="application/x-www-form-urlencoded",k.style.display="none",document.body.appendChild(k);var x=document.createElement("form");x.id=_,x.target=m,x.style.display="none",x.method=h,x.action=t;var A=document.createElement("input");A.type="hidden",A.name=n,A.value="object"===(void 0===s?"undefined":(0,a.default)(s))?(0,i.default)(s):s,x.appendChild(A),document.body.appendChild(x),x.submit(),function e(t){if(+new Date-t>y)b({errcode:"5004",description:"请求超时，请稍后再试！"});else{var r=(0,c.getCookie)("downloadResult");r?"1"===r?b({errcode:"0000",description:"下载成功"}):(r=JSON.parse(unescape(r)),b(r)):setTimeout((function(){e(t)}),1e3)}}(+new Date)}},t.getUUId=function(){var e=(new Date).getTime();return"xxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)}))},t.consoleLog=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"object"===(0,a.default)(window.console)&&("error"===t?r?window.console.error(r,e):window.console.error(e):"warn"===t?r?window.console.warn(r,e):window.console.warn(e):r?window.console.log(r,e):window.console.log(e))},t.isInVisualArea=function(e,t){for(var r=t.getElementsByClassName(e),n=t.getBoundingClientRect(),a=n.top,i=n.left,o=n.bottom,s=n.right,l=[],c=0;c<r.length;c++){var u=r[c].getBoundingClientRect();u.top>=a&&u.left>=i&&u.top<=o&&u.left<=s?l.push(!0):l.push(!1)}return l},t.getInvoiceErrInfo=function(e){var t=[],r=[],n={k1:"该发票已失控",k2:"该发票已作废",k3:"该发票已红冲",k4:"该处于异常状态"},a=e.invoiceType,i=e.invoiceStatus,o=e.checkStatus,s=e.isNotEqualTaxNo,l=e.isNotEqualBuyerName,c=e.repeatBx,u=e.isBlacklist,d=e.isSensitiveWords,f=e.continuousNos,p=void 0===f?[]:f,v=e.warningCode,g=void 0===v?"":v,y=e.isOverdueInvoice,m=e.isRevise;return(h["k"+a]||{}).isAddedTax&&(2===parseInt(o)?r.push("查验数据不相符！"):3===parseInt(o)&&r.push("发票还未进行查验！"),n["k"+i]&&r.push(n["k"+i])),s&&r.push("企业税号与发票购方税号不一致！"),l&&r.push("企业抬头与发票抬头不一致！"),2===c&&r.push("发票重复报销！"),2===u&&r.push("该发票在黑名单中！"),2===d&&t.push("发票中包含敏感词！"),p&&p.length>0&&8===parseInt(a)&&t.push("的士票连号，连号号码"+p.join(",")),-1!==g.split(",").indexOf("3")&&t.push("疑似串号发票！"),2===y&&t.push("该发票已过期！"),2===m&&t.push("手工修改过发票字段！"),{errorResult:r,waringResult:t}},t.readAsBinaryString=function(e){return new n.default((function(t){var r=new FileReader;if("function"==typeof FileReader.prototype.readAsBinaryString)r.onload=function(e){t(r.result)},r.onerror=function(){t(null)},r.readAsBinaryString(e);else{var n="";r.onload=function(e){for(var a=new Uint8Array(r.result),i=a.byteLength,o=0;o<i;o++)n+=String.fromCharCode(a[o]);t(n)},r.onerror=function(){t(null)},r.readAsArrayBuffer(e)}}))}},function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(113),i=(n=a)&&n.__esModule?n:{default:n};t.default=function(e,t,r){return t in e?(0,i.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){e.exports={default:r(114),__esModule:!0}},function(e,t,r){r(115);var n=r(24).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(22);n(n.S+n.F*!r(32),"Object",{defineProperty:r(28).f})},function(e,t,r){var n=r(117),a=r(119),i=r(118),o=r(120),s=r(121);e.exports={invoiceEditInfo:n,invoiceTypes:a,selectSource:i,invoiceStatus:o,waringCodes:s.waringCodes,getWaringCodesResult:s.getWaringCodesResult}},function(e,t,r){var n=r(118),a=n.trainSeatSelectSource,i=n.airSeatSelectSource,o=n.currencySelectSource,s=function(e){return moment(e.format("YYYY-MM-DD")).format("X")>moment().format("X")},l=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:s,required:!0},{title:"校验码后六位",dataIndex:"checkCode",type:"string",maxLength:6,required:!0}],c=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:s,required:!0},{title:"不含税金额",dataIndex:"invoiceAmount",type:"number",required:!0}],u=[{title:"电子客票号",dataIndex:"electronicTicketNum",type:"string",maxLength:50,required:!0},{title:"身份证号码",dataIndex:"customerIdentityNum",type:"string",maxLength:18,required:!0},{title:"行程",subCols:[{title:"开始行程",dataIndex:"placeOfDeparture",type:"string",maxLength:50,required:!0},{title:"结束行程",dataIndex:"destination",type:"string",maxLength:50,required:!0}]},{title:"票价",dataIndex:"invoiceAmount",type:"number",required:!0},{title:"顾客姓名",dataIndex:"customerName",type:"string",maxLength:50,required:!0},{title:"乘机日期",dataIndex:"invoiceDate",type:"date",disabledDate:s,required:!0},{title:"航班号",dataIndex:"flightNum",type:"string",maxLength:50},{title:"机场建设费",dataIndex:"airportConstructionFee",type:"number"},{title:"燃油附加费",dataIndex:"fuelSurcharge",type:"number"},{title:"印刷序列号",dataIndex:"printNum",type:"string",maxLength:50},{title:"座位等级",dataIndex:"seatGrade",type:"select",selectSource:i}],h=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:s,required:!0},{title:"合计金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"销方名称",dataIndex:"salerName",type:"string",maxLength:200},{title:"销方税号",dataIndex:"salerTaxNo",type:"string",maxLength:50},{title:"购方名称",dataIndex:"buyerName",type:"string",maxLength:200}],d=[{title:"金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"备注",dataIndex:"salerName",type:"string",maxLength:200,required:!0},{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:s}],f=[{title:"纳税人识别号",dataIndex:"buyerTaxNo",type:"string",maxLength:50,required:!0},{title:"完税证明号码",dataIndex:"taxPaidProofNo",type:"string",maxLength:50,required:!0},{title:"填发日期",dataIndex:"invoiceDate",type:"date",disabledDate:s,required:!0},{title:"税务机关名称",dataIndex:"taxAuthorityName",type:"string",maxLength:200,required:!0},{title:"金额",dataIndex:"totalAmount",type:"number",required:!0}],p=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"所在地",dataIndex:"place",type:"string",maxLength:50,required:!0}],v=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:s,required:!0},{title:"金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"入口",dataIndex:"entrance",type:"string",maxLength:50},{title:"出口",dataIndex:"exit",type:"string",maxLength:50,required:!0},{title:"时间",dataIndex:"time",type:"time"},{title:"所在地",dataIndex:"place",type:"string",maxLength:50}],g=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"乘船人",dataIndex:"passengerName",type:"string",maxLength:50,required:!0},{title:"乘船日期",dataIndex:"invoiceDate",type:"date",disabledDate:s,required:!0},{title:"出发地",dataIndex:"stationGetOn",type:"string",maxLength:50},{title:"到达地",dataIndex:"stationGetOff",type:"string",maxLength:50,required:!0},{title:"金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"币别",dataIndex:"currency",type:"select",selectSource:o}],y=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"乘车日期",dataIndex:"invoiceDate",type:"date",disabledDate:s,required:!0},{title:"金额（含税）",dataIndex:"totalAmount",type:"number",required:!0},{title:"所在地",dataIndex:"place",type:"string",maxLength:50,required:!0},{title:"打车里程",dataIndex:"mileage",type:"number"},{title:"上车时间",dataIndex:"timeGetOn",type:"time"},{title:"下车时间",dataIndex:"timeGetOff",type:"time"}],m=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"日期",dataIndex:"invoiceDate",type:"date",disabledDate:s,required:!0},{title:"票价",dataIndex:"totalAmount",type:"number",required:!0},{title:"出发站",dataIndex:"stationGetOn",type:"string",maxLength:50,required:!0},{title:"到达站",dataIndex:"stationGetOff",type:"string",maxLength:50,required:!0},{title:"姓名",dataIndex:"passengerName",type:"string",maxLength:50,required:!0},{title:"时间",dataIndex:"timeGetOn",type:"time"},{title:"币别",dataIndex:"currency",type:"select",selectSource:o}],_=[{title:"姓名",dataIndex:"passengerName",type:"string",maxLength:50,required:!0},{title:"车次",dataIndex:"trainNum",type:"string",maxLength:50,required:!0},{title:"印刷序号",dataIndex:"printingSequenceNo",type:"string",maxLength:50,required:!0},{title:"乘车日期",dataIndex:"invoiceDate",type:"date",disabledDate:s,required:!0},{title:"金额（含税）",dataIndex:"totalAmount",type:"number",required:!0},{title:"行程",subCols:[{title:"开始行程",dataIndex:"stationGetOn",type:"string",maxLength:50,required:!0},{title:"结束行程",dataIndex:"stationGetOff",type:"string",maxLength:50,required:!0}]},{title:"座位等级",dataIndex:"currency",type:"select",selectSource:a}];e.exports={k1:l,k3:l,k4:c,k5:l,k12:c,k13:c,k15:l,k7:h,k8:y,k9:_,k10:u,k14:p,k16:m,k17:v,k19:f,k20:g,k23:h,k11:d}},function(e,t){e.exports={trainSeatSelectSource:["二等座","一等座","特等座","商务座","无座"],airSeatSelectSource:[{value:"F",text:"头等舱"},{value:"C",text:"公务舱（商务舱）"},{value:"Y",text:"普通舱（经济舱）"}],currencySelectSource:[{value:"CNY",text:"人民币"},{value:"HKD",text:"港币"},{value:"USD",text:"美元"}]}},function(e,t){for(var r=[{text:"电子普通发票",value:1,allowDeduction:1,isAddedTax:!0},{text:"电子专用发票",value:2,allowDeduction:1,isAddedTax:!0,allowGovdk:1},{text:"增值税普通发票",value:3,isAddedTax:!0},{text:"增值税专用发票",value:4,allowDeduction:1,isAddedTax:!0,allowGovdk:1},{text:"普通纸质卷票",value:5,isAddedTax:!0},{text:"通用机打发票",value:7},{text:"出租车票",value:8},{text:"火车/高铁票",value:9,allowDeduction:1},{text:"飞机行程单",value:10,allowDeduction:1},{text:"机动车销售发票",value:12,allowDeduction:1,isAddedTax:!0,allowGovdk:1},{text:"二手车销售发票",value:13,isAddedTax:!0},{text:"定额发票",value:14},{text:"通行费电子发票",value:15,allowDeduction:1,isAddedTax:!0,allowGovdk:1},{text:"公路汽车票",value:16,allowDeduction:1},{text:"过路桥费发票",value:17},{text:"完税证明",value:19},{text:"轮船票",value:20,allowDeduction:1},{text:"通用机打电子发票",value:23},{text:"火车票退票凭证",value:24},{text:"财政电子票据",value:25},{text:"其它票",value:11,allowDeduction:1}],n={},a=[],i=[],o=0;o<r.length;o++){var s=r[o];n["k"+s.value]=s,s.isAddedTax&&a.push(s.value),1===s.allowDeduction&&i.push(s.value)}e.exports={INPUT_INVOICE_TYPES:r,INPUT_INVOICE_TYPES_DICT:n,ADDED_INVOICE_TYPES:a,ALLOW_DK_TYPES:i}},function(e,t){for(var r=[{text:"正常",value:0},{text:"失控",value:1},{text:"作废",value:2},{text:"红冲",value:3},{text:"异常",value:4}],n={},a=0;a<r.length;a++)n["k"+r[a].value]=r[a].text;e.exports={INVOICE_STATUS:r,INVOICE_STATUS_DICT:n}},function(e,t){var r={k1:"",k2:""};e.exports={waringCodes:r,getWaringCodesResult:function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=[],n=0;n<e.length;n++){var a=e[n],i=r["k"+a]||"";i&&t.push(i)}return t}}},function(e,t,r){"use strict";var n,a,i=r(86),o=(n=i)&&n.__esModule?n:{default:n};Object.setPrototypeOf=r(123),"object"===("undefined"==typeof window?"undefined":(0,o.default)(window))&&(window.requestAnimationFrame=window.requestAnimationFrame||window.requestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1/60)}),Function.prototype.method=function(e,t){return this.prototype[e]||(this.prototype[e]=t),this},Number.method("integer",(function(){return Math[this<0?"ceil":"floor"](this)})),String.method("trim",(function(){return this.replace(/^\s+/g,"").replace(/\s+$/g,"")})),String.method("replaceInclude",(function(){return this.replace("）",")").replace("（","(")})),String.method("entityify",(a={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;"},a=void 0,function(){return this.replace(/(["<>&])/g,(function(e){return a[e]}))})),String.method("isEmail",(function(){return/^([a-zA-Z0-9_\.-]+)@([a-zA-Z0-9\.-]+)\.([a-zA-Z\.]{2,6})$/.test(this)})),String.method("isEmpty",(function(){return/^[\s]*$/.test(this)})),String.method("isNotEmpty",(function(){return/[\S]+/.test(this)})),String.method("isPhone",(function(){return/^(1[0-9]{10}$)/.test(this)})),String.method("isPhoneOrMail",(function(){return this.isEmail()?2:!!this.isPhone()&&1})),String.method("getLength",(function(){var e=this.replace(/[\x00-\xff]/g,"").length;return this.length+e})),String.method("isNumber",(function(){return/[0-9.]*/.test(this)&&isFinite(this)})),String.method("getSub",(function(e,t){var r=/[^\x00-\xff]/g;if(this.replace(r,"mm").length<=e)return this;for(var n=Math.floor(e/2);n<this.length;n++)if(this.substr(0,n).replace(r,"mm").length>=e)return t?this.substr(0,n)+"...":this.substr(0,n);return this})),String.method("trimUnNumber",(function(){var e=parseFloat(this.trim());return isNaN(e)?"":e+""})),Array.method("indexOf",(function(e){var t,r=this.length;for(t=0;t<r;t++)if(this[t]===e)return t;return-1}))},function(e,t,r){"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearCache=t.getCache=t.setCache=void 0;var n=i(r(84)),a=i(r(86));function i(e){return e&&e.__esModule?e:{default:e}}var o=r(104),s=o.setCookie,l=o.clearCookie;t.setCache=function(e,t,r){if(t="object"===(void 0===t?"undefined":(0,a.default)(t))?escape((0,n.default)(t)):escape(t),localStorage||sessionStorage)if("localStorage"==r&&localStorage)try{return localStorage.setItem(e,t),!0}catch(e){return!1}else if(isNaN(parseInt(r)))try{return sessionStorage.setItem(e,t),!0}catch(e){return!1}else try{return s(e,t,r),!0}catch(e){return!1}else try{var i=3600;return isNaN(parseInt(r))||(i=r),s(e,t,i),!0}catch(e){return!1}},t.getCache=function(e,t,r){if(localStorage||sessionStorage)if("localStorage"==t&&localStorage){if("string"===r)return unescape(localStorage.getItem(e));try{n=unescape(localStorage.getItem(e));return JSON.parse(n)}catch(e){return n}}else if("cookie"!=t&&isNaN(parseInt(t))){if("string"===r)return unescape(sessionStorage.getItem(e));try{n=unescape(sessionStorage.getItem(e));return JSON.parse(n)}catch(e){return n}}else{if("string"===r)return unescape(getCookie(e));try{var n=unescape(getCookie(e));return JSON.parse(n)}catch(e){return n}}else{if("string"===r)return unescape(getCookie(e));try{var n=unescape(getCookie(e));return JSON.parse(n)}catch(e){return n}}},t.clearCache=function(e,t){if(localStorage||sessionStorage)if("localStorage"==t&&localStorage)try{return localStorage.removeItem(e),!0}catch(e){return!1}else if("cookie"!=t&&isNaN(parseInt(t)))try{return sessionStorage.removeItem(e),!0}catch(e){return!1}else try{return l(e),!0}catch(e){return!1}else try{return l(e),!0}catch(e){return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadScripts=t.use=t.syncUse=t.getLoadedJs=void 0;var n=i(r(13)),a=i(r(86));function i(e){return e&&e.__esModule?e:{default:e}}var o=t.getLoadedJs=function(){var e=[];if("object"===("undefined"==typeof document?"undefined":(0,a.default)(document))&&document.getElementsByTagName)for(var t=document.getElementsByTagName("script"),r=t.length;r--;){var n=t[r].src||"";""!=n&&e.push(n)}return e},s=function(e,t){if(/^https?:\/\/.*$/.test(e))return e;t=t||window.location.href.replace(/\/[0-0a-zA-Z._-]*$/,"");var r=window.location.origin;if(/^\/.*$/.test(e))return r+e;if(/^\.\/.*$/.test(e))return t+e.replace(/^\./,"");if(/^\.\.\/.*/.test(e)){for(var n=e.split("/"),a=[],i=0;i<n.length;i++)".."==n[i]&&r!=t?t=t.replace(/\/[0-0a-zA-Z._-]*$/,""):"."!=n[i]&&".."!=n[i]&&a.push(n[i]);return t+"/"+a.join("/")}return t+e},l=t.syncUse=function(e,t){var r=o(),n=[];if("string"==typeof e)n.push(s(e));else for(var a=0,i=e.length;a<i;a++)n.push(s(e[a]));return function e(a){if(-1==r.indexOf(n[a]))if(a<n.length){var i=document.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,e(a+1))}:i.onload=function(){e(a+1)},i.src=n[a],/^.*sea\.js\/?$/.test(n[a])&&(i.id="seajsnode"),document.getElementsByTagName("head")[0].appendChild(i),r.push(n[a])}else t();else e(a+1)}(0)},c=t.use=function(e,t){var r,n=o(),a=0,i=[];if("string"==typeof e)i.push(s(e));else for(var l=e.length;l--;)i.push(s(e[l]));for(var c=r=i.length;c--;){var u=i[c];if(-1==n.indexOf(u)){var h=document.createElement("script");h.type="text/javascript",h.readyState?h.onreadystatechange=function(){"loaded"!=h.readyState&&"complete"!=h.readyState||(h.onreadystatechange=null,++a==r&&t())}:h.onload=function(){++a==r&&t()},h.src=i[c],/^.*sea\.js\/?$/.test(u)&&(h.id="seajsnode"),document.getElementsByTagName("head")[0].appendChild(h),n.push(i[c])}else++a==r&&t()}};t.loadScripts=function(e,t){return new n.default((function(r){try{t?l(e,(function(){r(!0)})):c(e,(function(){r(!0)}))}catch(e){r(!1)}}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.urlSearch=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={},r=(e=e.replace(/^\?/,"")).split("&"),n=0,a=r.length;n<a;n++){var i=r[n].split("="),o="";i.length>1&&(o=i[1]),t[i[0]]=o}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkInvoiceTypeFull=function(e,t){e&&(e+="");t&&(t+="");if(!t||!e)return 5;var r=e.length;if(12==r){if(12==e.length&&8==t.length){if(e.startsWith("14403")&&"9"===e.substr(8,9))return 1;if(e.startsWith("0")&&e.endsWith("13"))return 2}return e.startsWith("1")&&e.substr(7,8).equals("2")?12:e.endsWith("11")&&e.startsWith("0")?1:e.endsWith("12")&&e.startsWith("0")?15:e.endsWith("04")||e.endsWith("05")?3:e.endsWith("06")||e.endsWith("07")?5:e.endsWith("17")&&e.startsWith("0")?13:3}return 10==r&&(e.endsWith("130")||e.endsWith("140")||e.endsWith("160")||e.endsWith("170"))?4:3};t.checkInvoiceType=function(e,t){e&&(e+=""),t&&(t+="");var r=e.substr(e.length-3),n=e.substr(e.length-2),a=e.substr(0,1),i=e.substr(5,1),o=e.substr(7,1);if("130"===r||"140"===r||"160"===r||"170"===r)return 4;if(12==e.length){if("0"==a&&"12"==n)return 15;if("0"===a&&"17"===n)return 13;if("0"===a&&("06"===n||"07"===n))return 5;if("0"===a&&"13"===n)return 2;if(("1"==i||"2"==i)&&"2"==o)return 12}return 3}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(84)),a=o(r(86)),i=o(r(13));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.method,r=void 0===t?"POST":t,o=e.data,s=void 0===o?"":o,l=e.withCredentials,c=void 0!==l&&l,u=e.dataType,h=void 0===u?"json":u,d=e.contentType,f=void 0===d?"text/plain":d,p=e.timeout,v=void 0===p?6e4:p,g=e.url,y=void 0===g?"http://127.0.0.1:52320/cryptctl":g;e.onTimeout,e.onError,e.success;return new i.default((function(e,t){var i=null;if(XMLHttpRequest&&(i=new XMLHttpRequest),c&&void 0!==i.withCredentials&&(i.withCredentials=!0),i||"undefined"==typeof XDomainRequest||(i=new XDomainRequest),i){try{i.timeout=v,i.contentLength=s.length}catch(e){console.warn("设置超时时间异常")}try{i.contentType=f}catch(e){console.warn("设置contentType异常")}i.onload=function(){var t=i.responseText;if("json"===h)try{t=JSON.parse(t),e(t)}catch(t){e({description:"服务端异常",errcode:"serverErr"})}else e(t)},i.ontimeout=function(){e({errcode:"timeout",description:"请求超时,请安装且启动“金蝶发票管理组件”后重试！"},i)},i.onerror=function(){e({errcode:"err",description:"请求异常,请安装且启动“金蝶发票管理组件”后重试！"},i)},i.open(r,y,!0),"object"===(void 0===s?"undefined":(0,a.default)(s))&&(s=(0,n.default)(s)),"string"==typeof s?i.send(s):e({errcode:"argsErr",description:"参数格式不正确"})}else i=null,e({errcode:"accessErr",description:"税盘不支持访问"})}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e={ie:0,gecko:0,webkit:0,khtml:0,opera:0,ver:null},t={ie:0,firefox:0,safari:0,konq:0,opera:0,chrome:0,ver:null},r={win:!1,mac:!1,x11:!1,iphone:!1,ipod:!1,ipad:!1,ios:!1,android:!1,nokiaN:!1,winMobile:!1,wii:!1,ps:!1},n=navigator.userAgent;if(window.opera)e.ver=t.ver=window.opera.version(),e.opera=t.opera=parseFloat(e.ver);else if(/AppleWebKit\/(\S+)/.test(n))if(e.ver=RegExp.$1,e.webkit=parseFloat(e.ver),/Chrome\/(\S+)/.test(n))t.ver=RegExp.$1,t.chrome=parseFloat(t.ver);else if(/Version\/(\S+)/.test(n))t.ver=RegExp.$1,t.safari=parseFloat(t.ver);else{var a=1;a=e.webkit<100?1:e.webkit<312?1.2:e.webkit<412?1.3:2,t.safari=t.ver=a}else/KHTML\/(\S+)/.test(n)||/Konqueror\/([^;]+)/.test(n)?(e.ver=t.ver=RegExp.$1,e.khtml=t.konq=parseFloat(e.ver)):/rv:([^\)]+)\) Gecko\/\d{8}/.test(n)?(e.ver=RegExp.$1,e.gecko=parseFloat(e.ver),/Firefox\/(\S+)/.test(n)&&(t.ver=RegExp.$1,t.firefox=parseFloat(t.ver))):/MSIE ([^;]+)/.test(n)?(e.ver=t.ver=RegExp.$1,e.ie=t.ie=parseFloat(e.ver)):/Trident\/7.0/.test(n)&&/rv:([^\)]+)\)/.test(n)?(e.ver=t.ver=RegExp.$1,e.ie=t.ie=parseFloat(e.ver)):/Edge\/(\S+)/.test(n)&&(e.ver=t.ver=RegExp.$1,e.ie=t.ie=parseFloat(e.ver));t.ie=e.ie,t.opera=e.opera;var i=navigator.platform;if(r.win=0==i.indexOf("Win"),r.mac=0==i.indexOf("Mac"),r.x11="X11"==i||0==i.indexOf("Linux"),r.win&&/Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?/.test(n))if("NT"==RegExp.$1)switch(RegExp.$2){case"5.0":r.win="2000";break;case"5.1":r.win="XP";break;case"6.0":r.win="Vista";break;case"6.1":r.win="7";break;default:r.win="NT"}else"9x"==RegExp.$1?r.win="ME":r.win=RegExp.$1;return r.iphone=n.indexOf("iPhone")>-1,r.ipod=n.indexOf("iPod")>-1,r.ipad=n.indexOf("iPad")>-1,r.nokiaN=n.indexOf("NokiaN")>-1,"CE"==r.win?r.winMobile=r.win:"Ph"==r.win&&/Windows Phone OS (\d+.\d+)/.test(n)&&(r.win="Phone",r.winMobile=parseFloat(RegExp.$1)),r.mac&&n.indexOf("Mobile")>-1&&(/CPU (?:iPhone )?OS (\d+_\d+)/.test(n)?r.ios=parseFloat(RegExp.$1.replace("_",".")):r.ios=2),/Android (\d+\.\d+)/.test(n)&&(r.android=parseFloat(RegExp.$1)),r.wii=n.indexOf("Wii")>-1,r.ps=/playstation/i.test(n),{engine:e,browser:t,system:r}}},function(e,t,r){var n;e.exports=(n=r(131),r(134),r(135),r(136),r(137),r(138),r(139),r(140),r(141),r(142),r(143),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(166),n)},function(e,t,r){(function(t){var n;e.exports=(n=n||function(e,n){var a;if("undefined"!=typeof window&&window.crypto&&(a=window.crypto),"undefined"!=typeof self&&self.crypto&&(a=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(a=globalThis.crypto),!a&&"undefined"!=typeof window&&window.msCrypto&&(a=window.msCrypto),!a&&void 0!==t&&t.crypto&&(a=t.crypto),!a)try{a=r(133)}catch(e){}var i=function(){if(a){if("function"==typeof a.getRandomValues)try{return a.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof a.randomBytes)try{return a.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),s={},l=s.lib={},c=l.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=l.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,a=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<a;i++){var o=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=o<<24-(n+i)%4*8}else for(var s=0;s<a;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=a,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(i());return new u.init(t,e)}}),h=s.enc={},d=h.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new u.init(r,t/2)}},f=h.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new u.init(r,t)}},p=h.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},v=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,a=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,c=e.min(4*l,i);if(l){for(var h=0;h<l;h+=o)this._doProcessBlock(a,h);r=a.splice(0,l),n.sigBytes-=c}return new u.init(r,c)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(l.Hasher=v.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new g.HMAC.init(e,r).finalize(t)}}}),s.algo={});return s}(Math),n)}).call(this,r(132))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){},function(e,t,r){var n,a,i,o,s,l;e.exports=(l=r(131),a=(n=l).lib,i=a.Base,o=a.WordArray,(s=n.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var a=e[n];r.push(a.high),r.push(a.low)}return o.create(r,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}}),l)},function(e,t,r){var n;e.exports=(n=r(131),function(){if("function"==typeof ArrayBuffer){var e=n.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var r=e.byteLength,n=[],a=0;a<r;a++)n[a>>>2]|=e[a]<<24-a%4*8;t.call(this,n,r)}else t.apply(this,arguments)}).prototype=e}}(),n.lib.WordArray)},function(e,t,r){var n;e.exports=(n=r(131),function(){var e=n,t=e.lib.WordArray,r=e.enc;function a(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a+=2){var i=t[a>>>2]>>>16-a%4*8&65535;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var r=e.length,n=[],a=0;a<r;a++)n[a>>>1]|=e.charCodeAt(a)<<16-a%2*16;return t.create(n,2*r)}},r.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var o=a(t[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>1]|=a(e.charCodeAt(i)<<16-i%2*16);return t.create(n,2*r)}}}(),n.enc.Utf16)},function(e,t,r){var n,a,i;e.exports=(i=r(131),a=(n=i).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var a=[],i=0;i<r;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)a.push(n.charAt(o>>>6*(3-s)&63));var l=n.charAt(64);if(l)for(;a.length%4;)a.push(l);return a.join("")},parse:function(e){var t=e.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<r.length;i++)n[r.charCodeAt(i)]=i}var o=r.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return function(e,t,r){for(var n=[],i=0,o=0;o<t;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2,l=r[e.charCodeAt(o)]>>>6-o%4*2,c=s|l;n[i>>>2]|=c<<24-i%4*8,i++}return a.create(n,i)}(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},function(e,t,r){var n,a,i;e.exports=(i=r(131),a=(n=i).lib.WordArray,n.enc.Base64url={stringify:function(e,t=!0){var r=e.words,n=e.sigBytes,a=t?this._safe_map:this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(r[o>>>2]>>>24-o%4*8&255)<<16|(r[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|r[o+2>>>2]>>>24-(o+2)%4*8&255,l=0;l<4&&o+.75*l<n;l++)i.push(a.charAt(s>>>6*(3-l)&63));var c=a.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e,t=!0){var r=e.length,n=t?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var l=e.indexOf(s);-1!==l&&(r=l)}return function(e,t,r){for(var n=[],i=0,o=0;o<t;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2,l=r[e.charCodeAt(o)]>>>6-o%4*2,c=s|l;n[i>>>2]|=c<<24-i%4*8,i++}return a.create(n,i)}(e,r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},i.enc.Base64url)},function(e,t,r){var n;e.exports=(n=r(131),function(e){var t=n,r=t.lib,a=r.WordArray,i=r.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=o.MD5=i.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,a=e[n];e[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var i=this._hash.words,o=e[t+0],l=e[t+1],f=e[t+2],p=e[t+3],v=e[t+4],g=e[t+5],y=e[t+6],m=e[t+7],_=e[t+8],b=e[t+9],k=e[t+10],x=e[t+11],A=e[t+12],w=e[t+13],S=e[t+14],C=e[t+15],P=i[0],R=i[1],T=i[2],E=i[3];P=c(P,R,T,E,o,7,s[0]),E=c(E,P,R,T,l,12,s[1]),T=c(T,E,P,R,f,17,s[2]),R=c(R,T,E,P,p,22,s[3]),P=c(P,R,T,E,v,7,s[4]),E=c(E,P,R,T,g,12,s[5]),T=c(T,E,P,R,y,17,s[6]),R=c(R,T,E,P,m,22,s[7]),P=c(P,R,T,E,_,7,s[8]),E=c(E,P,R,T,b,12,s[9]),T=c(T,E,P,R,k,17,s[10]),R=c(R,T,E,P,x,22,s[11]),P=c(P,R,T,E,A,7,s[12]),E=c(E,P,R,T,w,12,s[13]),T=c(T,E,P,R,S,17,s[14]),P=u(P,R=c(R,T,E,P,C,22,s[15]),T,E,l,5,s[16]),E=u(E,P,R,T,y,9,s[17]),T=u(T,E,P,R,x,14,s[18]),R=u(R,T,E,P,o,20,s[19]),P=u(P,R,T,E,g,5,s[20]),E=u(E,P,R,T,k,9,s[21]),T=u(T,E,P,R,C,14,s[22]),R=u(R,T,E,P,v,20,s[23]),P=u(P,R,T,E,b,5,s[24]),E=u(E,P,R,T,S,9,s[25]),T=u(T,E,P,R,p,14,s[26]),R=u(R,T,E,P,_,20,s[27]),P=u(P,R,T,E,w,5,s[28]),E=u(E,P,R,T,f,9,s[29]),T=u(T,E,P,R,m,14,s[30]),P=h(P,R=u(R,T,E,P,A,20,s[31]),T,E,g,4,s[32]),E=h(E,P,R,T,_,11,s[33]),T=h(T,E,P,R,x,16,s[34]),R=h(R,T,E,P,S,23,s[35]),P=h(P,R,T,E,l,4,s[36]),E=h(E,P,R,T,v,11,s[37]),T=h(T,E,P,R,m,16,s[38]),R=h(R,T,E,P,k,23,s[39]),P=h(P,R,T,E,w,4,s[40]),E=h(E,P,R,T,o,11,s[41]),T=h(T,E,P,R,p,16,s[42]),R=h(R,T,E,P,y,23,s[43]),P=h(P,R,T,E,b,4,s[44]),E=h(E,P,R,T,A,11,s[45]),T=h(T,E,P,R,C,16,s[46]),P=d(P,R=h(R,T,E,P,f,23,s[47]),T,E,o,6,s[48]),E=d(E,P,R,T,m,10,s[49]),T=d(T,E,P,R,S,15,s[50]),R=d(R,T,E,P,g,21,s[51]),P=d(P,R,T,E,A,6,s[52]),E=d(E,P,R,T,p,10,s[53]),T=d(T,E,P,R,k,15,s[54]),R=d(R,T,E,P,l,21,s[55]),P=d(P,R,T,E,_,6,s[56]),E=d(E,P,R,T,C,10,s[57]),T=d(T,E,P,R,y,15,s[58]),R=d(R,T,E,P,w,21,s[59]),P=d(P,R,T,E,v,6,s[60]),E=d(E,P,R,T,x,10,s[61]),T=d(T,E,P,R,f,15,s[62]),R=d(R,T,E,P,b,21,s[63]),i[0]=i[0]+P|0,i[1]=i[1]+R|0,i[2]=i[2]+T|0,i[3]=i[3]+E|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,a=8*t.sigBytes;r[a>>>5]|=128<<24-a%32;var i=e.floor(n/4294967296),o=n;r[15+(a+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(a+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,r,n,a,i,o){var s=e+(t&r|~t&n)+a+o;return(s<<i|s>>>32-i)+t}function u(e,t,r,n,a,i,o){var s=e+(t&n|r&~n)+a+o;return(s<<i|s>>>32-i)+t}function h(e,t,r,n,a,i,o){var s=e+(t^r^n)+a+o;return(s<<i|s>>>32-i)+t}function d(e,t,r,n,a,i,o){var s=e+(r^(t|~n))+a+o;return(s<<i|s>>>32-i)+t}t.MD5=i._createHelper(l),t.HmacMD5=i._createHmacHelper(l)}(Math),n.MD5)},function(e,t,r){var n,a,i,o,s,l,c,u;e.exports=(u=r(131),a=(n=u).lib,i=a.WordArray,o=a.Hasher,s=n.algo,l=[],c=s.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],o=r[3],s=r[4],c=0;c<80;c++){if(c<16)l[c]=0|e[t+c];else{var u=l[c-3]^l[c-8]^l[c-14]^l[c-16];l[c]=u<<1|u>>>31}var h=(n<<5|n>>>27)+s+l[c];h+=c<20?1518500249+(a&i|~a&o):c<40?1859775393+(a^i^o):c<60?(a&i|a&o|i&o)-1894007588:(a^i^o)-899497514,s=o,o=i,i=a<<30|a>>>2,a=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+i|0,r[3]=r[3]+o|0,r[4]=r[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=o._createHelper(c),n.HmacSHA1=o._createHmacHelper(c),u.SHA1)},function(e,t,r){var n;e.exports=(n=r(131),function(e){var t=n,r=t.lib,a=r.WordArray,i=r.Hasher,o=t.algo,s=[],l=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,a=0;a<64;)t(n)&&(a<8&&(s[a]=r(e.pow(n,.5))),l[a]=r(e.pow(n,1/3)),a++),n++}();var c=[],u=o.SHA256=i.extend({_doReset:function(){this._hash=new a.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],o=r[3],s=r[4],u=r[5],h=r[6],d=r[7],f=0;f<64;f++){if(f<16)c[f]=0|e[t+f];else{var p=c[f-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=c[f-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[f]=v+c[f-7]+y+c[f-16]}var m=n&a^n&i^a&i,_=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&h)+l[f]+c[f];d=h,h=u,u=s,s=o+b|0,o=i,i=a,a=n,n=b+(_+m)|0}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+i|0,r[3]=r[3]+o|0,r[4]=r[4]+s|0,r[5]=r[5]+u|0,r[6]=r[6]+h|0,r[7]=r[7]+d|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,a=8*t.sigBytes;return r[a>>>5]|=128<<24-a%32,r[14+(a+64>>>9<<4)]=e.floor(n/4294967296),r[15+(a+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(u),t.HmacSHA256=i._createHmacHelper(u)}(Math),n.SHA256)},function(e,t,r){var n,a,i,o,s,l;e.exports=(l=r(131),r(141),a=(n=l).lib.WordArray,i=n.algo,o=i.SHA256,s=i.SHA224=o.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}}),n.SHA224=o._createHelper(s),n.HmacSHA224=o._createHmacHelper(s),l.SHA224)},function(e,t,r){var n;e.exports=(n=r(131),r(134),function(){var e=n,t=e.lib.Hasher,r=e.x64,a=r.Word,i=r.WordArray,o=e.algo;function s(){return a.create.apply(a,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=s()}();var u=o.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],o=r[3],s=r[4],u=r[5],h=r[6],d=r[7],f=n.high,p=n.low,v=a.high,g=a.low,y=i.high,m=i.low,_=o.high,b=o.low,k=s.high,x=s.low,A=u.high,w=u.low,S=h.high,C=h.low,P=d.high,R=d.low,T=f,E=p,O=v,F=g,I=y,M=m,L=_,D=b,j=k,N=x,B=A,U=w,q=S,W=C,H=P,G=R,z=0;z<80;z++){var V,Y,X=c[z];if(z<16)Y=X.high=0|e[t+2*z],V=X.low=0|e[t+2*z+1];else{var K=c[z-15],J=K.high,Q=K.low,$=(J>>>1|Q<<31)^(J>>>8|Q<<24)^J>>>7,Z=(Q>>>1|J<<31)^(Q>>>8|J<<24)^(Q>>>7|J<<25),ee=c[z-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ae=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),ie=c[z-7],oe=ie.high,se=ie.low,le=c[z-16],ce=le.high,ue=le.low;Y=(Y=(Y=$+oe+((V=Z+se)>>>0<Z>>>0?1:0))+ne+((V+=ae)>>>0<ae>>>0?1:0))+ce+((V+=ue)>>>0<ue>>>0?1:0),X.high=Y,X.low=V}var he,de=j&B^~j&q,fe=N&U^~N&W,pe=T&O^T&I^O&I,ve=E&F^E&M^F&M,ge=(T>>>28|E<<4)^(T<<30|E>>>2)^(T<<25|E>>>7),ye=(E>>>28|T<<4)^(E<<30|T>>>2)^(E<<25|T>>>7),me=(j>>>14|N<<18)^(j>>>18|N<<14)^(j<<23|N>>>9),_e=(N>>>14|j<<18)^(N>>>18|j<<14)^(N<<23|j>>>9),be=l[z],ke=be.high,xe=be.low,Ae=H+me+((he=G+_e)>>>0<G>>>0?1:0),we=ye+ve;H=q,G=W,q=B,W=U,B=j,U=N,j=L+(Ae=(Ae=(Ae=Ae+de+((he+=fe)>>>0<fe>>>0?1:0))+ke+((he+=xe)>>>0<xe>>>0?1:0))+Y+((he+=V)>>>0<V>>>0?1:0))+((N=D+he|0)>>>0<D>>>0?1:0)|0,L=I,D=M,I=O,M=F,O=T,F=E,T=Ae+(ge+pe+(we>>>0<ye>>>0?1:0))+((E=he+we|0)>>>0<he>>>0?1:0)|0}p=n.low=p+E,n.high=f+T+(p>>>0<E>>>0?1:0),g=a.low=g+F,a.high=v+O+(g>>>0<F>>>0?1:0),m=i.low=m+M,i.high=y+I+(m>>>0<M>>>0?1:0),b=o.low=b+D,o.high=_+L+(b>>>0<D>>>0?1:0),x=s.low=x+N,s.high=k+j+(x>>>0<N>>>0?1:0),w=u.low=w+U,u.high=A+B+(w>>>0<U>>>0?1:0),C=h.low=C+W,h.high=S+q+(C>>>0<W>>>0?1:0),R=d.low=R+G,d.high=P+H+(R>>>0<G>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),n.SHA512)},function(e,t,r){var n,a,i,o,s,l,c,u;e.exports=(u=r(131),r(134),r(143),a=(n=u).x64,i=a.Word,o=a.WordArray,s=n.algo,l=s.SHA512,c=s.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=l._doFinalize.call(this);return e.sigBytes-=16,e}}),n.SHA384=l._createHelper(c),n.HmacSHA384=l._createHmacHelper(c),u.SHA384)},function(e,t,r){var n;e.exports=(n=r(131),r(134),function(e){var t=n,r=t.lib,a=r.WordArray,i=r.Hasher,o=t.x64.Word,s=t.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,r=0;r<24;r++){l[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var a=1,i=0;i<24;i++){for(var s=0,h=0,d=0;d<7;d++){if(1&a){var f=(1<<d)-1;f<32?h^=1<<f:s^=1<<f-32}128&a?a=a<<1^113:a<<=1}u[i]=o.create(s,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=o.create()}();var d=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,a=0;a<n;a++){var i=e[t+2*a],o=e[t+2*a+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(R=r[a]).high^=o,R.low^=i}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var f=0,p=0,v=0;v<5;v++)f^=(R=r[d+5*v]).high,p^=R.low;var g=h[d];g.high=f,g.low=p}for(d=0;d<5;d++){var y=h[(d+4)%5],m=h[(d+1)%5],_=m.high,b=m.low;for(f=y.high^(_<<1|b>>>31),p=y.low^(b<<1|_>>>31),v=0;v<5;v++)(R=r[d+5*v]).high^=f,R.low^=p}for(var k=1;k<25;k++){var x=(R=r[k]).high,A=R.low,w=l[k];w<32?(f=x<<w|A>>>32-w,p=A<<w|x>>>32-w):(f=A<<w-32|x>>>64-w,p=x<<w-32|A>>>64-w);var S=h[c[k]];S.high=f,S.low=p}var C=h[0],P=r[0];for(C.high=P.high,C.low=P.low,d=0;d<5;d++)for(v=0;v<5;v++){var R=r[k=d+5*v],T=h[k],E=h[(d+1)%5+5*v],O=h[(d+2)%5+5*v];R.high=T.high^~E.high&O.high,R.low=T.low^~E.low&O.low}R=r[0];var F=u[s];R.high^=F.high,R.low^=F.low}},_doFinalize:function(){var t=this._data,r=t.words,n=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(e.ceil((n+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*r.length,this._process();for(var o=this._state,s=this.cfg.outputLength/8,l=s/8,c=[],u=0;u<l;u++){var h=o[u],d=h.high,f=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),c.push(f),c.push(d)}return new a.init(c,s)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});t.SHA3=i._createHelper(d),t.HmacSHA3=i._createHmacHelper(d)}(Math),n.SHA3)},function(e,t,r){var n;e.exports=(n=r(131),
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(e){var t=n,r=t.lib,a=r.WordArray,i=r.Hasher,o=t.algo,s=a.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=a.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=a.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=a.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=a.create([0,1518500249,1859775393,2400959708,2840853838]),d=a.create([1352829926,1548603684,1836072691,2053994217,0]),f=o.RIPEMD160=i.extend({_doReset:function(){this._hash=a.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,a=e[n];e[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var i,o,f,b,k,x,A,w,S,C,P,R=this._hash.words,T=h.words,E=d.words,O=s.words,F=l.words,I=c.words,M=u.words;for(x=i=R[0],A=o=R[1],w=f=R[2],S=b=R[3],C=k=R[4],r=0;r<80;r+=1)P=i+e[t+O[r]]|0,P+=r<16?p(o,f,b)+T[0]:r<32?v(o,f,b)+T[1]:r<48?g(o,f,b)+T[2]:r<64?y(o,f,b)+T[3]:m(o,f,b)+T[4],P=(P=_(P|=0,I[r]))+k|0,i=k,k=b,b=_(f,10),f=o,o=P,P=x+e[t+F[r]]|0,P+=r<16?m(A,w,S)+E[0]:r<32?y(A,w,S)+E[1]:r<48?g(A,w,S)+E[2]:r<64?v(A,w,S)+E[3]:p(A,w,S)+E[4],P=(P=_(P|=0,M[r]))+C|0,x=C,C=S,S=_(w,10),w=A,A=P;P=R[1]+f+S|0,R[1]=R[2]+b+C|0,R[2]=R[3]+k+x|0,R[3]=R[4]+i+A|0,R[4]=R[0]+o+w|0,R[0]=P},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var a=this._hash,i=a.words,o=0;o<5;o++){var s=i[o];i[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return a},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,r){return e^t^r}function v(e,t,r){return e&t|~e&r}function g(e,t,r){return(e|~t)^r}function y(e,t,r){return e&r|t&~r}function m(e,t,r){return e^(t|~r)}function _(e,t){return e<<t|e>>>32-t}t.RIPEMD160=i._createHelper(f),t.HmacRIPEMD160=i._createHmacHelper(f)}(Math),n.RIPEMD160)},function(e,t,r){var n,a,i,o;e.exports=(n=r(131),i=(a=n).lib.Base,o=a.enc.Utf8,void(a.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),i=this._iKey=t.clone(),s=a.words,l=i.words,c=0;c<r;c++)s[c]^=1549556828,l[c]^=909522486;a.sigBytes=i.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))},function(e,t,r){var n,a,i,o,s,l,c,u,h;e.exports=(h=r(131),r(140),r(147),a=(n=h).lib,i=a.Base,o=a.WordArray,s=n.algo,l=s.SHA1,c=s.HMAC,u=s.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=c.create(r.hasher,e),a=o.create(),i=o.create([1]),s=a.words,l=i.words,u=r.keySize,h=r.iterations;s.length<u;){var d=n.update(t).finalize(i);n.reset();for(var f=d.words,p=f.length,v=d,g=1;g<h;g++){v=n.finalize(v),n.reset();for(var y=v.words,m=0;m<p;m++)f[m]^=y[m]}a.concat(d),l[0]++}return a.sigBytes=4*u,a}}),n.PBKDF2=function(e,t,r){return u.create(r).compute(e,t)},h.PBKDF2)},function(e,t,r){var n,a,i,o,s,l,c,u;e.exports=(u=r(131),r(140),r(147),a=(n=u).lib,i=a.Base,o=a.WordArray,s=n.algo,l=s.MD5,c=s.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,a=n.hasher.create(),i=o.create(),s=i.words,l=n.keySize,c=n.iterations;s.length<l;){r&&a.update(r),r=a.update(e).finalize(t),a.reset();for(var u=1;u<c;u++)r=a.finalize(r),a.reset();i.concat(r)}return i.sigBytes=4*l,i}}),n.EvpKDF=function(e,t,r){return c.create(r).compute(e,t)},u.EvpKDF)},function(e,t,r){var n;e.exports=(n=r(131),r(149),void(n.lib.Cipher||function(e){var t=n,r=t.lib,a=r.Base,i=r.WordArray,o=r.BufferedBlockAlgorithm,s=t.enc,l=(s.Utf8,s.Base64),c=t.algo.EvpKDF,u=r.Cipher=o.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:y}return function(t){return{encrypt:function(r,n,a){return e(n).encrypt(t,r,n,a)},decrypt:function(r,n,a){return e(n).decrypt(t,r,n,a)}}}}()}),h=(r.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),d=r.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=h.CBC=function(){var t=d.extend();function r(t,r,n){var a,i=this._iv;i?(a=i,this._iv=e):a=this._prevBlock;for(var o=0;o<n;o++)t[r+o]^=a[o]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize;r.call(this,e,t,a),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+a)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize,i=e.slice(t,t+a);n.decryptBlock(e,t),r.call(this,e,t,a),this._prevBlock=i}}),t}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,a=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(a);var l=i.create(o,n);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},v=(r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:f,padding:p}),reset:function(){var e;u.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),r.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?i.create([1398893684,1701076831]).concat(r).concat(t):t).toString(l)},parse:function(e){var t,r=l.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=i.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),v.create({ciphertext:r,salt:t})}},y=r.SerializableCipher=a.extend({cfg:a.extend({format:g}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var a=e.createEncryptor(r,n),i=a.finalize(t),o=a.cfg;return v.create({ciphertext:i,key:r,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),m=(t.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=i.random(8));var a=c.create({keySize:t+r}).compute(e,n),o=i.create(a.words.slice(t),4*r);return a.sigBytes=4*t,v.create({key:a,iv:o,salt:n})}},_=r.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:m}),encrypt:function(e,t,r,n){var a=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=a.iv;var i=y.encrypt.call(this,e,t,a.key,n);return i.mixIn(a),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var a=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=a.iv,y.decrypt.call(this,e,t,a.key,n)}})}()))},function(e,t,r){var n;e.exports=(n=r(131),r(150),n.mode.CFB=function(){var e=n.lib.BlockCipherMode.extend();function t(e,t,r,n){var a,i=this._iv;i?(a=i.slice(0),this._iv=void 0):a=this._prevBlock,n.encryptBlock(a,0);for(var o=0;o<r;o++)e[t+o]^=a[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize;t.call(this,e,r,a,n),this._prevBlock=e.slice(r,r+a)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize,i=e.slice(r,r+a);t.call(this,e,r,a,n),this._prevBlock=i}}),e}(),n.mode.CFB)},function(e,t,r){var n,a,i;e.exports=(i=r(131),r(150),i.mode.CTR=(n=i.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,a=this._iv,i=this._counter;a&&(i=this._counter=a.slice(0),this._iv=void 0);var o=i.slice(0);r.encryptBlock(o,0),i[n-1]=i[n-1]+1|0;for(var s=0;s<n;s++)e[t+s]^=o[s]}}),n.Decryptor=a,n),i.mode.CTR)},function(e,t,r){var n;e.exports=(n=r(131),r(150),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
n.mode.CTRGladman=function(){var e=n.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}var r=e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(o);var s=o.slice(0);n.encryptBlock(s,0);for(var l=0;l<a;l++)e[r+l]^=s[l]}});return e.Decryptor=r,e}(),n.mode.CTRGladman)},function(e,t,r){var n,a,i;e.exports=(i=r(131),r(150),i.mode.OFB=(n=i.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,a=this._iv,i=this._keystream;a&&(i=this._keystream=a.slice(0),this._iv=void 0),r.encryptBlock(i,0);for(var o=0;o<n;o++)e[t+o]^=i[o]}}),n.Decryptor=a,n),i.mode.OFB)},function(e,t,r){var n,a;e.exports=(a=r(131),r(150),a.mode.ECB=((n=a.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),n.Decryptor=n.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),n),a.mode.ECB)},function(e,t,r){var n;e.exports=(n=r(131),r(150),n.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,a=n-r%n,i=r+a-1;e.clamp(),e.words[i>>>2]|=a<<24-i%4*8,e.sigBytes+=a},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.pad.Ansix923)},function(e,t,r){var n;e.exports=(n=r(131),r(150),n.pad.Iso10126={pad:function(e,t){var r=4*t,a=r-e.sigBytes%r;e.concat(n.lib.WordArray.random(a-1)).concat(n.lib.WordArray.create([a<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.pad.Iso10126)},function(e,t,r){var n;e.exports=(n=r(131),r(150),n.pad.Iso97971={pad:function(e,t){e.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(e,t)},unpad:function(e){n.pad.ZeroPadding.unpad(e),e.sigBytes--}},n.pad.Iso97971)},function(e,t,r){var n;e.exports=(n=r(131),r(150),n.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){var t=e.words,r=e.sigBytes-1;for(r=e.sigBytes-1;r>=0;r--)if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},n.pad.ZeroPadding)},function(e,t,r){var n;e.exports=(n=r(131),r(150),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},function(e,t,r){var n,a,i,o;e.exports=(o=r(131),r(150),a=(n=o).lib.CipherParams,i=n.enc.Hex,n.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return a.create({ciphertext:t})}},o.format.Hex)},function(e,t,r){var n;e.exports=(n=r(131),r(137),r(139),r(149),r(150),function(){var e=n,t=e.lib.BlockCipher,r=e.algo,a=[],i=[],o=[],s=[],l=[],c=[],u=[],h=[],d=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,a[r]=p,i[p]=r;var v=e[r],g=e[v],y=e[g],m=257*e[p]^16843008*p;o[r]=m<<24|m>>>8,s[r]=m<<16|m>>>16,l[r]=m<<8|m>>>24,c[r]=m,m=16843009*y^65537*g^257*v^16843008*r,u[p]=m<<24|m>>>8,h[p]=m<<16|m>>>16,d[p]=m<<8|m>>>24,f[p]=m,r?(r=v^e[e[e[y^v]]],n^=e[e[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],v=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],o=0;o<n;o++)o<r?i[o]=t[o]:(c=i[o-1],o%r?r>6&&o%r==4&&(c=a[c>>>24]<<24|a[c>>>16&255]<<16|a[c>>>8&255]<<8|a[255&c]):(c=a[(c=c<<8|c>>>24)>>>24]<<24|a[c>>>16&255]<<16|a[c>>>8&255]<<8|a[255&c],c^=p[o/r|0]<<24),i[o]=i[o-r]^c);for(var s=this._invKeySchedule=[],l=0;l<n;l++){if(o=n-l,l%4)var c=i[o];else c=i[o-4];s[l]=l<4||o<=4?c:u[a[c>>>24]]^h[a[c>>>16&255]]^d[a[c>>>8&255]]^f[a[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,l,c,a)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,u,h,d,f,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,a,i,o,s){for(var l=this._nRounds,c=e[t]^r[0],u=e[t+1]^r[1],h=e[t+2]^r[2],d=e[t+3]^r[3],f=4,p=1;p<l;p++){var v=n[c>>>24]^a[u>>>16&255]^i[h>>>8&255]^o[255&d]^r[f++],g=n[u>>>24]^a[h>>>16&255]^i[d>>>8&255]^o[255&c]^r[f++],y=n[h>>>24]^a[d>>>16&255]^i[c>>>8&255]^o[255&u]^r[f++],m=n[d>>>24]^a[c>>>16&255]^i[u>>>8&255]^o[255&h]^r[f++];c=v,u=g,h=y,d=m}v=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[h>>>8&255]<<8|s[255&d])^r[f++],g=(s[u>>>24]<<24|s[h>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^r[f++],y=(s[h>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^r[f++],m=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&h])^r[f++],e[t]=v,e[t+1]=g,e[t+2]=y,e[t+3]=m},keySize:8});e.AES=t._createHelper(v)}(),n.AES)},function(e,t,r){var n;e.exports=(n=r(131),r(137),r(139),r(149),r(150),function(){var e=n,t=e.lib,r=t.WordArray,a=t.BlockCipher,i=e.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=i.DES=a.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=o[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var a=this._subKeys=[],i=0;i<16;i++){var c=a[i]=[],u=l[i];for(r=0;r<24;r++)c[r/6|0]|=t[(s[r]-1+u)%28]<<31-r%6,c[4+(r/6|0)]|=t[28+(s[r+24]-1+u)%28]<<31-r%6;for(c[0]=c[0]<<1|c[0]>>>31,r=1;r<7;r++)c[r]=c[r]>>>4*(r-1)+3;c[7]=c[7]<<5|c[7]>>>27}var h=this._invSubKeys=[];for(r=0;r<16;r++)h[r]=a[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var a=r[n],i=this._lBlock,o=this._rBlock,s=0,l=0;l<8;l++)s|=c[l][((o^a[l])&u[l])>>>0];this._lBlock=o,this._rBlock=i^s}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function f(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}e.DES=a._createHelper(h);var p=i.TripleDES=a.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),a=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=h.createEncryptor(r.create(t)),this._des2=h.createEncryptor(r.create(n)),this._des3=h.createEncryptor(r.create(a))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=a._createHelper(p)}(),n.TripleDES)},function(e,t,r){var n;e.exports=(n=r(131),r(137),r(139),r(149),r(150),function(){var e=n,t=e.lib.StreamCipher,r=e.algo,a=r.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],a=0;a<256;a++)n[a]=a;a=0;for(var i=0;a<256;a++){var o=a%r,s=t[o>>>2]>>>24-o%4*8&255;i=(i+n[a]+s)%256;var l=n[a];n[a]=n[i],n[i]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,r=this._j,n=0,a=0;a<4;a++){r=(r+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[r],e[r]=i,n|=e[(e[t]+e[r])%256]<<24-8*a}return this._i=t,this._j=r,n}e.RC4=t._createHelper(a);var o=r.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(o)}(),n.RC4)},function(e,t,r){var n;e.exports=(n=r(131),r(137),r(139),r(149),r(150),function(){var e=n,t=e.lib.StreamCipher,r=e.algo,a=[],i=[],o=[],s=r.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],a=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)a[r]^=n[r+4&7];if(t){var i=t.words,o=i[0],s=i[1],c=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(a[0]^=c,a[1]^=h,a[2]^=u,a[3]^=d,a[4]^=c,a[5]^=h,a[6]^=u,a[7]^=d,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),a[0]=r[0]^r[5]>>>16^r[3]<<16,a[1]=r[2]^r[7]>>>16^r[5]<<16,a[2]=r[4]^r[1]>>>16^r[7]<<16,a[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)a[n]=16711935&(a[n]<<8|a[n]>>>24)|4278255360&(a[n]<<24|a[n]>>>8),e[t+n]^=a[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],a=65535&n,s=n>>>16,l=((a*a>>>17)+a*s>>>15)+s*s,c=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=l^c}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.Rabbit=t._createHelper(s)}(),n.Rabbit)},function(e,t,r){var n;e.exports=(n=r(131),r(137),r(139),r(149),r(150),function(){var e=n,t=e.lib.StreamCipher,r=e.algo,a=[],i=[],o=[],s=r.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var a=0;a<4;a++)l.call(this);for(a=0;a<8;a++)n[a]^=r[a+4&7];if(t){var i=t.words,o=i[0],s=i[1],c=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(n[0]^=c,n[1]^=h,n[2]^=u,n[3]^=d,n[4]^=c,n[5]^=h,n[6]^=u,n[7]^=d,a=0;a<4;a++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),a[0]=r[0]^r[5]>>>16^r[3]<<16,a[1]=r[2]^r[7]>>>16^r[5]<<16,a[2]=r[4]^r[1]>>>16^r[7]<<16,a[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)a[n]=16711935&(a[n]<<8|a[n]>>>24)|4278255360&(a[n]<<24|a[n]>>>8),e[t+n]^=a[n]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],a=65535&n,s=n>>>16,l=((a*a>>>17)+a*s>>>15)+s*s,c=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=l^c}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.RabbitLegacy=t._createHelper(s)}(),n.RabbitLegacy)},function(module,exports,__webpack_require__){(function(process,Buffer,module){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=_superPropBase(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){asyncGeneratorStep(i,n,a,o,s,"next",e)}function s(e){asyncGeneratorStep(i,n,a,o,s,"throw",e)}o(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}factory=function(){return function(){"use strict";var __webpack_modules__=[,function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.url,a=t.target,o=t.rel,s=t.enabled,l=void 0===s||s;(0,n.assert)(r&&"string"==typeof r,'addLinkAttributes: A valid "url" parameter must provided.');var c=(0,n.removeNullCharacters)(r);l?e.href=e.title=c:(e.href="",e.title="Disabled: ".concat(c),e.onclick=function(){return!1});var u="";switch(a){case p.NONE:break;case p.SELF:u="_self";break;case p.BLANK:u="_blank";break;case p.PARENT:u="_parent";break;case p.TOP:u="_top"}e.target=u,e.rel="string"==typeof o?o:i},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),r=e.indexOf("?"),n=Math.min(t>0?t:e.length,r>0?r:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)},t.getPdfFilenameFromUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(v(e))return(0,n.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;var r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e),i=r.exec(a[1])||r.exec(a[2])||r.exec(a[3]);if(i&&(i=i[0]).includes("%"))try{i=r.exec(decodeURIComponent(i))[0]}catch(e){}return i||t},t.getXfaPageViewport=function(e,t){var r=t.scale,n=void 0===r?1:r,a=t.rotation,i=void 0===a?0:a,o=e.attributes.style,s=o.width,l=o.height,c=[0,0,parseInt(s),parseInt(l)];return new d({viewBox:c,scale:n,rotation:i})},t.isDataScheme=v,t.isPdfFile=function(e){return"string"==typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=m,t.loadScript=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(r,n){var a=document.createElement("script");a.src=e,a.onload=function(e){t&&a.remove(),r(e)},a.onerror=function(){n(new Error("Cannot load script at: ".concat(a.src)))},(document.head||document.documentElement).appendChild(a)}))},t.StatTimer=t.RenderingCancelledException=t.PDFDateString=t.PageViewport=t.LinkTarget=t.DOMSVGFactory=t.DOMStandardFontDataFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=void 0;var n=r(2),a=r(5),i="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=i;var o=function(e){function t(){var e,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ownerDocument,n=void 0===r?globalThis.document:r;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._document=n,e}return _inherits(t,e),_createClass(t,[{key:"_createCanvas",value:function(e,t){var r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}]),t}(a.BaseCanvasFactory);function s(e){return l.apply(this,arguments)}function l(){return(l=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,a,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],!m(t,document.baseURI)){e.next=21;break}return e.next=4,fetch(t);case 4:if((a=e.sent).ok){e.next=7;break}throw new Error(a.statusText);case 7:if(!r){e.next=15;break}return e.t1=Uint8Array,e.next=11,a.arrayBuffer();case 11:e.t2=e.sent,e.t0=new e.t1(e.t2),e.next=20;break;case 15:return e.t3=n.stringToBytes,e.next=18,a.text();case 18:e.t4=e.sent,e.t0=(0,e.t3)(e.t4);case 20:return e.abrupt("return",e.t0);case 21:return e.abrupt("return",new Promise((function(e,a){var i=new XMLHttpRequest;i.open("GET",t,!0),r&&(i.responseType="arraybuffer"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var t;if((200===i.status||0===i.status)&&(r&&i.response?t=new Uint8Array(i.response):!r&&i.responseText&&(t=(0,n.stringToBytes)(i.responseText)),t))return void e(t);a(new Error(i.statusText))}},i.send(null)})));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.DOMCanvasFactory=o;var c=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_fetchData",value:function(e,t){return s(e,this.isCompressed).then((function(e){return{cMapData:e,compressionType:t}}))}}]),t}(a.BaseCMapReaderFactory);t.DOMCMapReaderFactory=c;var u=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_fetchData",value:function(e){return s(e,!0)}}]),t}(a.BaseStandardFontDataFactory);t.DOMStandardFontDataFactory=u;var h=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_createSVG",value:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}}]),t}(a.BaseSVGFactory);t.DOMSVGFactory=h;var d=function(){function e(t){var r=t.viewBox,n=t.scale,a=t.rotation,i=t.offsetX,o=void 0===i?0:i,s=t.offsetY,l=void 0===s?0:s,c=t.dontFlip,u=void 0!==c&&c;_classCallCheck(this,e),this.viewBox=r,this.scale=n,this.rotation=a,this.offsetX=o,this.offsetY=l;var h,d,f,p,v,g,y,m,_=(r[2]+r[0])/2,b=(r[3]+r[1])/2;switch((a%=360)<0&&(a+=360),a){case 180:h=-1,d=0,f=0,p=1;break;case 90:h=0,d=1,f=1,p=0;break;case 270:h=0,d=-1,f=-1,p=0;break;case 0:h=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(f=-f,p=-p),0===h?(v=Math.abs(b-r[1])*n+o,g=Math.abs(_-r[0])*n+l,y=Math.abs(r[3]-r[1])*n,m=Math.abs(r[2]-r[0])*n):(v=Math.abs(_-r[0])*n+o,g=Math.abs(b-r[1])*n+l,y=Math.abs(r[2]-r[0])*n,m=Math.abs(r[3]-r[1])*n),this.transform=[h*n,d*n,f*n,p*n,v-h*n*_-f*n*b,g-d*n*_-p*n*b],this.width=y,this.height=m}return _createClass(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.scale,n=void 0===r?this.scale:r,a=t.rotation,i=void 0===a?this.rotation:a,o=t.offsetX,s=void 0===o?this.offsetX:o,l=t.offsetY,c=void 0===l?this.offsetY:l,u=t.dontFlip,h=void 0!==u&&u;return new e({viewBox:this.viewBox.slice(),scale:n,rotation:i,offsetX:s,offsetY:c,dontFlip:h})}},{key:"convertToViewportPoint",value:function(e,t){return n.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=n.Util.applyTransform([e[0],e[1]],this.transform),r=n.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}},{key:"convertToPdfPoint",value:function(e,t){return n.Util.applyInverseTransform([e,t],this.transform)}}]),e}();t.PageViewport=d;var f=function(e){function t(e,r){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).type=r,n}return _inherits(t,e),t}(n.BaseException);t.RenderingCancelledException=f;var p={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function v(e){for(var t=e.length,r=0;r<t&&""===e[r].trim();)r++;return"data:"===e.substring(r,r+5).toLowerCase()}t.LinkTarget=p;var g,y=function(){function e(){_classCallCheck(this,e),this.started=Object.create(null),this.times=[]}return _createClass(e,[{key:"time",value:function(e){e in this.started&&(0,n.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,n.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e=[],t=0,r=!0,n=!1,a=void 0;try{for(var i,o=this.times[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value.name;s.length>t&&(t=s.length)}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}var l=!0,c=!1,u=void 0;try{for(var h,d=this.times[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value,p=f.end-f.start;e.push("".concat(f.name.padEnd(t)," ").concat(p,"ms\n"))}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}return e.join("")}}]),e}();function m(e,t){try{var r=(t?new URL(e,t):new URL(e)).protocol;return"http:"===r||"https:"===r}catch(e){return!1}}t.StatTimer=y;var _=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"toDateObject",value:function(e){if(!e||!(0,n.isString)(e))return null;g||(g=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=g.exec(e);if(!t)return null;var r=parseInt(t[1],10),a=parseInt(t[2],10);a=a>=1&&a<=12?a-1:0;var i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;var o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;var s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;var l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;var c=t[7]||"Z",u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;var h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===c?(o+=u,s+=h):"+"===c&&(o-=u,s-=h),new Date(Date.UTC(r,a,i,o,s,l))}}]),e}();t.PDFDateString=_},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=_,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var r=0,n=0;n<t;n++)r+=_(e[n]);for(var a=0,i=new Uint8Array(r),o=0;o<t;o++){var s=e[o];s instanceof Uint8Array||(s="string"==typeof s?m(s):new Uint8Array(s));var l=s.byteLength;i.set(s,a),a+=l}return i},t.assert=s,t.bytesToString=function(e){s(null!==e&&"object"===_typeof(e)&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var r=[],n=0;n<t;n+=8192){var a=Math.min(n+8192,t),i=e.subarray(n,a);r.push(String.fromCharCode.apply(null,i))}return r.join("")},t.createObjectURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&!r)return URL.createObjectURL(new Blob([e],{type:t}));for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="data:".concat(t,";base64,"),i=0,o=e.length;i<o;i+=3){var s=255&e[i],l=255&e[i+1],c=255&e[i+2];a+=n[s>>2]+n[(3&s)<<4|l>>4]+n[i+1<o?(15&l)<<2|c>>6:64]+n[i+2<o?63&c:64]}return a},t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise((function(r,n){e.resolve=function(e){t=!0,r(e)},e.reject=function(e){t=!0,n(e)}})),e},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var r=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(e){}return null},t.escapeString=function(e){return e.replace(/([()\\\n\r])/g,(function(e){return"\n"===e?"\\n":"\r"===e?"\\r":"\\".concat(e)}))},t.getModificationDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getVerbosityLevel=function(){return a},t.info=function(e){a>=n.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===_typeof(e)&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0},t.isAscii=function(e){return/^[\x00-\x7F]*$/.test(e)},t.isBool=function(e){return"boolean"==typeof e},t.isNum=function(e){return"number"==typeof e},t.isSameOrigin=function(e,t){var r;try{if(!(r=new URL(e)).origin||"null"===r.origin)return!1}catch(e){return!1}var n=new URL(t,r);return r.origin===n.origin},t.isString=function(e){return"string"==typeof e},t.objectFromMap=function(e){var t=Object.create(null),r=!0,n=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=_slicedToArray(i.value,2),l=s[0],c=s[1];t[l]=c}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t},t.objectSize=function(e){return Object.keys(e).length},t.removeNullCharacters=function(e){return"string"!=typeof e?(i("The argument for removeNullCharacters must be a string."),e):e.replace(y,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(a=e)},t.shadow=l,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=m,t.stringToPDFString=function(e){var t=e.length,r=[];if("þ"===e[0]&&"ÿ"===e[1])for(var n=2;n<t;n+=2)r.push(String.fromCharCode(e.charCodeAt(n)<<8|e.charCodeAt(n+1)));else if("ÿ"===e[0]&&"þ"===e[1])for(var a=2;a<t;a+=2)r.push(String.fromCharCode(e.charCodeAt(a+1)<<8|e.charCodeAt(a)));else for(var i=0;i<t;++i){var o=w[e.charCodeAt(i)];r.push(o?String.fromCharCode(o):e.charAt(i))}return r.join("")},t.stringToUTF16BEString=function(e){for(var t=["þÿ"],r=0,n=e.length;r<n;r++){var a=e.charCodeAt(r);t.push(String.fromCharCode(a>>8&255),String.fromCharCode(255&a))}return t.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.unreachable=o,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=i,t.VerbosityLevel=t.Util=t.UNSUPPORTED_FEATURES=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.IsLittleEndianCached=t.IsEvalSupportedCached=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,r(3),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var n={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=n,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var a=n.WARNINGS;function i(e){a>=n.WARNINGS&&console.log("Warning: ".concat(e))}function o(e){throw new Error(e)}function s(e,t){e||o(t)}function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}var c=function(){function e(t){this.constructor===e&&o("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=c;var u=function(e){function t(e,r){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).code=r,n}return _inherits(t,e),t}(c);t.PasswordException=u;var h=function(e){function t(e,r){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).details=r,n}return _inherits(t,e),t}(c);t.UnknownErrorException=h;var d=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c);t.InvalidPDFException=d;var f=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c);t.MissingPDFException=f;var p=function(e){function t(e,r){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).status=r,n}return _inherits(t,e),t}(c);t.UnexpectedResponseException=p;var v=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c);t.FormatError=v;var g=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(c);t.AbortException=g;var y=/\x00/g;function m(e){s("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,r=new Uint8Array(t),n=0;n<t;++n)r[n]=255&e.charCodeAt(n);return r}function _(e){return void 0!==e.length?e.length:(s(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}var b={get value(){return l(this,"value",((e=new Uint8Array(4))[0]=1,1===new Uint32Array(e.buffer,0,1)[0]));var e}};t.IsLittleEndianCached=b;var k={get value(){return l(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};t.IsEvalSupportedCached=k;var x=_toConsumableArray(Array(256).keys()).map((function(e){return e.toString(16).padStart(2,"0")})),A=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"makeHexColor",value:function(e,t,r){return"#".concat(x[e]).concat(x[t]).concat(x[r])}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var r=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r]}},{key:"getAxialAlignedBoundingBox",value:function(t,r){var n=e.applyTransform(t,r),a=e.applyTransform(t.slice(2,4),r),i=e.applyTransform([t[0],t[3]],r),o=e.applyTransform([t[2],t[1]],r);return[Math.min(n[0],a[0],i[0],o[0]),Math.min(n[1],a[1],i[1],o[1]),Math.max(n[0],a[0],i[0],o[0]),Math.max(n[1],a[1],i[1],o[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],n=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],i=e[2]*t[1]+e[3]*t[3],o=(r+i)/2,s=Math.sqrt(Math.pow(r+i,2)-4*(r*i-a*n))/2,l=o+s||1,c=o-s||1;return[Math.sqrt(l),Math.sqrt(c)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(t,r){function n(e,t){return e-t}var a=[t[0],t[2],r[0],r[2]].sort(n),i=[t[1],t[3],r[1],r[3]].sort(n),o=[];return t=e.normalizeRect(t),r=e.normalizeRect(r),a[0]===t[0]&&a[1]===r[0]||a[0]===r[0]&&a[1]===t[0]?(o[0]=a[1],o[2]=a[2],i[0]===t[1]&&i[1]===r[1]||i[0]===r[1]&&i[1]===t[1]?(o[1]=i[1],o[3]=i[2],o):null):null}}]),e}();t.Util=A;var w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]},function(e,t,r){r(4)},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var r=!("object"!==(void 0===process?"undefined":_typeof(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=r},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSVGFactory=t.BaseStandardFontDataFactory=t.BaseCMapReaderFactory=t.BaseCanvasFactory=void 0;var n=r(2),a=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}return _createClass(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d")}}},{key:"reset",value:function(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}},{key:"_createCanvas",value:function(e,t){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}]),e}();t.BaseCanvasFactory=a;var i=function(){function e(t){var r=t.baseUrl,a=void 0===r?null:r,i=t.isCompressed,o=void 0!==i&&i;_classCallCheck(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=a,this.isCompressed=o}var t;return _createClass(e,[{key:"fetch",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,a,i,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(r){e.next=5;break}throw new Error("CMap name must be specified.");case 5:return a=this.baseUrl+r+(this.isCompressed?".bcmap":""),i=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE,e.abrupt("return",this._fetchData(a,i).catch((function(e){throw new Error("Unable to load ".concat(o.isCompressed?"binary ":"","CMap at: ").concat(a))})));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_fetchData",value:function(e,t){(0,n.unreachable)("Abstract method `_fetchData` called.")}}]),e}();t.BaseCMapReaderFactory=i;var o=function(){function e(t){var r=t.baseUrl,a=void 0===r?null:r;_classCallCheck(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=a}var t;return _createClass(e,[{key:"fetch",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.filename,this.baseUrl){e.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(r){e.next=5;break}throw new Error("Font filename must be specified.");case 5:return n="".concat(this.baseUrl).concat(r),e.abrupt("return",this._fetchData(n).catch((function(e){throw new Error("Unable to load font data at: ".concat(n))})));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_fetchData",value:function(e){(0,n.unreachable)("Abstract method `_fetchData` called.")}}]),e}();t.BaseStandardFontDataFactory=o;var s=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}return _createClass(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");var r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),r.setAttribute("width","".concat(e,"px")),r.setAttribute("height","".concat(t,"px")),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),r}},{key:"createElement",value:function(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}},{key:"_createSVG",value:function(e){(0,n.unreachable)("Abstract method `_createSVG` called.")}}]),e}();t.BaseSVGFactory=s},function(__unused_webpack_module,exports,__w_pdfjs_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(4),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,r=new PDFDocumentLoadingTask;if("string"==typeof e||e instanceof URL)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==_typeof(e))throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var n=Object.create(null),a=null,i=null;for(var o in t){var s=t[o];switch(o){case"url":if("undefined"!=typeof window)try{n[o]=new URL(s,window.location).href;continue}catch(e){(0,_util.warn)('Cannot create valid URL: "'.concat(e,'".'))}else if("string"==typeof s||s instanceof URL){n[o]=s.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":a=s;continue;case"worker":i=s;continue;case"data":if(_is_node.isNodeJS&&void 0!==Buffer&&s instanceof Buffer)n[o]=new Uint8Array(s);else{if(s instanceof Uint8Array)break;if("string"==typeof s)n[o]=(0,_util.stringToBytes)(s);else if("object"!==_typeof(s)||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");n[o]=new Uint8Array(s)}else n[o]=new Uint8Array(s)}continue}n[o]=s}if(n.rangeChunkSize=n.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.fontExtraProperties=!0===n.fontExtraProperties,n.pdfBug=!0===n.pdfBug,n.enableXfa=!0===n.enableXfa,("string"!=typeof n.docBaseUrl||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),Number.isInteger(n.maxImageSize)||(n.maxImageSize=-1),"boolean"!=typeof n.useWorkerFetch&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof n.useSystemFonts&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),void 0===n.ownerDocument&&(n.ownerDocument=globalThis.document),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!i){var l={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};i=l.port?PDFWorker.fromPort(l):new PDFWorker(l),r._worker=i}var c=r.docId;return i.promise.then((function(){if(r.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(i,n,a,c),t=new Promise((function(e){var t;a?t=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},a):n.data||(t=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),e(t)}));return Promise.all([e,t]).then((function(e){var t=_slicedToArray(e,2),a=t[0],o=t[1];if(r.destroyed)throw new Error("Loading aborted");var s=new _message_handler.MessageHandler(c,a,i.port);s.postMessageTransfers=i.postMessageTransfers;var l=new WorkerTransport(s,r,o,n);r._transport=l,s.send("Ready",null)}))})).catch(r._capability.reject),r}function _fetchDocument(e,t,r,n){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(r&&(t.length=r.length,t.initialData=r.initialData,t.progressiveDone=r.progressiveDone,t.contentDispositionFilename=r.contentDispositionFilename),e.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.10.377",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null}).then((function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t})))}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var PDFDocumentLoadingTask=(nextDocumentId=0,function(){function e(){_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+nextDocumentId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"destroy",value:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then((function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)}))}},{key:"promise",get:function(){return this._capability.promise}}]),e}()),nextDocumentId,PDFDataRangeTransport=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.length=t,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var r=!0,n=!1,a=void 0;try{for(var i,o=this._rangeListeners[Symbol.iterator]();!(r=(i=o.next()).done);r=!0)(0,i.value)(e,t)}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}}},{key:"onDataProgress",value:function(e,t){var r=this;this._readyCapability.promise.then((function(){var n=!0,a=!1,i=void 0;try{for(var o,s=r._progressListeners[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)(0,o.value)(e,t)}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}}))}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then((function(){var r=!0,n=!1,a=void 0;try{for(var i,o=t._progressiveReadListeners[Symbol.iterator]();!(r=(i=o.next()).done);r=!0)(0,i.value)(e)}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}}))}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then((function(){var t=!0,r=!1,n=void 0;try{for(var a,i=e._progressiveDoneListeners[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)(0,a.value)()}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,r){_classCallCheck(this,e),this._pdfInfo=t,this._transport=r,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}})}return _createClass(e,[{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}},{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(t,r,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,e),this._pageIndex=t,this._pageInfo=r,this._ownerDocument=a,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}var t;return _createClass(e,[{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,r=e.rotation,n=void 0===r?this.rotate:r,a=e.offsetX,i=void 0===a?0:a,o=e.offsetY,s=void 0===o?0:o,l=e.dontFlip,c=void 0!==l&&l;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:n,offsetX:i,offsetY:s,dontFlip:c})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,r=void 0===t?null:t,n="display"===r||"print"===r?r:null;return this._annotationsPromise&&this._annotationsIntent===n||(this._annotationsPromise=this._transport.getAnnotations(this._pageIndex,n),this._annotationsIntent=n),this._annotationsPromise}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(e){var t,r=this,n=e.canvasContext,a=e.viewport,i=e.intent,o=void 0===i?"display":i,s=e.renderInteractiveForms,l=void 0!==s&&s,c=e.transform,u=void 0===c?null:c,h=e.imageLayer,d=void 0===h?null:h,f=e.canvasFactory,p=void 0===f?null:f,v=e.background,g=void 0===v?null:v,y=e.includeAnnotationStorage,m=void 0!==y&&y,_=e.optionalContentConfigPromise,b=void 0===_?null:_;this._stats&&this._stats.time("Overall");var k="print"===o?"print":"display";this.pendingCleanup=!1,b||(b=this._transport.getOptionalContentConfig());var x=this._intentStates.get(k);x||(x=Object.create(null),this._intentStates.set(k,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);var A=p||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),w=m?this._transport.annotationStorage.serializable:null;x.displayReadyCapability||(x.displayReadyCapability=(0,_util.createPromiseCapability)(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:k,renderInteractiveForms:!0===l,annotationStorage:w}));var S=function(e){x.renderTasks.delete(C),(r.cleanupAfterRender||"print"===k)&&(r.pendingCleanup=!0),r._tryCleanup(),e?(C.capability.reject(e),r._abortOperatorList({intentState:x,reason:e})):C.capability.resolve(),r._stats&&(r._stats.timeEnd("Rendering"),r._stats.timeEnd("Overall"))},C=new InternalRenderTask({callback:S,params:{canvasContext:n,viewport:a,transform:u,imageLayer:d,background:g},objs:this.objs,commonObjs:this.commonObjs,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:A,useRequestAnimationFrame:"print"!==k,pdfBug:this._pdfBug});((t=x).renderTasks||(t.renderTasks=new Set)).add(C);var P=C.task;return Promise.all([x.displayReadyCapability.promise,b]).then((function(e){var t=_slicedToArray(e,2),n=t[0],a=t[1];r.pendingCleanup?S():(r._stats&&r._stats.time("Rendering"),C.initializeGraphics({transparency:n,optionalContentConfig:a}),C.operatorListChanged())})).catch(S),P}},{key:"getOperatorList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,r=void 0===t?"display":t;function n(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(a))}var a,i,o="oplist-".concat("print"===r?"print":"display"),s=this._intentStates.get(o);return s||(s=Object.create(null),this._intentStates.set(o,s)),s.opListReadCapability||((a=Object.create(null)).operatorListChanged=n,s.opListReadCapability=(0,_util.createPromiseCapability)(),((i=s).renderTasks||(i.renderTasks=new Set)).add(a),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:o})),s.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,r=void 0!==t&&t,n=e.disableCombineTextItems,a=void 0!==n&&n,i=e.includeMarkedContent,o=void 0!==i&&i,s=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===r,combineTextItems:!0!==a,includeMarkedContent:!0===o},{highWaterMark:s,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.streamTextContent(e);return new Promise((function(e,r){var n=t.getReader(),a={items:[],styles:Object.create(null)};!function t(){n.read().then((function(r){var n,i=r.value;r.done?e(a):(Object.assign(a.styles,i.styles),(n=a.items).push.apply(n,_toConsumableArray(i.items)),t())}),r)}()}))}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var e=[],t=!0,r=!1,n=void 0;try{for(var a,i=this._intentStates[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=_slicedToArray(a.value,2),s=o[0],l=o[1];if(this._abortOperatorList({intentState:l,reason:new Error("Page was destroyed."),force:!0}),!s.startsWith("oplist-")){var c=!0,u=!1,h=void 0;try{for(var d,f=l.renderTasks[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;e.push(p.completed),p.cancel()}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}}}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var t=!0,r=!1,n=void 0;try{for(var a,i=this._intentStates.values()[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value,s=o.renderTasks,l=o.operatorList;if(s.size>0||!l.lastChunk)return!1}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return this._intentStates.clear(),this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(e,t){var r=this._intentStates.get(t);r&&(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var r=0,n=e.length;r<n;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk;var a=!0,i=!1,o=void 0;try{for(var s,l=t.renderTasks[Symbol.iterator]();!(a=(s=l.next()).done);a=!0)s.value.operatorListChanged()}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var t=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var r=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),n=this._intentStates.get(e.intent);n.streamReader=r,function e(){r.read().then((function(r){var a=r.value;r.done?n.streamReader=null:t._transport.destroyed||(t._renderPageChunk(a,n),e())}),(function(e){if(n.streamReader=null,!t._transport.destroyed){if(n.operatorList){n.operatorList.lastChunk=!0;var r=!0,a=!1,i=void 0;try{for(var o,s=n.renderTasks[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)o.value.operatorListChanged()}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}t._tryCleanup()}if(n.displayReadyCapability)n.displayReadyCapability.reject(e);else{if(!n.opListReadCapability)throw e;n.opListReadCapability.reject(e)}}}))}()}},{key:"_abortOperatorList",value:function(e){var t=this,r=e.intentState,n=e.reason,a=e.force,i=void 0!==a&&a;if((0,_util.assert)(n instanceof Error||"object"===_typeof(n)&&null!==n,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),r.streamReader){if(!i){if(r.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException)return void(r.streamReaderCancelTimeout=setTimeout((function(){t._abortOperatorList({intentState:r,reason:n,force:!0}),r.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(r.streamReader.cancel(new _util.AbortException(null==n?void 0:n.message)),r.streamReader=null,!this._transport.destroyed){var o=!0,s=!1,l=void 0;try{for(var c,u=this._intentStates[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=_slicedToArray(c.value,2),d=h[0];if(h[1]===r){this._intentStates.delete(d);break}}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}this.cleanup()}}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){_classCallCheck(this,e),this._listeners=[],this._deferred=Promise.resolve(void 0)}return _createClass(e,[{key:"postMessage",value:function(e,t){var r=this,n=new WeakMap,a={data:function e(r){if("function"==typeof r||"symbol"===_typeof(r)||r instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(null==r?void 0:r.toString()));if("object"!==_typeof(r)||null===r)return r;if(n.has(r))return n.get(r);var a,i;if((a=r.buffer)&&(0,_util.isArrayBuffer)(a))return i=null!=t&&t.includes(a)?new r.constructor(a,r.byteOffset,r.byteLength):new r.constructor(r),n.set(r,i),i;if(r instanceof Map){i=new Map,n.set(r,i);var o=!0,s=!1,l=void 0;try{for(var c,u=r[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=_slicedToArray(c.value,2),d=h[0],f=h[1];i.set(d,e(f))}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}return i}if(r instanceof Set){i=new Set,n.set(r,i);var p=!0,v=!1,g=void 0;try{for(var y,m=r[Symbol.iterator]();!(p=(y=m.next()).done);p=!0){var _=y.value;i.add(e(_))}}catch(e){v=!0,g=e}finally{try{p||null==m.return||m.return()}finally{if(v)throw g}}return i}for(var b in i=Array.isArray(r)?[]:Object.create(null),n.set(r,i),r){for(var k,x=void 0,A=r;!(x=Object.getOwnPropertyDescriptor(A,b));)A=Object.getPrototypeOf(A);void 0!==x.value&&("function"!=typeof x.value||null!==(k=r.hasOwnProperty)&&void 0!==k&&k.call(r,b))&&(i[b]=e(x.value))}return i}(e)};this._deferred.then((function(){var e=!0,t=!1,n=void 0;try{for(var i,o=r._listeners[Symbol.iterator]();!(e=(i=o.next()).done);e=!0)i.value.call(r,a)}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}))}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var r=this._listeners.indexOf(t);this._listeners.splice(r,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var _document$currentScri,pdfjsFilePath=null===(_document$currentScri=document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var e;try{var t;e=null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler}catch(e){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref23=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var mainWorkerMessageHandler,worker;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context5.next=3;break}return _context5.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context5.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context5.abrupt("return",worker.WorkerMessageHandler);case 6:return _context5.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context5.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context5.stop()}}),_callee5)})));return function(){return _ref23.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){var t="importScripts('"+e+"');";return URL.createObjectURL(new Blob([t]))}var PDFWorker=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.name,n=void 0===r?null:r,a=t.port,i=void 0===a?null:a,o=t.verbosity,s=void 0===o?(0,_util.getVerbosityLevel)():o;if(_classCallCheck(this,e),i&&pdfWorkerPorts.has(i))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=n,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,i)return pdfWorkerPorts.set(i,this),void this._initializeFromPort(i);this._initialize()}return _createClass(e,[{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var t=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,t)||(t=createCDNWrapper(new URL(t,window.location).href));var r=new Worker(t),n=new _message_handler.MessageHandler("main","worker",r),a=function(){r.removeEventListener("error",i),n.destroy(),r.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},i=function(){e._webWorker||a()};r.addEventListener("error",i),n.on("test",(function(t){r.removeEventListener("error",i),e.destroyed?a():t?(e._messageHandler=n,e._port=r,e._webWorker=r,t.supportTransfers||(e.postMessageTransfers=!1),e._readyCapability.resolve(),n.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),n.destroy(),r.terminate())})),n.on("ready",(function(t){if(r.removeEventListener("error",i),e.destroyed)a();else try{o()}catch(t){e._setupFakeWorker()}}));var o=function(){var t=new Uint8Array([e.postMessageTransfers?255:0]);try{n.send("test",t,[t.buffer])}catch(e){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,n.send("test",t)}};return void o()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then((function(t){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var r=new LoopbackPort;e._port=r;var n="fake"+nextFakeWorkerId++,a=new _message_handler.MessageHandler(n+"_worker",n,r);t.setup(a,r);var i=new _message_handler.MessageHandler(n,n+"_worker",r);e._messageHandler=i,e._readyCapability.resolve(),i.send("configure",{verbosity:e.verbosity})}})).catch((function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new e(t)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),e}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function e(t,r,n,a){_classCallCheck(this,e),this.messageHandler=t,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this._params=a,a.useWorkerFetch||(this.CMapReaderFactory=new a.CMapReaderFactory({baseUrl:a.cMapUrl,isCompressed:a.cMapPacked}),this.StandardFontDataFactory=new a.StandardFontDataFactory({baseUrl:a.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}var t;return _createClass(e,[{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[],r=!0,n=!1,a=void 0;try{for(var i,o=this.pageCache[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;s&&t.push(s._destroy())}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}this.pageCache.length=0,this.pagePromises.length=0,this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var l=this.messageHandler.sendWithPromise("Terminate",null);return t.push(l),Promise.all(t).then((function(){e.commonObjs.clear(),e.fontLoader.clear(),e._hasJSActionsPromise=null,e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,r=this.loadingTask;t.on("GetReader",(function(t,r){(0,_util.assert)(e._networkStream,"GetReader - no `IPDFStream` instance available."),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},r.onPull=function(){e._fullReader.read().then((function(e){var t=e.value;e.done?r.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){r.error(e)}))},r.onCancel=function(t){e._fullReader.cancel(t),r.ready.catch((function(t){if(!e.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(function(t){var n=(0,_util.createPromiseCapability)(),a=e._fullReader;return a.headersReady.then((function(){a.isStreamingSupported&&a.isRangeSupported||(e._lastProgress&&r.onProgress&&r.onProgress(e._lastProgress),a.onProgress=function(e){r.onProgress&&r.onProgress({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:a.isStreamingSupported,isRangeSupported:a.isRangeSupported,contentLength:a.contentLength})}),n.reject),n.promise})),t.on("GetRangeReader",(function(t,r){(0,_util.assert)(e._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var n=e._networkStream.getRangeReader(t.begin,t.end);n?(r.onPull=function(){n.read().then((function(e){var t=e.value;e.done?r.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){r.error(e)}))},r.onCancel=function(t){n.cancel(t),r.ready.catch((function(t){if(!e.destroyed)throw t}))}):r.close()})),t.on("GetDoc",(function(t){var n=t.pdfInfo;e._numPages=n.numPages,e._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(n,e))})),t.on("DocException",(function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details)}t instanceof Error||(0,_util.warn)("DocException - expected a valid Error."),r._capability.reject(t)})),t.on("PasswordRequest",(function(t){if(e._passwordCapability=(0,_util.createPromiseCapability)(),r.onPassword)try{r.onPassword((function(t){e._passwordCapability.resolve({password:t})}),t.code)}catch(t){e._passwordCapability.reject(t)}else e._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return e._passwordCapability.promise})),t.on("DataLoaded",(function(t){r.onProgress&&r.onProgress({loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(function(t){e.destroyed||e.pageCache[t.pageIndex]._startRenderPage(t.transparency,t.intent)})),t.on("commonobj",(function(r){var n;if(!e.destroyed){var a=_slicedToArray(r,3),i=a[0],o=a[1],s=a[2];if(!e.commonObjs.has(i))switch(o){case"Font":var l=e._params;if("error"in s){var c=s.error;(0,_util.warn)("Error during font loading: ".concat(c)),e.commonObjs.resolve(i,c);break}var u=null;l.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled&&(u={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var h=new _font_loader.FontFaceObject(s,{isEvalSupported:l.isEvalSupported,disableFontFace:l.disableFontFace,ignoreErrors:l.ignoreErrors,onUnsupportedFeature:e._onUnsupportedFeature.bind(e),fontRegistry:u});e.fontLoader.bind(h).catch((function(e){return t.sendWithPromise("FontFallback",{id:i})})).finally((function(){!l.fontExtraProperties&&h.data&&(h.data=null),e.commonObjs.resolve(i,h)}));break;case"FontPath":case"Image":e.commonObjs.resolve(i,s);break;default:throw new Error("Got unknown common object type ".concat(o))}}})),t.on("obj",(function(t){var r;if(!e.destroyed){var n=_slicedToArray(t,4),a=n[0],i=n[1],o=n[2],s=n[3],l=e.pageCache[i];if(!l.objs.has(a))switch(o){case"Image":l.objs.resolve(a,s),(null==s?void 0:null===(r=s.data)||void 0===r?void 0:r.length)>8e6&&(l.cleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(a,s);break;default:throw new Error("Got unknown object type ".concat(o))}}})),t.on("DocProgress",(function(t){e.destroyed||r.onProgress&&r.onProgress({loaded:t.loaded,total:t.total})})),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",(function(t){return e.destroyed?Promise.reject(new Error("Worker was destroyed.")):e.CMapReaderFactory?e.CMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))})),t.on("FetchStandardFontData",(function(t){return e.destroyed?Promise.reject(new Error("Worker was destroyed.")):e.StandardFontDataFactory?e.StandardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))}))}},{key:"_onUnsupportedFeature",value:function(e){var t=e.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));var r=e-1;if(r in this.pagePromises)return this.pagePromises[r];var n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then((function(e){if(t.destroyed)throw new Error("Transport destroyed");var n=new PDFPageProxy(r,e,t,t._params.ownerDocument,t._params.pdfBug);return t.pageCache[r]=n,n}));return this.pagePromises[r]=n,n}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch((function(e){return Promise.reject(new Error(e))}))}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"saveDocument",value:function(){var e,t,r=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null}).finally((function(){r.annotationStorage.resetModified()}))}},{key:"getFieldObjects",value:function(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}},{key:"getStructTree",value:function(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((function(e){return new _optional_content_config.OptionalContentConfig(e)}))}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(t){var r,n,a,i;return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:null!==(r=null===(n=e._fullReader)||void 0===n?void 0:n.filename)&&void 0!==r?r:null,contentLength:null!==(a=null===(i=e._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==a?a:null}}))}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,n,a,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]&&i[0],e.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){e.next=5;break}return e.abrupt("return");case 5:r=0,n=this.pageCache.length;case 6:if(!(r<n)){e.next=16;break}if(a=this.pageCache[r]){e.next=10;break}return e.abrupt("continue",13);case 10:if(a.cleanup()){e.next=13;break}throw new Error("startCleanup: Page ".concat(r+1," is currently rendering."));case 13:r++,e.next=6;break;case 16:this.commonObjs.clear(),t||this.fontLoader.clear(),this._hasJSActionsPromise=null;case 19:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch})}}]),e}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;var r=this._objs[e];if(!r||!r.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return r.data}},{key:"has",value:function(e){var t=this._objs[e];return(null==t?void 0:t.resolved)||!1}},{key:"resolve",value:function(e,t){var r=this._ensureObj(e);r.resolved=!0,r.data=t,r.capability.resolve(t)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function e(t){_classCallCheck(this,e),this._internalRenderTask=t,this.onContinue=null}return _createClass(e,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),e}(),InternalRenderTask=(canvasInRendering=new WeakSet,function(){function e(t){var r=t.callback,n=t.params,a=t.objs,i=t.commonObjs,o=t.operatorList,s=t.pageIndex,l=t.canvasFactory,c=t.useRequestAnimationFrame,u=void 0!==c&&c,h=t.pdfBug,d=void 0!==h&&h;_classCallCheck(this,e),this.callback=r,this.params=n,this.objs=a,this.commonObjs=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=l,this._pdfBug=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}var t;return _createClass(e,[{key:"initializeGraphics",value:function(e){var t,r=e.transparency,n=void 0!==r&&r,a=e.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(canvasInRendering.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");canvasInRendering.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var i=this.params,o=i.canvasContext,s=i.viewport,l=i.transform,c=i.imageLayer,u=i.background;this.gfx=new _canvas.CanvasGraphics(o,this.commonObjs,this.objs,this.canvasFactory,c,a),this.gfx.beginDrawing({transform:l,viewport:s,transparency:n,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){e._nextBound().catch(e._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cancelled){e.next=2;break}return e.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback()));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"completed",get:function(){return this.capability.promise.catch((function(){}))}}]),e}()),canvasInRendering,version="2.10.377";exports.version=version;var build="156762c48";exports.build=build},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var n,a=r(2),i=function(){function e(t){var r=t.docId,n=t.onUnsupportedFeature,i=t.ownerDocument,o=void 0===i?globalThis.document:i;t.styleElement,_classCallCheck(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize BaseFontLoader."),this.docId=r,this._onUnsupportedFeature=n,this._document=o,this.nativeFontFaces=[],this.styleElement=null}var t;return _createClass(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||((t=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(t));var r=t.sheet;r.insertRule(e,r.cssRules.length)}},{key:"clear",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,a=this.nativeFontFaces[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var i=n.value;this._document.fonts.delete(i)}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.attached&&!t.missingFile){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(!(r=t.createNativeFontFace())){e.next=18;break}return this.addNativeFontFace(r),e.prev=7,e.next=10,r.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)("Failed to load font '".concat(r.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(!(n=t.createFontFaceRule())){e.next=26;break}if(this.insertRule(n),!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,new Promise((function(e){var r=i._queueLoadingCallback(e);i._prepareFontLoadEvent([n],[t],r)}));case 26:case"end":return e.stop()}}),e,this,[[7,12]])}))),function(e){return t.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(e){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,r){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var e,t=!(null===(e=this._document)||void 0===e||!e.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",t)}},{key:"isSyncFontLoadingSupported",get:function(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}}]),e}();t.FontLoader=n,t.FontLoader=n=function(e){function t(e){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).loadingContext={requests:[],nextRequestId:0},r.loadTestFontId=0,r}return _inherits(t,e),_createClass(t,[{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,r={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,a.assert)(!r.done,"completeRequest() cannot be called twice."),r.done=!0;t.requests.length>0&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(r),r}},{key:"_prepareFontLoadEvent",value:function(e,t,r){var n,i,o=this;function s(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function l(e,t,r,n){return e.substring(0,t)+n+e.substring(t+r)}var c=this._document.createElement("canvas");c.width=1,c.height=1;var u=c.getContext("2d"),h=0,d="lt".concat(Date.now()).concat(this.loadTestFontId++),f=this._loadTestFont,p=s(f=l(f,976,d.length,d),16);for(n=0,i=d.length-3;n<i;n+=4)p=p-1482184792+s(d,n)|0;n<d.length&&(p=p-1482184792+s(d+"XXX",n)|0),f=l(f,16,4,(0,a.string32)(p));var v="url(data:font/opentype;base64,".concat(btoa(f),");"),g='@font-face {font-family:"'.concat(d,'";src:').concat(v,"}");this.insertRule(g);var y=[],m=!0,_=!1,b=void 0;try{for(var k,x=t[Symbol.iterator]();!(m=(k=x.next()).done);m=!0){var A=k.value;y.push(A.loadedName)}}catch(e){_=!0,b=e}finally{try{m||null==x.return||x.return()}finally{if(_)throw b}}y.push(d);var w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(var S=0,C=y;S<C.length;S++){var P=C[S],R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=P,w.appendChild(R)}this._document.body.appendChild(w),function e(t,r){if(++h>30)return(0,a.warn)("Load test font never loaded."),void r();u.font="30px "+t,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0?r():setTimeout(e.bind(null,t,r))}(d,(function(){o._document.body.removeChild(w),r.complete()}))}},{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"==typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==t?void 0:t[1])>=14&&(e=!0)}return(0,a.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_loadTestFont",get:function(){return(0,a.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),t}(i);var o=function(){function e(t,r){var n=r.isEvalSupported,a=void 0===n||n,i=r.disableFontFace,o=void 0!==i&&i,s=r.ignoreErrors,l=void 0!==s&&s,c=r.onUnsupportedFeature,u=r.fontRegistry,h=void 0===u?null:u;for(var d in _classCallCheck(this,e),this.compiledGlyphs=Object.create(null),t)this[d]=t[d];this.isEvalSupported=!1!==a,this.disableFontFace=!0===o,this.ignoreErrors=!0===l,this._onUnsupportedFeature=c,this.fontRegistry=h}return _createClass(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e;if(this.cssFontInfo){var t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e,t=(0,a.bytesToString)(this.data),r="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");if(this.cssFontInfo){var n="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(n+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),e='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(n,"src:").concat(r,"}")}else e='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(r,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,r),e}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var r;try{r=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)('getPathGenerator - ignoring character: "'.concat(e,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&a.IsEvalSupportedCached.value){var n=[],i=!0,o=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,h=void 0!==u.args?u.args.join(","):"";n.push("c.",u.cmd,"(",h,");\n")}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return this.compiledGlyphs[t]=new Function("c","size",n.join(""))}return this.compiledGlyphs[t]=function(e,t){var n=!0,a=!1,i=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;"scale"===l.cmd&&(l.args=[t,-t]),e[l.cmd].apply(e,l.args)}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}}}}]),e}();t.FontFaceObject=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCMapReaderFactory=t.NodeCanvasFactory=void 0;var n=r(5),a=r(4),i=r(2),o=function e(){_classCallCheck(this,e),(0,i.unreachable)("Not implemented: NodeCanvasFactory")};t.NodeCanvasFactory=o;var s=function e(){_classCallCheck(this,e),(0,i.unreachable)("Not implemented: NodeCMapReaderFactory")};t.NodeCMapReaderFactory=s;var l=function e(){_classCallCheck(this,e),(0,i.unreachable)("Not implemented: NodeStandardFontDataFactory")};if(t.NodeStandardFontDataFactory=l,a.isNodeJS){var c=function(e){return new Promise((function(t,r){__webpack_require__(174).readFile(e,(function(e,n){!e&&n?t(new Uint8Array(n)):r(new Error(e))}))}))};t.NodeCanvasFactory=o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_createCanvas",value:function(e,t){return __webpack_require__(175).createCanvas(e,t)}}]),t}(n.BaseCanvasFactory),t.NodeCMapReaderFactory=s=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_fetchData",value:function(e,t){return c(e).then((function(e){return{cMapData:e,compressionType:t}}))}}]),t}(n.BaseCMapReaderFactory),t.NodeStandardFontDataFactory=l=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"_fetchData",value:function(e){return c(e)}}]),t}(n.BaseStandardFontDataFactory)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationStorage=void 0;var n=r(2),a=function(){function e(){_classCallCheck(this,e),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}return _createClass(e,[{key:"getValue",value:function(e,t){var r=this._storage.get(e);return void 0!==r?r:t}},{key:"setValue",value:function(e,t){var r=this._storage.get(e),n=!1;if(void 0!==r)for(var a=0,i=Object.entries(t);a<i.length;a++){var o=_slicedToArray(i[a],2),s=o[0],l=o[1];r[s]!==l&&(n=!0,r[s]=l)}else this._storage.set(e,t),n=!0;n&&this._setModified()}},{key:"getAll",value:function(){return this._storage.size>0?(0,n.objectFromMap)(this._storage):null}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"size",get:function(){return this._storage.size}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}}]),e}();t.AnnotationStorage=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var n=r(2),a=r(11),i=16,o=1.000001;function s(e){if(!e.mozCurrentTransform){e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._originalResetTransform=e.resetTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[];try{var t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"lineWidth");e._setLineWidth=t.set,e._getLineWidth=t.get,Object.defineProperty(e,"lineWidth",{set:function(e){this._setLineWidth(e*o)},get:function(){return this._getLineWidth()}})}catch(e){}Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=_slicedToArray(this._transformMatrix,6),t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=t*a-r*n,l=r*n-t*a;return[a/s,r/l,n/l,t/s,(a*i-n*o)/l,(r*i-t*o)/s]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var r=this._transformMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5],this._originalTranslate(e,t)},e.scale=function(e,t){var r=this._transformMatrix;r[0]*=e,r[1]*=e,r[2]*=t,r[3]*=t,this._originalScale(e,t)},e.transform=function(t,r,n,a,i,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*r,s[1]*t+s[3]*r,s[0]*n+s[2]*a,s[1]*n+s[3]*a,s[0]*i+s[2]*o+s[4],s[1]*i+s[3]*o+s[5]],e._originalTransform(t,r,n,a,i,o)},e.setTransform=function(t,r,n,a,i,o){this._transformMatrix=[t,r,n,a,i,o],e._originalSetTransform(t,r,n,a,i,o)},e.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],e._originalResetTransform()},e.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),n=this._transformMatrix;this._transformMatrix=[n[0]*t+n[2]*r,n[1]*t+n[3]*r,n[0]*-r+n[2]*t,n[1]*-r+n[3]*t,n[4],n[5]],this._originalRotate(e)}}}var l=function(){function e(t){_classCallCheck(this,e),this.canvasFactory=t,this.cache=Object.create(null)}return _createClass(e,[{key:"getCanvas",value:function(e,t,r,n){var a;return void 0!==this.cache[e]?(a=this.cache[e],this.canvasFactory.reset(a,t,r),a.context.setTransform(1,0,0,1,0,0)):(a=this.canvasFactory.create(t,r),this.cache[e]=a),n&&s(a.context),a}},{key:"clear",value:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}]),e}(),c=function(){function e(){_classCallCheck(this,e),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return _createClass(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),u=function(){function e(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var a,o,s,l,c,u,h,d,f,p=t.height,v=t.width,g=p%i,y=(p-g)/i,m=0===g?y:y+1,_=e.createImageData(v,i),b=0,k=t.data,x=_.data;if(r)switch(r.length){case 1:u=r[0],h=r[0],d=r[0],f=r[0];break;case 4:u=r[0],h=r[1],d=r[2],f=r[3]}if(t.kind===n.ImageKind.GRAYSCALE_1BPP){var A=k.byteLength,w=new Uint32Array(x.buffer,0,x.byteLength>>2),S=w.length,C=v+7>>3,P=4294967295,R=n.IsLittleEndianCached.value?4278190080:255;if(f&&255===f[0]&&0===f[255]){var T=[R,P];P=T[0],R=T[1]}for(o=0;o<m;o++){for(l=o<y?i:g,a=0,s=0;s<l;s++){for(var E=A-b,O=0,F=E>C?v:8*E-7,I=-8&F,M=0,L=0;O<I;O+=8)L=k[b++],w[a++]=128&L?P:R,w[a++]=64&L?P:R,w[a++]=32&L?P:R,w[a++]=16&L?P:R,w[a++]=8&L?P:R,w[a++]=4&L?P:R,w[a++]=2&L?P:R,w[a++]=1&L?P:R;for(;O<F;O++)0===M&&(L=k[b++],M=128),w[a++]=L&M?P:R,M>>=1}for(;a<S;)w[a++]=0;e.putImageData(_,0,o*i)}}else if(t.kind===n.ImageKind.RGBA_32BPP){var D=!!(u||h||d);for(s=0,c=v*i*4,o=0;o<y;o++){if(x.set(k.subarray(b,b+c)),b+=c,D)for(var j=0;j<c;j+=4)u&&(x[j+0]=u[x[j+0]]),h&&(x[j+1]=h[x[j+1]]),d&&(x[j+2]=d[x[j+2]]);e.putImageData(_,0,s),s+=i}if(o<m){if(c=v*g*4,x.set(k.subarray(b,b+c)),D)for(var N=0;N<c;N+=4)u&&(x[N+0]=u[x[N+0]]),h&&(x[N+1]=h[x[N+1]]),d&&(x[N+2]=d[x[N+2]]);e.putImageData(_,0,s)}}else{if(t.kind!==n.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));var B=!!(u||h||d);for(c=v*(l=i),o=0;o<m;o++){for(o>=y&&(c=v*(l=g)),a=0,s=c;s--;)x[a++]=k[b++],x[a++]=k[b++],x[a++]=k[b++],x[a++]=255;if(B)for(var U=0;U<a;U+=4)u&&(x[U+0]=u[x[U+0]]),h&&(x[U+1]=h[x[U+1]]),d&&(x[U+2]=d[x[U+2]]);e.putImageData(_,0,o*i)}}}}function t(e,t){for(var r=t.height,n=t.width,a=r%i,o=(r-a)/i,s=0===a?o:o+1,l=e.createImageData(n,i),c=0,u=t.data,h=l.data,d=0;d<s;d++){for(var f=d<o?i:a,p=3,v=0;v<f;v++)for(var g=void 0,y=0,m=0;m<n;m++)y||(g=u[c++],y=128),h[p]=g&y?0:255,p+=4,y>>=1;e.putImageData(l,0,d*i)}}function r(e,t){for(var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],n=0,a=r.length;n<a;n++){var i=r[n];void 0!==e[i]&&(t[i]=e[i])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function o(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function u(e,t,r,n){for(var a=e.length,i=3;i<a;i+=4){var o=e[i];if(0===o)e[i-3]=t,e[i-2]=r,e[i-1]=n;else if(o<255){var s=255-o;e[i-3]=e[i-3]*o+t*s>>8,e[i-2]=e[i-2]*o+r*s>>8,e[i-1]=e[i-1]*o+n*s>>8}}}function h(e,t,r){for(var n=e.length,a=3;a<n;a+=4){var i=r?r[e[a]]:e[a];t[a]=t[a]*i*(1/255)|0}}function d(e,t,r){for(var n=e.length,a=3;a<n;a+=4){var i=77*e[a-3]+152*e[a-2]+28*e[a-1];t[a]=r?t[a]*r[i>>8]>>8:t[a]*i>>16}}function f(e,t,r){var n=t.canvas,a=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY),function(e,t,r,n,a,i,o){var s,l=!!i,c=l?i[0]:0,f=l?i[1]:0,p=l?i[2]:0;s="Luminosity"===a?d:h;for(var v=Math.min(n,Math.ceil(1048576/r)),g=0;g<n;g+=v){var y=Math.min(v,n-g),m=e.getImageData(0,g,r,y),_=t.getImageData(0,g,r,y);l&&u(m.data,c,f,p),s(m.data,_.data,o),e.putImageData(_,0,g)}}(a,r,n.width,n.height,t.subtype,t.backdrop,t.transferMap),e.drawImage(n,0,0)}var p=["butt","round","square"],v=["miter","round","bevel"],g={},y={},m=function(){function i(e,t,r,n,a,o){_classCallCheck(this,i),this.ctx=e,this.current=new c,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=n,this.imageLayer=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new l(this.canvasFactory),this.cachedPatterns=new Map,e&&s(e),this._cachedGetSinglePixelWidth=null}return _createClass(i,[{key:"beginDrawing",value:function(e){var t=e.transform,r=e.viewport,n=e.transparency,a=void 0!==n&&n,i=e.background,s=void 0===i?null:i,l=this.ctx.canvas.width,c=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=s||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,l,c),this.ctx.restore(),a){var u=this.cachedCanvases.getCanvas("transparent",l,c,!0);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),o(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,r.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(e,t,r,a){var i=e.argsArray,o=e.fnArray,s=t||0,l=i.length;if(l===s)return s;for(var c,u=l-s>10&&"function"==typeof r,h=u?Date.now()+15:0,d=0,f=this.commonObjs,p=this.objs;;){if(void 0!==a&&s===a.nextBreakPoint)return a.breakIt(s,r),s;if((c=o[s])!==n.OPS.dependency)this[c].apply(this,i[s]);else{var v=!0,g=!1,y=void 0;try{for(var m,_=i[s][Symbol.iterator]();!(v=(m=_.next()).done);v=!0){var b=m.value,k=b.startsWith("g_")?f:p;if(!k.has(b))return k.get(b,r),s}}catch(e){g=!0,y=e}finally{try{v||null==_.return||_.return()}finally{if(g)throw y}}}if(++s===l)return s;if(u&&++d>10){if(Date.now()>h)return r(),s;d=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(e,t){for(var r,n,a=e.width,i=e.height,o=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),l=a,c=i,u="prescale1";o>2&&l>1||s>2&&c>1;){var h=l,d=c;o>2&&l>1&&(o/=l/(h=Math.ceil(l/2))),s>2&&c>1&&(s/=c/(d=Math.ceil(c/2))),(n=(r=this.cachedCanvases.getCanvas(u,h,d)).context).clearRect(0,0,h,d),n.drawImage(e,0,0,l,c,0,0,h,d),e=r.canvas,l=h,c=d,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}},{key:"_createMaskCanvas",value:function(e){var r=this.ctx,a=e.width,i=e.height,o=this.current.fillColor,s=this.current.patternFill,l=this.cachedCanvases.getCanvas("maskCanvas",a,i);t(l.context,e);var c=r.mozCurrentTransform,u=n.Util.transform(c,[1/a,0,0,-1/i,0,0]);u=n.Util.transform(u,[1,0,0,1,0,-i]);var h=n.Util.applyTransform([0,0],u),d=n.Util.applyTransform([a,i],u),f=n.Util.normalizeRect([h[0],h[1],d[0],d[1]]),p=Math.ceil(f[2]-f[0]),v=Math.ceil(f[3]-f[1]),g=this.cachedCanvases.getCanvas("fillCanvas",p,v,!0),y=g.context,m=Math.min(h[0],d[0]),_=Math.min(h[1],d[1]);y.translate(-m,-_),y.transform.apply(y,u);var b=this._scaleImage(l.canvas,y.mozCurrentTransformInverse);y.drawImage(b.img,0,0,b.img.width,b.img.height,0,0,a,i),y.globalCompositeOperation="source-in";var k=n.Util.transform(y.mozCurrentTransformInverse,[1,0,0,1,-m,-_]);return y.fillStyle=s?o.getPattern(r,this,k,!1):o,y.fillRect(0,0,a,i),{canvas:g.canvas,offsetX:Math.round(m),offsetY:Math.round(_)}}},{key:"setLineWidth",value:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e}},{key:"setLineCap",value:function(e){this.ctx.lineCap=p[e]}},{key:"setLineJoin",value:function(e){this.ctx.lineJoin=v[e]}},{key:"setMiterLimit",value:function(e){this.ctx.miterLimit=e}},{key:"setDash",value:function(e,t){var r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=t)}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){for(var t=0,r=e.length;t<r;t++){var n=e[t],a=n[0],i=n[1];switch(a){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=i?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=i}}}},{key:"beginSMaskGroup",value:function(){var e=this.current.activeSMask,t=e.canvas.width,n=e.canvas.height,a="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(a,t,n,!0),o=this.ctx,s=o.mozCurrentTransform;this.ctx.save();var l=i.context;l.scale(1/e.scaleX,1/e.scaleY),l.translate(-e.offsetX,-e.offsetY),l.transform.apply(l,s),e.startTransformInverse=l.mozCurrentTransformInverse,r(o,l),this.ctx=l,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++}},{key:"suspendSMaskGroup",value:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),f(this.ctx,this.current.activeSMask,e),this.ctx.restore(),this.ctx.save(),r(e,this.ctx),this.current.resumeSMaskCtx=e;var t=n.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()}},{key:"resumeSMaskGroup",value:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++}},{key:"endSMaskGroup",value:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),f(this.ctx,this.current.activeSMask,e),this.ctx.restore(),r(e,this.ctx);var t=n.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)}},{key:"save",value:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null}},{key:"restore",value:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null}},{key:"transform",value:function(e,t,r,n,a,i){this.ctx.transform(e,t,r,n,a,i),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(e,t){for(var r=this.ctx,a=this.current,i=a.x,o=a.y,s=0,l=0,c=e.length;s<c;s++)switch(0|e[s]){case n.OPS.rectangle:i=t[l++],o=t[l++];var u=t[l++],h=t[l++],d=i+u,f=o+h;r.moveTo(i,o),0===u||0===h?r.lineTo(d,f):(r.lineTo(d,o),r.lineTo(d,f),r.lineTo(i,f)),r.closePath();break;case n.OPS.moveTo:i=t[l++],o=t[l++],r.moveTo(i,o);break;case n.OPS.lineTo:i=t[l++],o=t[l++],r.lineTo(i,o);break;case n.OPS.curveTo:i=t[l+4],o=t[l+5],r.bezierCurveTo(t[l],t[l+1],t[l+2],t[l+3],i,o),l+=6;break;case n.OPS.curveTo2:r.bezierCurveTo(i,o,t[l],t[l+1],t[l+2],t[l+3]),i=t[l+2],o=t[l+3],l+=4;break;case n.OPS.curveTo3:i=t[l+2],o=t[l+3],r.bezierCurveTo(t[l],t[l+1],i,o,i,o),l+=4;break;case n.OPS.closePath:r.closePath()}a.setCurrentPoint(i,o)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(e){e=void 0===e||e;var t=this.ctx,r=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===_typeof(r)&&null!=r&&r.getPattern){var n=this.getSinglePixelWidth();t.save(),t.strokeStyle=r.getPattern(t,this,t.mozCurrentTransformInverse),t.lineWidth=Math.max(n,this.current.lineWidth),t.stroke(),t.restore()}else{var a=this.getSinglePixelWidth();a<0&&-a>=this.current.lineWidth?(t.save(),t.resetTransform(),t.lineWidth=Math.round(this._combinedScaleFactor),t.stroke(),t.restore()):(t.lineWidth=Math.max(a,this.current.lineWidth),t.stroke())}e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(e){e=void 0===e||e;var t=this.ctx,r=this.current.fillColor,n=!1;this.current.patternFill&&(t.save(),t.fillStyle=r.getPattern(t,this,t.mozCurrentTransformInverse),n=!0),this.contentVisible&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),n&&t.restore(),e&&this.consumePath()}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=g}},{key:"eoClip",value:function(){this.pendingClip=y}},{key:"beginText",value:function(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var r=0;r<e.length;r++){var n=e[r];t.setTransform.apply(t,n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setFont",value:function(e,t){var r=this.commonObjs.get(e),a=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(a.fontMatrix=r.fontMatrix||n.FONT_IDENTITY_MATRIX,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||(0,n.warn)("Invalid font matrix for font "+e),t<0?(t=-t,a.fontDirection=-1):a.fontDirection=1,this.current.font=r,this.current.fontSize=t,!r.isType3Font){var i=r.loadedName||"sans-serif",o="normal";r.black?o="900":r.bold&&(o="bold");var s=r.italic?"italic":"normal",l='"'.concat(i,'", ').concat(r.fallbackName),c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font="".concat(s," ").concat(o," ").concat(c,"px ").concat(l)}}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"moveText",value:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"setTextMatrix",value:function(e,t,r,n,a,i){this.current.textMatrix=[e,t,r,n,a,i],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(e,t,r,a,i){var o,s=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,d=u&n.TextRenderingMode.FILL_STROKE_MASK,f=!!(u&n.TextRenderingMode.ADD_TO_PATH_FLAG),p=l.patternFill&&!c.missingFile;(c.disableFontFace||f||p)&&(o=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||p?(s.save(),s.translate(t,r),s.beginPath(),o(s,h),a&&s.setTransform.apply(s,a),d!==n.TextRenderingMode.FILL&&d!==n.TextRenderingMode.FILL_STROKE||s.fill(),d!==n.TextRenderingMode.STROKE&&d!==n.TextRenderingMode.FILL_STROKE||(i&&(s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor)),s.stroke()),s.restore()):(d!==n.TextRenderingMode.FILL&&d!==n.TextRenderingMode.FILL_STROKE||s.fillText(e,t,r),d!==n.TextRenderingMode.STROKE&&d!==n.TextRenderingMode.FILL_STROKE||(i?(s.save(),s.moveTo(t,r),s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor),s.strokeText(e,0,0),s.restore()):s.strokeText(e,t,r))),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:s.mozCurrentTransform,x:t,y:r,fontSize:h,addToPath:o})}},{key:"showText",value:function(e){var t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);var a=t.fontSize;if(0!==a){var i,o=this.ctx,s=t.fontSizeScale,l=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,d=e.length,f=r.vertical,p=f?1:-1,v=r.defaultVMetrics,g=a*t.fontMatrix[0],y=t.textRenderingMode===n.TextRenderingMode.FILL&&!r.disableFontFace&&!t.patternFill;if(o.save(),t.patternFill){o.save();var m=t.fillColor.getPattern(o,this,o.mozCurrentTransformInverse);i=o.mozCurrentTransform,o.restore(),o.fillStyle=m}o.transform.apply(o,t.textMatrix),o.translate(t.x,t.y+t.textRise),u>0?o.scale(h,-1):o.scale(h,1);var _=t.lineWidth,b=!1,k=t.textMatrixScale;if(0===k||0===_){var x=t.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;x!==n.TextRenderingMode.STROKE&&x!==n.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,b=(_=this.getSinglePixelWidth())<0)}else _/=k;1!==s&&(o.scale(s,s),_/=s),o.lineWidth=_;var A,w=0;for(A=0;A<d;++A){var S=e[A];if((0,n.isNum)(S))w+=p*S*a/1e3;else{var C=!1,P=(S.isSpace?c:0)+l,R=S.fontChar,T=S.accent,E=void 0,O=void 0,F=S.width;if(f){var I=S.vmetric||v,M=-(S.vmetric?I[1]:.5*F)*g,L=I[2]*g;F=I?-I[0]:F,E=M/s,O=(w+L)/s}else E=w/s,O=0;if(r.remeasure&&F>0){var D=1e3*o.measureText(R).width/a*s;if(F<D&&this.isFontSubpixelAAEnabled){var j=F/D;C=!0,o.save(),o.scale(j,1),E/=j}else F!==D&&(E+=(F-D)/2e3*a/s)}if(this.contentVisible&&(S.isInFont||r.missingFile))if(y&&!T)o.fillText(R,E,O);else if(this.paintChar(R,E,O,i,b),T){var N=E+a*T.offset.x/s,B=O-a*T.offset.y/s;this.paintChar(T.fontChar,N,B,i,b)}w+=f?F*g-P*u:F*g+P*u,C&&o.restore()}}f?t.y-=w:t.x+=w*h,o.restore()}}},{key:"showType3Text",value:function(e){var t,r,a,i,o=this.ctx,s=this.current,l=s.font,c=s.fontSize,u=s.fontDirection,h=l.vertical?1:-1,d=s.charSpacing,f=s.wordSpacing,p=s.textHScale*u,v=s.fontMatrix||n.FONT_IDENTITY_MATRIX,g=e.length;if(s.textRenderingMode!==n.TextRenderingMode.INVISIBLE&&0!==c){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,s.textMatrix),o.translate(s.x,s.y),o.scale(p,u),t=0;t<g;++t)if(r=e[t],(0,n.isNum)(r))i=h*r*c/1e3,this.ctx.translate(i,0),s.x+=i*p;else{var y=(r.isSpace?f:0)+d,m=l.charProcOperatorList[r.operatorListId];m?(this.contentVisible&&(this.processingType3=r,this.save(),o.scale(c,c),o.transform.apply(o,v),this.executeOperatorList(m),this.restore()),a=n.Util.applyTransform([r.width,0],v)[0]*c+y,o.translate(a,0),s.x+=a*p):(0,n.warn)('Type3 character "'.concat(r.operatorListId,'" is not available.'))}o.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(e,t){}},{key:"setCharWidthAndBounds",value:function(e,t,r,n,a,i){this.ctx.rect(r,n,a-r,i-n),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(e){var t,r=this;if("TilingPattern"===e[0]){var n=e[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice(),s={createCanvasGraphics:function(e){return new i(e,r.commonObjs,r.objs,r.canvasFactory)}};t=new a.TilingPattern(e,n,this.ctx,s,o)}else t=this._getPattern(e[1]);return t}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(e,t,r){var a=n.Util.makeHexColor(e,t,r);this.ctx.strokeStyle=a,this.current.strokeColor=a}},{key:"setFillRGBColor",value:function(e,t,r){var a=n.Util.makeHexColor(e,t,r);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1}},{key:"_getPattern",value:function(e){if(this.cachedPatterns.has(e))return this.cachedPatterns.get(e);var t=(0,a.getShadingPattern)(this.objs.get(e));return this.cachedPatterns.set(e,t),t}},{key:"shadingFill",value:function(e){if(this.contentVisible){var t=this.ctx;this.save();var r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,t.mozCurrentTransformInverse,!0);var a=t.mozCurrentTransformInverse;if(a){var i=t.canvas,o=i.width,s=i.height,l=n.Util.applyTransform([0,0],a),c=n.Util.applyTransform([0,s],a),u=n.Util.applyTransform([o,0],a),h=n.Util.applyTransform([o,s],a),d=Math.min(l[0],c[0],u[0],h[0]),f=Math.min(l[1],c[1],u[1],h[1]),p=Math.max(l[0],c[0],u[0],h[0]),v=Math.max(l[1],c[1],u[1],h[1]);this.ctx.fillRect(d,f,p-d,v-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}}},{key:"beginInlineImage",value:function(){(0,n.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,n.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t)){var r=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],r,n),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(e){if(this.contentVisible){this.save();var t=this.ctx;e.isolated||(0,n.info)("TODO: Support non-isolated groups."),e.knockout&&(0,n.warn)("Knockout groups not supported.");var a=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var i=n.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),o=[0,0,t.canvas.width,t.canvas.height];i=n.Util.intersect(i,o)||[0,0,0,0];var s=Math.floor(i[0]),l=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-l,1),h=1,d=1;c>4096&&(h=c/4096,c=4096),u>4096&&(d=u/4096,u=4096);var f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);var p=this.cachedCanvases.getCanvas(f,c,u,!0),v=p.context;v.scale(1/h,1/d),v.translate(-s,-l),v.transform.apply(v,a),e.smask?this.smaskStack.push({canvas:p.canvas,context:v,offsetX:s,offsetY:l,scaleX:h,scaleY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,l),t.scale(h,d)),r(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null}}},{key:"endGroup",value:function(e){if(this.contentVisible){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(e,t,r,n){if(this.save(),o(this.ctx),this.current=new c,Array.isArray(t)&&4===t.length){var a=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],a,i),this.clip(),this.endPath()}this.transform.apply(this,r),this.transform.apply(this,n)}},{key:"endAnnotation",value:function(){this.restore()}},{key:"paintImageMaskXObject",value:function(e){if(this.contentVisible){var t=this.ctx,r=e.width,n=e.height,a=this.processingType3;if(a&&void 0===a.compiled&&(a.compiled=r<=1e3&&n<=1e3?function(e){var t,r,n,a,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e.width,s=e.height,l=o+1,c=new Uint8Array(l*(s+1)),u=o+7&-8,h=e.data,d=new Uint8Array(u*s),f=0;for(t=0,r=h.length;t<r;t++)for(var p=h[t],v=128;v>0;)d[f++]=p&v?0:255,v>>=1;var g=0;for(0!==d[f=0]&&(c[0]=1,++g),n=1;n<o;n++)d[f]!==d[f+1]&&(c[n]=d[f]?2:1,++g),f++;for(0!==d[f]&&(c[n]=2,++g),t=1;t<s;t++){a=t*l,d[(f=t*u)-u]!==d[f]&&(c[a]=d[f]?1:8,++g);var y=(d[f]?4:0)+(d[f-u]?8:0);for(n=1;n<o;n++)i[y=(y>>2)+(d[f+1]?4:0)+(d[f-u+1]?8:0)]&&(c[a+n]=i[y],++g),f++;if(d[f-u]!==d[f]&&(c[a+n]=d[f]?2:4,++g),g>1e3)return null}for(a=t*l,0!==d[f=u*(s-1)]&&(c[a]=8,++g),n=1;n<o;n++)d[f]!==d[f+1]&&(c[a+n]=d[f]?4:8,++g),f++;if(0!==d[f]&&(c[a+n]=4,++g),g>1e3)return null;var m=new Int32Array([0,l,-1,0,-l,0,0,0,1]),_=[];for(t=0;g&&t<=s;t++){for(var b=t*l,k=b+o;b<k&&!c[b];)b++;if(b!==k){var x=[b%l,t],A=b,w=c[b];do{var S=m[w];do{b+=S}while(!c[b]);var C=c[b];5!==C&&10!==C?(w=C,c[b]=0):(w=C&51*w>>4,c[b]&=w>>2|w<<2),x.push(b%l,b/l|0),c[b]||--g}while(A!==b);_.push(x),--t}}return function(e){e.save(),e.scale(1/o,-1/s),e.translate(0,-s),e.beginPath();for(var t=0,r=_.length;t<r;t++){var n=_[t];e.moveTo(n[0],n[1]);for(var a=2,i=n.length;a<i;a+=2)e.lineTo(n[a],n[a+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:r,height:n}):null),null!=a&&a.compiled)a.compiled(t);else{var i=this._createMaskCanvas(e),o=i.canvas;t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(o,i.offsetX,i.offsetY),t.restore()}}}},{key:"paintImageMaskXObjectRepeat",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var s=this.ctx;s.save();var l=s.mozCurrentTransform;s.transform(t,r,a,i,0,0);var c=this._createMaskCanvas(e);s.setTransform(1,0,0,1,0,0);for(var u=0,h=o.length;u<h;u+=2){var d=n.Util.transform(l,[t,r,a,i,o[u],o[u+1]]),f=n.Util.applyTransform([0,0],d),p=_slicedToArray(f,2),v=p[0],g=p[1];s.drawImage(c.canvas,v,g)}s.restore()}}},{key:"paintImageMaskXObjectGroup",value:function(e){if(this.contentVisible)for(var r=this.ctx,n=this.current.fillColor,a=this.current.patternFill,i=0,o=e.length;i<o;i++){var s=e[i],l=s.width,c=s.height,u=this.cachedCanvases.getCanvas("maskCanvas",l,c),h=u.context;h.save(),t(h,s),h.globalCompositeOperation="source-in",h.fillStyle=a?n.getPattern(h,this,r.mozCurrentTransformInverse,!1):n,h.fillRect(0,0,l,c),h.restore(),r.save(),r.transform.apply(r,s.transform),r.scale(1,-1),r.drawImage(u.canvas,0,0,l,c,0,-1,1,1),r.restore()}}},{key:"paintImageXObject",value:function(e){if(this.contentVisible){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,n.warn)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(e,t,r,a){if(this.contentVisible){var i=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(i){for(var o=i.width,s=i.height,l=[],c=0,u=a.length;c<u;c+=2)l.push({transform:[t,0,0,r,a[c],a[c+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(i,l)}else(0,n.warn)("Dependent image isn't ready yet")}}},{key:"paintInlineImageXObject",value:function(t){if(this.contentVisible){var r,n=t.width,a=t.height,i=this.ctx;if(this.save(),i.scale(1/n,-1/a),"function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)r=t;else{var o=this.cachedCanvases.getCanvas("inlineImage",n,a);e(o.context,t,this.current.transferMaps),r=o.canvas}var s=this._scaleImage(r,i.mozCurrentTransformInverse);if(i.drawImage(s.img,0,0,s.paintWidth,s.paintHeight,0,-a,n,a),this.imageLayer){var l=this.getCanvasPosition(0,-a);this.imageLayer.appendImage({imgData:t,left:l[0],top:l[1],width:n/i.mozCurrentTransformInverse[0],height:a/i.mozCurrentTransformInverse[3]})}this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(t,r){if(this.contentVisible){var n=this.ctx,a=t.width,i=t.height,o=this.cachedCanvases.getCanvas("inlineImage",a,i);e(o.context,t,this.current.transferMaps);for(var s=0,l=r.length;s<l;s++){var c=r[s];if(n.save(),n.transform.apply(n,c.transform),n.scale(1,-1),n.drawImage(o.canvas,c.x,c.y,c.w,c.h,0,-1,1,1),this.imageLayer){var u=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:t,left:u[0],top:u[1],width:a,height:i})}n.restore()}}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)}},{key:"markPoint",value:function(e){}},{key:"markPointProps",value:function(e,t){}},{key:"beginMarkedContent",value:function(e){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===y?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(null===this._cachedGetSinglePixelWidth){var e=this.ctx.mozCurrentTransform,t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.pow(e[0],2)+Math.pow(e[2],2),n=Math.pow(e[1],2)+Math.pow(e[3],2),a=Math.sqrt(Math.max(r,n))/t;r!==n&&this._combinedScaleFactor*a>1?this._cachedGetSinglePixelWidth=-this._combinedScaleFactor*a:t>Number.EPSILON?this._cachedGetSinglePixelWidth=a:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(e,t){var r=this.ctx.mozCurrentTransform;return[r[0]*e+r[2]*t+r[4],r[1]*e+r[3]*t+r[5]]}},{key:"isContentVisible",value:function(){for(var e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}},{key:"isFontSubpixelAAEnabled",get:function(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,r=!1,a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){r=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",r)}}]),i}();for(var _ in n.OPS)m.prototype[n.OPS[_]]=m.prototype[_];return m}();t.CanvasGraphics=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new o(e);case"Mesh":return new c(e);case"Dummy":return new u}throw new Error("Unknown IR type: ".concat(e[0]))},t.TilingPattern=void 0;var n=r(2);function a(e,t){if(t&&"undefined"!=typeof Path2D){var r=t[2]-t[0],n=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],r,n),e.clip(a)}}var i=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}return _createClass(e,[{key:"getPattern",value:function(){(0,n.unreachable)("Abstract method `getPattern` called.")}}]),e}(),o=function(e){function t(e){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._type=e[1],r._bbox=e[2],r._colorStops=e[3],r._p0=e[4],r._p1=e[5],r._r0=e[6],r._r1=e[7],r._matrix=e[8],r._patternCache=null,r}return _inherits(t,e),_createClass(t,[{key:"_createGradient",value:function(e){var t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var r=!0,n=!1,a=void 0;try{for(var i,o=this._colorStops[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;t.addColorStop(s[0],s[1])}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t}},{key:"getPattern",value:function(e,t,r){var i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._patternCache)i=this._patternCache;else{if(o)a(e,this._bbox),i=this._createGradient(e);else{var s=t.cachedCanvases.getCanvas("pattern",t.ctx.canvas.width,t.ctx.canvas.height,!0),l=s.context;l.clearRect(0,0,l.canvas.width,l.canvas.height),l.beginPath(),l.rect(0,0,l.canvas.width,l.canvas.height),l.setTransform.apply(l,t.baseTransform),this._matrix&&l.transform.apply(l,this._matrix),a(l,this._bbox),l.fillStyle=this._createGradient(l),l.fill(),i=e.createPattern(s.canvas,"repeat")}this._patternCache=i}if(!o){var c=new DOMMatrix(r);try{i.setTransform(c)}catch(e){(0,n.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null==e?void 0:e.message,'".'))}}return i}}]),t}(i);function s(e,t,r,n,a,i,o,s){var l,c=t.coords,u=t.colors,h=e.data,d=4*e.width;c[r+1]>c[n+1]&&(l=r,r=n,n=l,l=i,i=o,o=l),c[n+1]>c[a+1]&&(l=n,n=a,a=l,l=o,o=s,s=l),c[r+1]>c[n+1]&&(l=r,r=n,n=l,l=i,i=o,o=l);var f=(c[r]+t.offsetX)*t.scaleX,p=(c[r+1]+t.offsetY)*t.scaleY,v=(c[n]+t.offsetX)*t.scaleX,g=(c[n+1]+t.offsetY)*t.scaleY,y=(c[a]+t.offsetX)*t.scaleX,m=(c[a+1]+t.offsetY)*t.scaleY;if(!(p>=m))for(var _,b,k,x,A,w,S,C,P=u[i],R=u[i+1],T=u[i+2],E=u[o],O=u[o+1],F=u[o+2],I=u[s],M=u[s+1],L=u[s+2],D=Math.round(p),j=Math.round(m),N=D;N<=j;N++){if(N<g){var B=void 0;_=f-(f-v)*(B=N<p?0:(p-N)/(p-g)),b=P-(P-E)*B,k=R-(R-O)*B,x=T-(T-F)*B}else{var U=void 0;_=v-(v-y)*(U=N>m?1:g===m?0:(g-N)/(g-m)),b=E-(E-I)*U,k=O-(O-M)*U,x=F-(F-L)*U}var q=void 0;A=f-(f-y)*(q=N<p?0:N>m?1:(p-N)/(p-m)),w=P-(P-I)*q,S=R-(R-M)*q,C=T-(T-L)*q;for(var W=Math.round(Math.min(_,A)),H=Math.round(Math.max(_,A)),G=d*N+4*W,z=W;z<=H;z++)(q=(_-z)/(_-A))<0?q=0:q>1&&(q=1),h[G++]=b-(b-w)*q|0,h[G++]=k-(k-S)*q|0,h[G++]=x-(x-C)*q|0,h[G++]=255}}function l(e,t,r){var n,a,i=t.coords,o=t.colors;switch(t.type){case"lattice":var l=t.verticesPerRow,c=Math.floor(i.length/l)-1,u=l-1;for(n=0;n<c;n++)for(var h=n*l,d=0;d<u;d++,h++)s(e,r,i[h],i[h+1],i[h+l],o[h],o[h+1],o[h+l]),s(e,r,i[h+l+1],i[h+1],i[h+l],o[h+l+1],o[h+1],o[h+l]);break;case"triangles":for(n=0,a=i.length;n<a;n+=3)s(e,r,i[n],i[n+1],i[n+2],o[n],o[n+1],o[n+2]);break;default:throw new Error("illegal figure")}}var c=function(e){function t(e){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._coords=e[2],r._colors=e[3],r._figures=e[4],r._bounds=e[5],r._matrix=e[6],r._bbox=e[7],r._background=e[8],r}return _inherits(t,e),_createClass(t,[{key:"_createMeshCanvas",value:function(e,t,r){var n=Math.floor(this._bounds[0]),a=Math.floor(this._bounds[1]),i=Math.ceil(this._bounds[2])-n,o=Math.ceil(this._bounds[3])-a,s=Math.min(Math.ceil(Math.abs(i*e[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(o*e[1]*1.1)),3e3),u=i/s,h=o/c,d={coords:this._coords,colors:this._colors,offsetX:-n,offsetY:-a,scaleX:1/u,scaleY:1/h},f=s+4,p=c+4,v=r.getCanvas("mesh",f,p,!1),g=v.context,y=g.createImageData(s,c);if(t)for(var m=y.data,_=0,b=m.length;_<b;_+=4)m[_]=t[0],m[_+1]=t[1],m[_+2]=t[2],m[_+3]=255;var k=!0,x=!1,A=void 0;try{for(var w,S=this._figures[Symbol.iterator]();!(k=(w=S.next()).done);k=!0)l(y,w.value,d)}catch(e){x=!0,A=e}finally{try{k||null==S.return||S.return()}finally{if(x)throw A}}return g.putImageData(y,2,2),{canvas:v.canvas,offsetX:n-2*u,offsetY:a-2*h,scaleX:u,scaleY:h}}},{key:"getPattern",value:function(e,t,r){var i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(a(e,this._bbox),o)i=n.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(i=n.Util.singularValueDecompose2dScale(t.baseTransform),this._matrix){var s=n.Util.singularValueDecompose2dScale(this._matrix);i=[i[0]*s[0],i[1]*s[1]]}var l=this._createMeshCanvas(i,o?null:this._background,t.cachedCanvases);return o||(e.setTransform.apply(e,t.baseTransform),this._matrix&&e.transform.apply(e,this._matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}]),t}(i),u=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getPattern",value:function(){return"hotpink"}}]),t}(i),h=1,d=2,f=function(){function e(t,r,n,a,i){_classCallCheck(this,e),this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=r,this.ctx=n,this.canvasGraphicsFactory=a,this.baseTransform=i}return _createClass(e,null,[{key:"MAX_PATTERN_SIZE",get:function(){return(0,n.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),_createClass(e,[{key:"createPatternCanvas",value:function(e){var t=this.operatorList,r=this.bbox,a=this.xstep,i=this.ystep,o=this.paintType,s=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+s);var u=r[0],h=r[1],d=r[2],f=r[3],p=n.Util.singularValueDecompose2dScale(this.matrix),v=n.Util.singularValueDecompose2dScale(this.baseTransform),g=[p[0]*v[0],p[1]*v[1]],y=this.getSizeAndScale(a,this.ctx.canvas.width,g[0]),m=this.getSizeAndScale(i,this.ctx.canvas.height,g[1]),_=e.cachedCanvases.getCanvas("pattern",y.size,m.size,!0),b=_.context,k=c.createCanvasGraphics(b);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,o,l);var x=u,A=h,w=d,S=f;return u<0&&(x=0,w+=Math.abs(u)),h<0&&(A=0,S+=Math.abs(h)),b.translate(-y.scale*x,-m.scale*A),k.transform(y.scale,0,0,m.scale,0,0),this.clipBbox(k,x,A,w,S),k.baseTransform=k.ctx.mozCurrentTransform.slice(),k.executeOperatorList(t),k.endDrawing(),{canvas:_.canvas,scaleX:y.scale,scaleY:m.scale,offsetX:x,offsetY:A}}},{key:"getSizeAndScale",value:function(t,r,n){t=Math.abs(t);var a=Math.max(e.MAX_PATTERN_SIZE,r),i=Math.ceil(t*n);return i>=a?i=a:n=i/t,{scale:n,size:i}}},{key:"clipBbox",value:function(e,t,r,n,a){var i=n-t,o=a-r;e.ctx.rect(t,r,i,o),e.clip(),e.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(e,t,r){var a=e.ctx,i=e.current;switch(t){case h:var o=this.ctx;a.fillStyle=o.fillStyle,a.strokeStyle=o.strokeStyle,i.fillColor=o.fillStyle,i.strokeColor=o.strokeStyle;break;case d:var s=n.Util.makeHexColor(r[0],r[1],r[2]);a.fillStyle=s,a.strokeStyle=s,i.fillColor=s,i.strokeColor=s;break;default:throw new n.FormatError("Unsupported paint type: ".concat(t))}}},{key:"getPattern",value:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=r;a||(i=n.Util.transform(i,t.baseTransform),this.matrix&&(i=n.Util.transform(i,this.matrix)));var o=this.createPatternCanvas(t),s=new DOMMatrix(i);s=(s=s.translate(o.offsetX,o.offsetY)).scale(1/o.scaleX,1/o.scaleY);var l=e.createPattern(o.canvas,"repeat");try{l.setTransform(s)}catch(e){(0,n.warn)('TilingPattern.getPattern: "'.concat(null==e?void 0:e.message,'".'))}return l}}]),e}();t.TilingPattern=f},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var r=Object.create(null);t.GlobalWorkerOptions=r,r.workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var n=r(2),a={UNKNOWN:0,DATA:1,ERROR:2},i=1,o=2,s=3,l=4,c=5,u=6,h=7,d=8;function f(e){if("object"!==_typeof(e)||null===e)return e;switch(e.name){case"AbortException":return new n.AbortException(e.message);case"MissingPDFException":return new n.MissingPDFException(e.message);case"UnexpectedResponseException":return new n.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new n.UnknownErrorException(e.message,e.details);default:return new n.UnknownErrorException(e.message,e.toString())}}var p=function(){function e(t,r,n){var i=this;_classCallCheck(this,e),this.sourceName=t,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===i.sourceName)if(t.stream)i._processStreamMessage(t);else if(t.callback){var r=t.callbackId,o=i.callbackCapabilities[r];if(!o)throw new Error("Cannot resolve callback ".concat(r));if(delete i.callbackCapabilities[r],t.callback===a.DATA)o.resolve(t.data);else{if(t.callback!==a.ERROR)throw new Error("Unexpected callback case");o.reject(f(t.reason))}}else{var s=i.actionHandler[t.action];if(!s)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var l=i.sourceName,c=t.sourceName;new Promise((function(e){e(s(t.data))})).then((function(e){n.postMessage({sourceName:l,targetName:c,callback:a.DATA,callbackId:t.callbackId,data:e})}),(function(e){n.postMessage({sourceName:l,targetName:c,callback:a.ERROR,callbackId:t.callbackId,reason:f(e)})}))}else t.streamId?i._createStreamSink(t):s(t.data)}},n.addEventListener("message",this._onComObjOnMessage)}var t;return _createClass(e,[{key:"on",value:function(e,t){var r=this.actionHandler;if(r[e])throw new Error('There is already an actionName called "'.concat(e,'"'));r[e]=t}},{key:"send",value:function(e,t,r){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}},{key:"sendWithPromise",value:function(e,t,r){var a=this.callbackId++,i=(0,n.createPromiseCapability)();this.callbackCapabilities[a]=i;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},r)}catch(e){i.reject(e)}return i.promise}},{key:"sendWithStream",value:function(e,t,r,a){var o=this,s=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:function(r){var i=(0,n.createPromiseCapability)();return o.streamControllers[s]={controller:r,startCall:i,pullCall:null,cancelCall:null,isClosed:!1},o._postMessage({sourceName:l,targetName:c,action:e,streamId:s,data:t,desiredSize:r.desiredSize},a),i.promise},pull:function(e){var t=(0,n.createPromiseCapability)();return o.streamControllers[s].pullCall=t,h.postMessage({sourceName:l,targetName:c,stream:u,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,n.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,n.createPromiseCapability)();return o.streamControllers[s].cancelCall=t,o.streamControllers[s].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:i,streamId:s,reason:f(e)}),t.promise}},r)}},{key:"_createStreamSink",value:function(e){var t=this,r=this.actionHandler[e.action],a=e.streamId,i=this.sourceName,o=e.sourceName,u=this.comObj,h={enqueue:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var c=this.desiredSize;this.desiredSize-=r,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,n.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:i,targetName:o,stream:l,streamId:a,chunk:e},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,u.postMessage({sourceName:i,targetName:o,stream:s,streamId:a}),delete t.streamSinks[a])},error:function(e){(0,n.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,u.postMessage({sourceName:i,targetName:o,stream:c,streamId:a,reason:f(e)}))},sinkCapability:(0,n.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[a]=h,new Promise((function(t){t(r(e.data,h))})).then((function(){u.postMessage({sourceName:i,targetName:o,stream:d,streamId:a,success:!0})}),(function(e){u.postMessage({sourceName:i,targetName:o,stream:d,streamId:a,reason:f(e)})}))}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,r=this.sourceName,a=e.sourceName,p=this.comObj;switch(e.stream){case d:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(f(e.reason));break;case h:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(f(e.reason));break;case u:if(!this.streamSinks[t]){p.postMessage({sourceName:r,targetName:a,stream:h,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;var v=this.streamSinks[e.streamId].onPull;new Promise((function(e){e(v&&v())})).then((function(){p.postMessage({sourceName:r,targetName:a,stream:h,streamId:t,success:!0})}),(function(e){p.postMessage({sourceName:r,targetName:a,stream:h,streamId:t,reason:f(e)})}));break;case l:if((0,n.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case s:if((0,n.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case c:(0,n.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(f(e.reason)),this._deleteStreamController(t);break;case o:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(f(e.reason)),this._deleteStreamController(t);break;case i:if(!this.streamSinks[t])break;var g=this.streamSinks[e.streamId].onCancel;new Promise((function(t){t(g&&g(f(e.reason)))})).then((function(){p.postMessage({sourceName:r,targetName:a,stream:o,streamId:t,success:!0})}),(function(e){p.postMessage({sourceName:r,targetName:a,stream:o,streamId:t,reason:f(e)})})),this.streamSinks[t].sinkCapability.reject(f(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(e){return e&&e.promise})));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),e}();t.MessageHandler=p},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var n=r(2),a=function(){function e(t){var r=t.parsedData,n=t.rawData;_classCallCheck(this,e),this._metadataMap=r,this._data=n}return _createClass(e,[{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(e){var t;return null!==(t=this._metadataMap.get(e))&&void 0!==t?t:null}},{key:"getAll",value:function(){return(0,n.objectFromMap)(this._metadataMap)}},{key:"has",value:function(e){return this._metadataMap.has(e)}}]),e}();t.Metadata=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var n=r(2),a=function e(t,r){_classCallCheck(this,e),this.visible=!0,this.name=t,this.intent=r},i=function(){function e(t){if(_classCallCheck(this,e),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==t){this.name=t.name,this.creator=t.creator,this._order=t.order;var r=!0,n=!1,i=void 0;try{for(var o,s=t.groups[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;this._groups.set(l.id,new a(l.name,l.intent))}}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}if("OFF"===t.baseState){var c=!0,u=!1,h=void 0;try{for(var d,f=this._groups[Symbol.iterator]();!(c=(d=f.next()).done);c=!0)d.value.visible=!1}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}}var p=!0,v=!1,g=void 0;try{for(var y,m=t.on[Symbol.iterator]();!(p=(y=m.next()).done);p=!0){var _=y.value;this._groups.get(_).visible=!0}}catch(e){v=!0,g=e}finally{try{p||null==m.return||m.return()}finally{if(v)throw g}}var b=!0,k=!1,x=void 0;try{for(var A,w=t.off[Symbol.iterator]();!(b=(A=w.next()).done);b=!0){var S=A.value;this._groups.get(S).visible=!1}}catch(e){k=!0,x=e}finally{try{b||null==w.return||w.return()}finally{if(k)throw x}}}}return _createClass(e,[{key:"_evaluateVisibilityExpression",value:function(e){var t=e.length;if(t<2)return!0;for(var r=e[0],a=1;a<t;a++){var i=e[a],o=void 0;if(Array.isArray(i))o=this._evaluateVisibilityExpression(i);else{if(!this._groups.has(i))return(0,n.warn)("Optional content group not found: ".concat(i)),!0;o=this._groups.get(i).visible}switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===r}},{key:"isVisible",value:function(e){if("OCG"===e.type)return this._groups.has(e.id)?this._groups.get(e.id).visible:((0,n.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return this._evaluateVisibilityExpression(e.expression);if(!e.policy||"AnyOn"===e.policy){var t=!0,r=!1,a=void 0;try{for(var i,o=e.ids[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if(!this._groups.has(s))return(0,n.warn)("Optional content group not found: ".concat(s)),!0;if(this._groups.get(s).visible)return!0}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return!1}if("AllOn"===e.policy){var l=!0,c=!1,u=void 0;try{for(var h,d=e.ids[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value;if(!this._groups.has(f))return(0,n.warn)("Optional content group not found: ".concat(f)),!0;if(!this._groups.get(f).visible)return!1}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}return!0}if("AnyOff"===e.policy){var p=!0,v=!1,g=void 0;try{for(var y,m=e.ids[Symbol.iterator]();!(p=(y=m.next()).done);p=!0){var _=y.value;if(!this._groups.has(_))return(0,n.warn)("Optional content group not found: ".concat(_)),!0;if(!this._groups.get(_).visible)return!0}}catch(e){v=!0,g=e}finally{try{p||null==m.return||m.return()}finally{if(v)throw g}}return!1}if("AllOff"===e.policy){var b=!0,k=!1,x=void 0;try{for(var A,w=e.ids[Symbol.iterator]();!(b=(A=w.next()).done);b=!0){var S=A.value;if(!this._groups.has(S))return(0,n.warn)("Optional content group not found: ".concat(S)),!0;if(this._groups.get(S).visible)return!1}}catch(e){k=!0,x=e}finally{try{b||null==w.return||w.return()}finally{if(k)throw x}}return!0}return(0,n.warn)("Unknown optional content policy ".concat(e.policy,".")),!0}return(0,n.warn)("Unknown group type ".concat(e.type,".")),!0}},{key:"setVisibility",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(e)?this._groups.get(e).visible=!!t:(0,n.warn)("Optional content group not found: ".concat(e))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,n.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(e){return this._groups.get(e)||null}}]),e}();t.OptionalContentConfig=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var n=r(2),a=r(1),i=function(){function e(t,r){var a=this;_classCallCheck(this,e),(0,n.assert)(r,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;var i=t.initialData;if((null==i?void 0:i.length)>0){var o=new Uint8Array(i).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=r,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(e,t){a._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener((function(e,t){a._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(e){a._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){a._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return _createClass(e,[{key:"_onReceiveData",value:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var r=this._rangeReaders.some((function(r){return r._begin===e.begin&&(r._enqueue(t),!0)}));(0,n.assert)(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];null!=t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var r=this._fullRequestReader;null!=r&&r.onProgress&&r.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new o(this,e,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t=!0,r=!1,n=void 0;try{for(var a,i=this._rangeReaders.slice(0)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)a.value.cancel(e)}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}}]),e}();t.PDFDataTransportStream=i;var o=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this._stream=t,this._done=n||!1,this._filename=(0,a.isPdfFile)(i)?i:null,this._queuedChunks=r||[],this._loaded=0;var o=!0,s=!1,l=void 0;try{for(var c,u=this._queuedChunks[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;this._loaded+=h.byteLength}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}var t;return _createClass(e,[{key:"_enqueue",value:function(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}},{key:"read",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return r=(0,n.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0;var t=!0,r=!1,n=void 0;try{for(var a,i=this._requests[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)a.value.resolve({value:void 0,done:!0})}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),e}(),s=function(){function e(t,r,n){_classCallCheck(this,e),this._stream=t,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var t;return _createClass(e,[{key:"_enqueue",value:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});var t=!0,r=!1,n=void 0;try{for(var a,i=this._requests[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)a.value.resolve({value:void 0,done:!0})}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"read",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return r=(0,n.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0;var t=!0,r=!1,n=void 0;try{for(var a,i=this._requests[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)a.value.resolve({value:void 0,done:!0})}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}this._requests.length=0,this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),e}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var n=r(1),a=r(2),i=r(9),o=r(18),s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case a.AnnotationType.LINK:return new c(e);case a.AnnotationType.TEXT:return new u(e);case a.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new d(e);case"Btn":return e.data.radioButton?new p(e):e.data.checkBox?new f(e):new v(e);case"Ch":return new g(e)}return new h(e);case a.AnnotationType.POPUP:return new y(e);case a.AnnotationType.FREETEXT:return new _(e);case a.AnnotationType.LINE:return new b(e);case a.AnnotationType.SQUARE:return new k(e);case a.AnnotationType.CIRCLE:return new x(e);case a.AnnotationType.POLYLINE:return new A(e);case a.AnnotationType.CARET:return new S(e);case a.AnnotationType.INK:return new C(e);case a.AnnotationType.POLYGON:return new w(e);case a.AnnotationType.HIGHLIGHT:return new P(e);case a.AnnotationType.UNDERLINE:return new R(e);case a.AnnotationType.SQUIGGLY:return new T(e);case a.AnnotationType.STRIKEOUT:return new E(e);case a.AnnotationType.STAMP:return new O(e);case a.AnnotationType.FILEATTACHMENT:return new F(e);default:return new l(e)}}}]),e}(),l=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.isRenderable,a=void 0!==n&&n,i=r.ignoreBorder,o=void 0!==i&&i,s=r.createQuadrilaterals,l=void 0!==s&&s;_classCallCheck(this,e),this.isRenderable=a,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._mouseState=t.mouseState,a&&(this.container=this._createContainer(o)),l&&(this.quadrilaterals=this._createQuadrilaterals(o))}return _createClass(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,r=this.page,n=this.viewport,i=document.createElement("section"),o=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1];i.setAttribute("data-annotation-id",t.id);var l=a.Util.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]);if(i.style.transform="matrix(".concat(n.transform.join(","),")"),i.style.transformOrigin="".concat(-l[0],"px ").concat(-l[1],"px"),!e&&t.borderStyle.width>0){i.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==a.AnnotationBorderStyleType.UNDERLINE&&(o-=2*t.borderStyle.width,s-=2*t.borderStyle.width);var c=t.borderStyle.horizontalCornerRadius,u=t.borderStyle.verticalCornerRadius;if(c>0||u>0){var h="".concat(c,"px / ").concat(u,"px");i.style.borderRadius=h}switch(t.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:i.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:i.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:i.style.borderBottomStyle="solid"}t.color?i.style.borderColor=a.Util.makeHexColor(0|t.color[0],0|t.color[1],0|t.color[2]):i.style.borderWidth=0}return i.style.left="".concat(l[0],"px"),i.style.top="".concat(l[1],"px"),i.style.width="".concat(o,"px"),i.style.height="".concat(s,"px"),i}},{key:"_createQuadrilaterals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var t=[],r=this.data.rect,n=!0,a=!1,i=void 0;try{for(var o,s=this.data.quadPoints[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;this.data.rect=[l[2].x,l[2].y,l[1].x,l[1].y],t.push(this._createContainer(e))}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return this.data.rect=r,t}},{key:"_createPopup",value:function(e,t){var r=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,r=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=r.style.height,e.style.width=r.style.width,r.appendChild(e));var n=new m({container:r,trigger:e,color:t.color,title:t.title,modificationDate:t.modificationDate,contents:t.contents,hideWrapper:!0}).render();n.style.left=r.style.width,r.appendChild(n)}},{key:"_renderQuadrilaterals",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=this.quadrilaterals[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)a.value.className=e}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return this.quadrilaterals}},{key:"render",value:function(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}}]),e}(),c=function(e){function t(e){_classCallCheck(this,t);var r=!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"]));return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r,createQuadrilaterals:!0}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this.data,t=this.linkService,r=document.createElement("a");return e.url?(0,n.addLinkAttributes)(r,{url:e.url,target:e.newWindow?n.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(r,e.action):e.dest?this._bindLink(r,e.dest):e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(r,e):this._bindLink(r,""),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((function(e,t){var n=0===t?r:r.cloneNode();return e.appendChild(n),e})):(this.container.className="linkAnnotation",this.container.appendChild(r),this.container)}},{key:"_bindLink",value:function(e,t){var r=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&r.linkService.goToDestination(t),!1},(t||""===t)&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var r=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return r.linkService.executeNamedAction(t),!1},e.className="internalLink"}},{key:"_bindJSAction",value:function(e,t){var r=this;e.href=this.linkService.getAnchorUrl("");for(var n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),a=function(){var a=o[i],s=n.get(a);if(!s)return"continue";e[s]=function(){var e;return null===(e=r.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:r,detail:{id:t.id,name:a}}),!1}},i=0,o=Object.keys(t.actions);i<o.length;i++)a();e.className="internalLink"}}]),t}(l),u=function(e){function t(e){_classCallCheck(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}]),t}(l),h=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(e){return navigator.platform.includes("Win")&&e.ctrlKey||navigator.platform.includes("Mac")&&e.metaKey}},{key:"_setEventListener",value:function(e,t,r,n){var a=this;t.includes("mouse")?e.addEventListener(t,(function(e){var t;null===(t=a.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:a,detail:{id:a.data.id,name:r,value:n(e),shift:e.shiftKey,modifier:a._getKeyModifier(e)}})})):e.addEventListener(t,(function(e){var t;null===(t=a.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:a,detail:{id:a.data.id,name:r,value:e.target.checked}})}))}},{key:"_setEventListeners",value:function(e,t,r){var n=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l,c=_slicedToArray(o.value,2),u=c[0],h=c[1];("Action"===h||null!==(l=this.data.actions)&&void 0!==l&&l[h])&&this._setEventListener(e,u,h,r)}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}}},{key:"_dispatchEventFromSandbox",value:function(e,t){for(var r=this,n=function(e,t,r){var n=r.detail[e];r.target.style[t]=o.ColorConverters["".concat(n[0],"_HTML")](n.slice(1))},a={display:function(e){var t=e.detail.display%2==1;e.target.style.visibility=t?"hidden":"visible",r.annotationStorage.setValue(r.data.id,{hidden:t,print:0===e.detail.display||3===e.detail.display})},print:function(e){r.annotationStorage.setValue(r.data.id,{print:e.detail.print})},hidden:function(e){e.target.style.visibility=e.detail.hidden?"hidden":"visible",r.annotationStorage.setValue(r.data.id,{hidden:e.detail.hidden})},focus:function(e){setTimeout((function(){return e.target.focus({preventScroll:!1})}),0)},userName:function(e){e.target.title=e.detail.userName},readonly:function(e){e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:function(e){e.detail.required?e.target.setAttribute("required",""):e.target.removeAttribute("required")},bgColor:function(e){n("bgColor","backgroundColor",e)},fillColor:function(e){n("fillColor","backgroundColor",e)},fgColor:function(e){n("fgColor","color",e)},textColor:function(e){n("textColor","color",e)},borderColor:function(e){n("borderColor","borderColor",e)},strokeColor:function(e){n("strokeColor","borderColor",e)}},i=0,s=Object.keys(t.detail);i<s.length;i++){var l=s[i],c=e[l]||a[l];c&&c(t)}}}]),t}(l),d=function(e){function t(e){_classCallCheck(this,t);var r=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r}))}return _inherits(t,e),_createClass(t,[{key:"setPropertyOnSiblings",value:function(e,t,r,n){var a=this.annotationStorage,i=!0,o=!1,s=void 0;try{for(var l,c=document.getElementsByName(e.name)[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;if(u!==e){u[t]=r;var h=Object.create(null);h[n]=r,a.setValue(u.getAttribute("id"),h)}}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}}},{key:"render",value:function(){var e=this,t=this.annotationStorage,r=this.data.id;this.container.className="textWidgetAnnotation";var n=null;if(this.renderInteractiveForms){var a=t.getValue(r,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),i=a.valueAsString||a.value||"",o={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(n=document.createElement("textarea")).textContent=i:((n=document.createElement("input")).type="text",n.setAttribute("value",i)),o.userValue=i,n.setAttribute("id",r),n.addEventListener("input",(function(a){t.setValue(r,{value:a.target.value}),e.setPropertyOnSiblings(n,"value",a.target.value,"value")}));var s=function(e){o.formattedValue&&(e.target.value=o.formattedValue),e.target.scrollLeft=0,o.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var l;n.addEventListener("focus",(function(e){o.userValue&&(e.target.value=o.userValue)})),n.addEventListener("updatefromsandbox",(function(n){var a={value:function(e){o.userValue=e.detail.value||"",t.setValue(r,{value:o.userValue.toString()}),o.formattedValue||(e.target.value=o.userValue)},valueAsString:function(e){o.formattedValue=e.detail.valueAsString||"",e.target!==document.activeElement&&(e.target.value=o.formattedValue),t.setValue(r,{formattedValue:o.formattedValue})},selRange:function(e){var t=_slicedToArray(e.detail.selRange,2),r=t[0],n=t[1];r>=0&&n<e.target.value.length&&e.target.setSelectionRange(r,n)}};e._dispatchEventFromSandbox(a,n)})),n.addEventListener("keydown",(function(t){var n;o.beforeInputValue=t.target.value;var a=-1;"Escape"===t.key?a=0:"Enter"===t.key?a=2:"Tab"===t.key&&(a=3),-1!==a&&(o.userValue=t.target.value,null===(n=e.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:t.target.value,willCommit:!0,commitKey:a,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));var c=s;s=null,n.addEventListener("blur",(function(t){var n;e._mouseState.isDown&&(o.userValue=t.target.value,null===(n=e.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:t.target.value,willCommit:!0,commitKey:1,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}})),c(t)})),n.addEventListener("mousedown",(function(e){o.beforeInputValue=e.target.value,o.beforeInputSelectionRange=null})),n.addEventListener("keyup",(function(e){e.target.selectionStart===e.target.selectionEnd&&(o.beforeInputSelectionRange=null)})),n.addEventListener("select",(function(e){o.beforeInputSelectionRange=[e.target.selectionStart,e.target.selectionEnd]})),null!==(l=this.data.actions)&&void 0!==l&&l.Keystroke&&n.addEventListener("input",(function(t){var n,a=-1,i=-1;if(o.beforeInputSelectionRange){var s=_slicedToArray(o.beforeInputSelectionRange,2);a=s[0],i=s[1]}null===(n=e.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:o.beforeInputValue,change:t.data,willCommit:!1,selStart:a,selEnd:i}})})),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.value}))}if(s&&n.addEventListener("blur",s),n.disabled=this.data.readOnly,n.name=this.data.fieldName,null!==this.data.maxLen&&(n.maxLength=this.data.maxLen),this.data.comb){var u=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(u,"px - 1ch)")}}else(n=document.createElement("div")).textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this.container.appendChild(n),this.container}},{key:"_setTextStyle",value:function(e){var t=this.data.defaultAppearanceData,r=t.fontSize,n=t.fontColor,i=e.style;r&&(i.fontSize="".concat(r,"px")),i.color=a.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=["left","center","right"][this.data.textAlignment])}}]),t}(h),f=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:e.renderInteractiveForms}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this,t=this.annotationStorage,r=this.data,n=r.id,a=t.getValue(n,{value:r.fieldValue&&(r.exportValue&&r.exportValue===r.fieldValue||!r.exportValue&&"Off"!==r.fieldValue)}).value;"string"==typeof a&&(a="Off"!==a,t.setValue(n,{value:a})),this.container.className="buttonWidgetAnnotation checkBox";var i=document.createElement("input");return i.disabled=r.readOnly,i.type="checkbox",i.name=this.data.fieldName,a&&i.setAttribute("checked",!0),i.setAttribute("id",n),i.addEventListener("change",(function(e){var r=e.target.name,a=!0,i=!1,o=void 0;try{for(var s,l=document.getElementsByName(r)[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;c!==e.target&&(c.checked=!1,t.setValue(c.parentNode.getAttribute("data-annotation-id"),{value:!1}))}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}t.setValue(n,{value:e.target.checked})})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(function(r){var a={value:function(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};e._dispatchEventFromSandbox(a,r)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.checked}))),this.container.appendChild(i),this.container}}]),t}(h),p=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:e.renderInteractiveForms}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this;this.container.className="buttonWidgetAnnotation radioButton";var t=this.annotationStorage,r=this.data,n=r.id,a=t.getValue(n,{value:r.fieldValue===r.buttonValue}).value;"string"==typeof a&&(a=a!==r.buttonValue,t.setValue(n,{value:a}));var i=document.createElement("input");if(i.disabled=r.readOnly,i.type="radio",i.name=r.fieldName,a&&i.setAttribute("checked",!0),i.setAttribute("id",n),i.addEventListener("change",(function(e){var r=e.target,a=!0,i=!1,o=void 0;try{for(var s,l=document.getElementsByName(r.name)[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;c!==r&&t.setValue(c.getAttribute("id"),{value:!1})}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}t.setValue(n,{value:r.checked})})),this.enableScripting&&this.hasJSActions){var o=r.buttonValue;i.addEventListener("updatefromsandbox",(function(r){var a={value:function(e){var r=o===e.detail.value,a=!0,i=!1,s=void 0;try{for(var l,c=document.getElementsByName(e.target.name)[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value,h=u.getAttribute("id");u.checked=h===n&&r,t.setValue(h,{value:u.checked})}}catch(e){i=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw s}}}};e._dispatchEventFromSandbox(a,r)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(e){return e.target.checked}))}return this.container.appendChild(i),this.container}}]),t}(h),v=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=_get(_getPrototypeOf(t.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),e}}]),t}(c),g=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:e.renderInteractiveForms}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this;this.container.className="choiceWidgetAnnotation";var t=this.annotationStorage,r=this.data.id;t.getValue(r,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var n=document.createElement("select");n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.setAttribute("id",r),this.data.combo||(n.size=this.data.options.length,this.data.multiSelect&&(n.multiple=!0));var a=!0,i=!1,o=void 0;try{for(var s,l=this.data.options[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value,u=document.createElement("option");u.textContent=c.displayValue,u.value=c.exportValue,this.data.fieldValue.includes(c.exportValue)&&u.setAttribute("selected",!0),n.appendChild(u)}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}var h=function(e,t){var r=t?"value":"textContent",n=e.target.options;return e.target.multiple?Array.prototype.filter.call(n,(function(e){return e.selected})).map((function(e){return e[r]})):-1===n.selectedIndex?null:n[n.selectedIndex][r]},d=function(e){var t=e.target.options;return Array.prototype.map.call(t,(function(e){return{displayValue:e.textContent,exportValue:e.value}}))};return this.enableScripting&&this.hasJSActions?(n.addEventListener("updatefromsandbox",(function(a){var i={value:function(e){var a=n.options,i=e.detail.value,o=new Set(Array.isArray(i)?i:[i]);Array.prototype.forEach.call(a,(function(e){e.selected=o.has(e.value)})),t.setValue(r,{value:h(e,!0)})},multipleSelection:function(e){n.multiple=!0},remove:function(e){var a=n.options,i=e.detail.remove;a[i].selected=!1,n.remove(i),a.length>0&&-1===Array.prototype.findIndex.call(a,(function(e){return e.selected}))&&(a[0].selected=!0),t.setValue(r,{value:h(e,!0),items:d(e)})},clear:function(e){for(;0!==n.length;)n.remove(0);t.setValue(r,{value:null,items:[]})},insert:function(e){var a=e.detail.insert,i=a.index,o=a.displayValue,s=a.exportValue,l=document.createElement("option");l.textContent=o,l.value=s,n.insertBefore(l,n.children[i]),t.setValue(r,{value:h(e,!0),items:d(e)})},items:function(e){for(var a=e.detail.items;0!==n.length;)n.remove(0);var i=!0,o=!1,s=void 0;try{for(var l,c=a[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,f=u.displayValue,p=u.exportValue,v=document.createElement("option");v.textContent=f,v.value=p,n.appendChild(v)}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}n.options.length>0&&(n.options[0].selected=!0),t.setValue(r,{value:h(e,!0),items:d(e)})},indices:function(e){var n=new Set(e.detail.indices),a=e.target.options;Array.prototype.forEach.call(a,(function(e,t){e.selected=n.has(t)})),t.setValue(r,{value:h(e,!0)})},editable:function(e){e.target.disabled=!e.detail.editable}};e._dispatchEventFromSandbox(i,a)})),n.addEventListener("input",(function(n){var a,i=h(n,!0),o=h(n,!1);t.setValue(r,{value:i}),null===(a=e.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:e,detail:{id:r,name:"Keystroke",value:o,changeEx:i,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(function(e){return e.target.checked}))):n.addEventListener("input",(function(e){t.setValue(r,{value:h(e)})})),this.container.appendChild(n),this.container}}]),t}(h),y=function(e){function t(e){_classCallCheck(this,t);var r=!(!e.data.title&&!e.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),t=this.layer.querySelectorAll(e);if(0===t.length)return this.container;var r=new m({container:this.container,trigger:Array.from(t),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),n=this.page,i=a.Util.normalizeRect([this.data.parentRect[0],n.view[3]-this.data.parentRect[1]+n.view[1],this.data.parentRect[2],n.view[3]-this.data.parentRect[3]+n.view[1]]),o=i[0]+this.data.parentRect[2]-this.data.parentRect[0],s=i[1];return this.container.style.transformOrigin="".concat(-o,"px ").concat(-s,"px"),this.container.style.left="".concat(o,"px"),this.container.style.top="".concat(s,"px"),this.container.appendChild(r.render()),this.container}}]),t}(l),m=function(){function e(t){_classCallCheck(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.modificationDate=t.modificationDate,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return _createClass(e,[{key:"render",value:function(){var e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.hidden=!0;var t=document.createElement("div");t.className="popup";var r=this.color;if(r){var i=.7*(255-r[0])+r[0],o=.7*(255-r[1])+r[1],s=.7*(255-r[2])+r[2];t.style.backgroundColor=a.Util.makeHexColor(0|i,0|o,0|s)}var l=document.createElement("h1");l.textContent=this.title,t.appendChild(l);var c=n.PDFDateString.toDateObject(this.modificationDate);if(c){var u=document.createElement("span");u.textContent="{{date}}, {{time}}",u.dataset.l10nId="annotation_date_string",u.dataset.l10nArgs=JSON.stringify({date:c.toLocaleDateString(),time:c.toLocaleTimeString()}),t.appendChild(u)}var h=this._formatContents(this.contents);t.appendChild(h),Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var d=!0,f=!1,p=void 0;try{for(var v,g=this.trigger[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var y=v.value;y.addEventListener("click",this._toggle.bind(this)),y.addEventListener("mouseover",this._show.bind(this,!1)),y.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(e){f=!0,p=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw p}}return t.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(t),e}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),r=e.split(/(?:\r\n?|\n)/),n=0,a=r.length;n<a;++n){var i=r[n];t.appendChild(document.createTextNode(i)),n<a-1&&t.appendChild(document.createElement("br"))}return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),e}(),_=function(e){function t(e){_classCallCheck(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r,ignoreBorder:!0}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),t}(l),b=function(e){function t(e){_classCallCheck(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r,ignoreBorder:!0}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),a=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),n.appendChild(a),this.container.append(n),this._createPopup(a,e),this.container}}]),t}(l),k=function(e){function t(e){_classCallCheck(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r,ignoreBorder:!0}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),a=e.borderStyle.width,i=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",a/2),i.setAttribute("y",a/2),i.setAttribute("width",t-a),i.setAttribute("height",r-a),i.setAttribute("stroke-width",a||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),n.appendChild(i),this.container.append(n),this._createPopup(i,e),this.container}}]),t}(l),x=function(e){function t(e){_classCallCheck(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r,ignoreBorder:!0}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),a=e.borderStyle.width,i=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",t/2),i.setAttribute("cy",r/2),i.setAttribute("rx",t/2-a/2),i.setAttribute("ry",r/2-a/2),i.setAttribute("stroke-width",a||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),n.appendChild(i),this.container.append(n),this._createPopup(i,e),this.container}}]),t}(l),A=function(e){function t(e){var r;_classCallCheck(this,t);var n=!!(e.data.hasPopup||e.data.title||e.data.contents);return(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:n,ignoreBorder:!0}))).containerClassName="polylineAnnotation",r.svgElementName="svg:polyline",r}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.container.className=this.containerClassName;var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),a=[],i=!0,o=!1,s=void 0;try{for(var l,c=e.vertices[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,h=u.x-e.rect[0],d=e.rect[3]-u.y;a.push(h+","+d)}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}a=a.join(" ");var f=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",a),f.setAttribute("stroke-width",e.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),n.appendChild(f),this.container.append(n),this._createPopup(f,e),this.container}}]),t}(l),w=function(e){function t(e){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return _inherits(t,e),t}(A),S=function(e){function t(e){_classCallCheck(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r,ignoreBorder:!0}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),t}(l),C=function(e){function t(e){var r;_classCallCheck(this,t);var n=!!(e.data.hasPopup||e.data.title||e.data.contents);return(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:n,ignoreBorder:!0}))).containerClassName="inkAnnotation",r.svgElementName="svg:polyline",r}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.container.className=this.containerClassName;var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],n=this.svgFactory.create(t,r),a=!0,i=!1,o=void 0;try{for(var s,l=e.inkLists[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value,u=[],h=!0,d=!1,f=void 0;try{for(var p,v=c[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=p.value,y=g.x-e.rect[0],m=e.rect[3]-g.y;u.push("".concat(y,",").concat(m))}}catch(e){d=!0,f=e}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}u=u.join(" ");var _=this.svgFactory.createElement(this.svgElementName);_.setAttribute("points",u),_.setAttribute("stroke-width",e.borderStyle.width||1),_.setAttribute("stroke","transparent"),_.setAttribute("fill","none"),this._createPopup(_,e),n.appendChild(_)}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return this.container.append(n),this.container}}]),t}(l),P=function(e){function t(e){_classCallCheck(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),t}(l),R=function(e){function t(e){_classCallCheck(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),t}(l),T=function(e){function t(e){_classCallCheck(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),t}(l),E=function(e){function t(e){_classCallCheck(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r,ignoreBorder:!0,createQuadrilaterals:!0}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),t}(l),O=function(e){function t(e){_classCallCheck(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return _possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:r,ignoreBorder:!0}))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),t}(l),F=function(e){function t(e){var r,i;_classCallCheck(this,t);var o=(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,{isRenderable:!0}))).data.file,s=o.filename,l=o.content;return i.filename=(0,n.getFilenameFromUrl)(s),i.content=l,null===(r=i.linkService.eventBus)||void 0===r||r.dispatch("fileattachmentannotation",{source:_assertThisInitialized(i),id:(0,a.stringToPDFString)(s),filename:s,content:l}),i}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,this.content,this.filename)}}]),t}(l),I=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"render",value:function(e){var t=[],r=[],o=!0,l=!1,c=void 0;try{for(var u,h=e.annotations[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){var d=u.value;d&&(d.annotationType!==a.AnnotationType.POPUP?t.push(d):r.push(d))}}catch(e){l=!0,c=e}finally{try{o||null==h.return||h.return()}finally{if(l)throw c}}r.length&&t.push.apply(t,r);for(var f=0,p=t;f<p.length;f++){var v=p[f],g=s.create({data:v,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:!1!==e.renderInteractiveForms,svgFactory:new n.DOMSVGFactory,annotationStorage:e.annotationStorage||new i.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,mouseState:e.mouseState||{isDown:!1}});if(g.isRenderable){var m=g.render();if(v.hidden&&(m.style.visibility="hidden"),Array.isArray(m)){var _=!0,b=!1,k=void 0;try{for(var x,A=m[Symbol.iterator]();!(_=(x=A.next()).done);_=!0){var w=x.value;e.div.appendChild(w)}}catch(e){b=!0,k=e}finally{try{_||null==A.return||A.return()}finally{if(b)throw k}}}else g instanceof y?e.div.prepend(m):e.div.appendChild(m)}}}},{key:"update",value:function(e){var t="matrix(".concat(e.viewport.transform.join(","),")"),r=!0,n=!1,a=void 0;try{for(var i,o=e.annotations[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value,l=e.div.querySelectorAll('[data-annotation-id="'.concat(s.id,'"]'));if(l){var c=!0,u=!1,h=void 0;try{for(var d,f=l[Symbol.iterator]();!(c=(d=f.next()).done);c=!0)d.value.style.transform=t}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}}}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}e.div.hidden=!1}}]),e}();t.AnnotationLayer=I},function(e,t){function r(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"CMYK_G",value:function(e){var t=_slicedToArray(e,4),r=t[0],n=t[1],a=t[2],i=t[3];return["G",1-Math.min(1,.3*r+.59*a+.11*n+i)]}},{key:"G_CMYK",value:function(e){return["CMYK",0,0,0,1-_slicedToArray(e,1)[0]]}},{key:"G_RGB",value:function(e){var t=_slicedToArray(e,1)[0];return["RGB",t,t,t]}},{key:"G_HTML",value:function(e){var t=r(_slicedToArray(e,1)[0]);return"#".concat(t).concat(t).concat(t)}},{key:"RGB_G",value:function(e){var t=_slicedToArray(e,3);return["G",.3*t[0]+.59*t[1]+.11*t[2]]}},{key:"RGB_HTML",value:function(e){var t=_slicedToArray(e,3),n=t[0],a=t[1],i=t[2],o=r(n),s=r(a),l=r(i);return"#".concat(o).concat(s).concat(l)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(e){var t=_slicedToArray(e,4),r=t[0],n=t[1],a=t[2],i=t[3];return["RGB",1-Math.min(1,r+i),1-Math.min(1,a+i),1-Math.min(1,n+i)]}},{key:"CMYK_HTML",value:function(e){return this.RGB_HTML(this.CMYK_RGB(e))}},{key:"RGB_CMYK",value:function(e){var t=_slicedToArray(e,3),r=1-t[0],n=1-t[1],a=1-t[2];return["CMYK",r,n,a,Math.min(r,n,a)]}}]),e}();t.ColorConverters=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=function(e){var t=new p({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t};var n=r(2),a=1e5,i=30,o=.8,s=new Map,l=/^\s+$/g;function c(e,t,r,a){var c=document.createElement("span"),u={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};e._textDivs.push(c);var h=n.Util.transform(e._viewport.transform,t.transform),d=Math.atan2(h[1],h[0]),f=r[t.fontName];f.vertical&&(d+=Math.PI/2);var p,v,g=Math.hypot(h[2],h[3]),y=g*function(e,t){var r=s.get(e);if(r)return r;t.save(),t.font="".concat(i,"px ").concat(e);var n=t.measureText(""),a=n.fontBoundingBoxAscent,l=Math.abs(n.fontBoundingBoxDescent);if(a){t.restore();var c=a/(a+l);return s.set(e,c),c}t.strokeStyle="red",t.clearRect(0,0,i,i),t.strokeText("g",0,0);var u=t.getImageData(0,0,i,i).data;l=0;for(var h=u.length-1-3;h>=0;h-=4)if(u[h]>0){l=Math.ceil(h/4/i);break}t.clearRect(0,0,i,i),t.strokeText("A",0,i),a=0;for(var d=0,f=(u=t.getImageData(0,0,i,i).data).length;d<f;d+=4)if(u[d]>0){a=i-Math.floor(d/4/i);break}if(t.restore(),a){var p=a/(a+l);return s.set(e,p),p}return s.set(e,o),o}(f.fontFamily,a);0===d?(p=h[4],v=h[5]-y):(p=h[4]+y*Math.sin(d),v=h[5]-y*Math.cos(d)),c.style.left="".concat(p,"px"),c.style.top="".concat(v,"px"),c.style.fontSize="".concat(g,"px"),c.style.fontFamily=f.fontFamily,c.setAttribute("role","presentation"),c.textContent=t.str,c.dir=t.dir,e._fontInspectorEnabled&&(c.dataset.fontName=t.fontName),0!==d&&(u.angle=d*(180/Math.PI));var m=!1;if(t.str.length>1||e._enhanceTextSelection&&l.test(t.str))m=!0;else if(t.transform[0]!==t.transform[3]){var _=Math.abs(t.transform[0]),b=Math.abs(t.transform[3]);_!==b&&Math.max(_,b)/Math.min(_,b)>1.5&&(m=!0)}if(m&&(f.vertical?u.canvasWidth=t.height*e._viewport.scale:u.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(c,u),e._textContentStream&&e._layoutText(c),e._enhanceTextSelection&&u.hasText){var k=1,x=0;0!==d&&(k=Math.cos(d),x=Math.sin(d));var A,w,S=(f.vertical?t.height:t.width)*e._viewport.scale,C=g;0!==d?(A=[k,x,-x,k,p,v],w=n.Util.getAxialAlignedBoundingBox([0,0,S,C],A)):w=[p,v,p+S,v+C],e._bounds.push({left:w[0],top:w[1],right:w[2],bottom:w[3],div:c,size:[S,C],m:A})}}function u(e){if(!e._canceled){var t=e._textDivs,r=e._capability,n=t.length;if(n>a)return e._renderingDone=!0,void r.resolve();if(!e._textContentStream)for(var i=0;i<n;i++)e._layoutText(t[i]);e._renderingDone=!0,r.resolve()}}function h(e,t,r){for(var n=0,a=0;a<r;a++){var i=e[t++];i>0&&(n=n?Math.min(i,n):i)}return n}function d(e){for(var t=e._bounds,r=e._viewport,a=function(e,t,r){var n=r.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));f(e,n);var a=new Array(r.length),i=!0,o=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,h=u.index;a[h]={left:u.x1New,top:0,right:u.x2New,bottom:0}}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}r.map((function(t,r){var i=a[r],o=n[r];o.x1=t.top,o.y1=e-i.right,o.x2=t.bottom,o.y2=e-i.left,o.index=r,o.x1New=void 0,o.x2New=void 0})),f(t,n);var d=!0,p=!1,v=void 0;try{for(var g,y=n[Symbol.iterator]();!(d=(g=y.next()).done);d=!0){var m=g.value,_=m.index;a[_].top=m.x1New,a[_].bottom=m.x2New}}catch(e){p=!0,v=e}finally{try{d||null==y.return||y.return()}finally{if(p)throw v}}return a}(r.width,r.height,t),i=0;i<a.length;i++){var o=t[i].div,s=e._textDivProperties.get(o);if(0!==s.angle){for(var l=a[i],c=t[i],u=c.m,d=u[0],p=u[1],v=[[0,0],[0,c.size[1]],[c.size[0],0],c.size],g=new Float64Array(64),y=0,m=v.length;y<m;y++){var _=n.Util.applyTransform(v[y],u);g[y+0]=d&&(l.left-_[0])/d,g[y+4]=p&&(l.top-_[1])/p,g[y+8]=d&&(l.right-_[0])/d,g[y+12]=p&&(l.bottom-_[1])/p,g[y+16]=p&&(l.left-_[0])/-p,g[y+20]=d&&(l.top-_[1])/d,g[y+24]=p&&(l.right-_[0])/-p,g[y+28]=d&&(l.bottom-_[1])/d,g[y+32]=d&&(l.left-_[0])/-d,g[y+36]=p&&(l.top-_[1])/-p,g[y+40]=d&&(l.right-_[0])/-d,g[y+44]=p&&(l.bottom-_[1])/-p,g[y+48]=p&&(l.left-_[0])/p,g[y+52]=d&&(l.top-_[1])/-d,g[y+56]=p&&(l.right-_[0])/p,g[y+60]=d&&(l.bottom-_[1])/-d}var b=1+Math.min(Math.abs(d),Math.abs(p));s.paddingLeft=h(g,32,16)/b,s.paddingTop=h(g,48,16)/b,s.paddingRight=h(g,0,16)/b,s.paddingBottom=h(g,16,16)/b,e._textDivProperties.set(o,s)}else s.paddingLeft=t[i].left-a[i].left,s.paddingTop=t[i].top-a[i].top,s.paddingRight=a[i].right-t[i].right,s.paddingBottom=a[i].bottom-t[i].bottom,e._textDivProperties.set(o,s)}}function f(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));var r=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],n=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){for(var l=o.value,c=0;c<r.length&&r[c].end<=l.y1;)c++;for(var u=r.length-1;u>=0&&r[u].start>=l.y2;)u--;var h=void 0,d=void 0,f=void 0,p=void 0,v=-1/0;for(f=c;f<=u;f++){d=(h=r[f]).boundary;var g=void 0;(g=d.x2>l.x1?d.index>l.index?d.x1New:l.x1:void 0===d.x2New?(d.x2+l.x1)/2:d.x2New)>v&&(v=g)}for(l.x1New=v,f=c;f<=u;f++)void 0===(d=(h=r[f]).boundary).x2New?d.x2>l.x1?d.index>l.index&&(d.x2New=d.x2):d.x2New=v:d.x2New>v&&(d.x2New=Math.max(v,d.x2));var y=[],m=null;for(f=c;f<=u;f++){var _=(d=(h=r[f]).boundary).x2>l.x2?d:l;m===_?y[y.length-1].end=h.end:(y.push({start:h.start,end:h.end,boundary:_}),m=_)}for(r[c].start<l.y1&&(y[0].start=l.y1,y.unshift({start:r[c].start,end:l.y1,boundary:r[c].boundary})),l.y2<r[u].end&&(y[y.length-1].end=l.y2,y.push({start:l.y2,end:r[u].end,boundary:r[u].boundary})),f=c;f<=u;f++)if(void 0===(d=(h=r[f]).boundary).x2New){var b=!1;for(p=c-1;!b&&p>=0&&r[p].start>=d.y1;p--)b=r[p].boundary===d;for(p=u+1;!b&&p<r.length&&r[p].end<=d.y2;p++)b=r[p].boundary===d;for(p=0;!b&&p<y.length;p++)b=y[p].boundary===d;b||(d.x2New=v)}Array.prototype.splice.apply(r,[c,u-c+1].concat(y))}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}for(var k=0,x=r;k<x.length;k++){var A=x[k].boundary;void 0===A.x2New&&(A.x2New=Math.max(e,A.x2))}}var p=function(){function e(t){var r,a=this,i=t.textContent,o=t.textContentStream,s=t.container,l=t.viewport,c=t.textDivs,u=t.textContentItemsStr,h=t.enhanceTextSelection;_classCallCheck(this,e),this._textContent=i,this._textContentStream=o,this._container=s,this._document=s.ownerDocument,this._viewport=l,this._textDivs=c||[],this._textContentItemsStr=u||[],this._enhanceTextSelection=!!h,this._fontInspectorEnabled=!(null===(r=globalThis.FontInspector)||void 0===r||!r.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((function(){a._layoutTextCtx&&(a._layoutTextCtx.canvas.width=0,a._layoutTextCtx.canvas.height=0,a._layoutTextCtx=null)})).catch((function(){}))}return _createClass(e,[{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(e,t){for(var r=0,n=e.length;r<n;r++)if(void 0!==e[r].str)this._textContentItemsStr.push(e[r].str),c(this,e[r],t,this._layoutTextCtx);else if("beginMarkedContentProps"===e[r].type||"beginMarkedContent"===e[r].type){var a=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==e[r].id&&this._container.setAttribute("id","".concat(e[r].id)),a.appendChild(this._container)}else"endMarkedContent"===e[r].type&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function(e){var t=this._textDivProperties.get(e),r="";if(0!==t.canvasWidth&&t.hasText){var n=e.style,a=n.fontSize,i=n.fontFamily;a===this._layoutTextLastFontSize&&i===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(a," ").concat(i),this._layoutTextLastFontSize=a,this._layoutTextLastFontFamily=i);var o=this._layoutTextCtx.measureText(e.textContent).width;o>0&&(t.scale=t.canvasWidth/o,r="scaleX(".concat(t.scale,")"))}if(0!==t.angle&&(r="rotate(".concat(t.angle,"deg) ").concat(r)),r.length>0&&(this._enhanceTextSelection&&(t.originalTransform=r),e.style.transform=r),t.hasText&&this._container.appendChild(e),t.hasEOL){var s=document.createElement("br");s.setAttribute("role","presentation"),this._container.appendChild(s)}}},{key:"_render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=(0,n.createPromiseCapability)(),a=Object.create(null),o=this._document.createElement("canvas");if(o.height=o.width=i,o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent){var s=this._textContent.items,l=this._textContent.styles;this._processItems(s,l),r.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var c=function t(){e._reader.read().then((function(n){var i=n.value;n.done?r.resolve():(Object.assign(a,i.styles),e._processItems(i.items,a),t())}),r.reject)};this._reader=this._textContentStream.getReader(),c()}r.promise.then((function(){a=null,t?e._renderTimer=setTimeout((function(){u(e),e._renderTimer=null}),t):u(e)}),this._capability.reject)}},{key:"expandTextDivs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(d(this),this._bounds=null);for(var t=[],r=[],n=0,a=this._textDivs.length;n<a;n++){var i=this._textDivs[n],o=this._textDivProperties.get(i);o.hasText&&(e?(t.length=0,r.length=0,o.originalTransform&&t.push(o.originalTransform),o.paddingTop>0?(r.push("".concat(o.paddingTop,"px")),t.push("translateY(".concat(-o.paddingTop,"px)"))):r.push(0),o.paddingRight>0?r.push("".concat(o.paddingRight/o.scale,"px")):r.push(0),o.paddingBottom>0?r.push("".concat(o.paddingBottom,"px")):r.push(0),o.paddingLeft>0?(r.push("".concat(o.paddingLeft/o.scale,"px")),t.push("translateX(".concat(-o.paddingLeft/o.scale,"px)"))):r.push(0),i.style.padding=r.join(" "),t.length&&(i.style.transform=t.join(" "))):(i.style.padding=null,i.style.transform=o.originalTransform))}}}},{key:"promise",get:function(){return this._capability.promise}}]),e}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var n=r(2),a=r(1),i=r(4),o=function e(){_classCallCheck(this,e),(0,n.unreachable)("Not implemented: SVGGraphics")};t.SVGGraphics=o;var s=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),r=t.length-1;if("0"!==t[r])return t;do{r--}while("0"===t[r]);return t.substring(0,"."===t[r]?r:r+1)},l=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(s(e[0])," ").concat(s(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(s(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(s(e[4])," ").concat(s(e[5]),")");return"matrix(".concat(s(e[0])," ").concat(s(e[1])," ").concat(s(e[2])," ").concat(s(e[3])," ").concat(s(e[4])," ")+"".concat(s(e[5]),")")},c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},u=["butt","round","square"],h=["miter","round","bevel"],d=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=12,r=new Int32Array(256),a=0;a<256;a++){for(var o=a,s=0;s<8;s++)o=1&o?3988292384^o>>1&2147483647:o>>1&2147483647;r[a]=o}function l(e,t,n,a){var i=a,o=t.length;n[i]=o>>24&255,n[i+1]=o>>16&255,n[i+2]=o>>8&255,n[i+3]=255&o,n[i+=4]=255&e.charCodeAt(0),n[i+1]=255&e.charCodeAt(1),n[i+2]=255&e.charCodeAt(2),n[i+3]=255&e.charCodeAt(3),i+=4,n.set(t,i);var s=function(e,t,n){for(var a=-1,i=t;i<n;i++){var o=255&(a^e[i]);a=a>>>8^r[o]}return-1^a}(n,a+4,i+=t.length);n[i]=s>>24&255,n[i+1]=s>>16&255,n[i+2]=s>>8&255,n[i+3]=255&s}function c(e){var t=e.length,r=Math.ceil(t/65535),n=new Uint8Array(2+t+5*r+4),a=0;n[a++]=120,n[a++]=156;for(var i=0;t>65535;)n[a++]=0,n[a++]=255,n[a++]=255,n[a++]=0,n[a++]=0,n.set(e.subarray(i,i+65535),a),a+=65535,i+=65535,t-=65535;n[a++]=1,n[a++]=255&t,n[a++]=t>>8&255,n[a++]=255&~t,n[a++]=(65535&~t)>>8&255,n.set(e.subarray(i),a),a+=e.length-i;var o=function(e,t,r){for(var n=1,a=0,i=t;i<r;++i)a=(a+(n=(n+(255&e[i]))%65521))%65521;return a<<16|n}(e,0,e.length);return n[a++]=o>>24&255,n[a++]=o>>16&255,n[a++]=o>>8&255,n[a++]=255&o,n}function u(r,a,o,s){var u,h,d,f=r.width,p=r.height,v=r.data;switch(a){case n.ImageKind.GRAYSCALE_1BPP:h=0,u=1,d=f+7>>3;break;case n.ImageKind.RGB_24BPP:h=2,u=8,d=3*f;break;case n.ImageKind.RGBA_32BPP:h=6,u=8,d=4*f;break;default:throw new Error("invalid format")}for(var g=new Uint8Array((1+d)*p),y=0,m=0,_=0;_<p;++_)g[y++]=0,g.set(v.subarray(m,m+d),y),m+=d,y+=d;if(a===n.ImageKind.GRAYSCALE_1BPP&&s){y=0;for(var b=0;b<p;b++){y++;for(var k=0;k<d;k++)g[y++]^=255}}var x=new Uint8Array([f>>24&255,f>>16&255,f>>8&255,255&f,p>>24&255,p>>16&255,p>>8&255,255&p,u,h,0,0,0]),A=function(e){if(!i.isNodeJS)return c(e);try{var t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);var r=__webpack_require__(176).deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return c(e)}(g),w=e.length+3*t+x.length+A.length,S=new Uint8Array(w),C=0;return S.set(e,C),l("IHDR",x,S,C+=e.length),l("IDATA",A,S,C+=t+x.length),C+=t+A.length,l("IEND",new Uint8Array(0),S,C),(0,n.createObjectURL)(S,"image/png",o)}return function(e,t,r){return u(e,void 0===e.kind?n.ImageKind.GRAYSCALE_1BPP:e.kind,t,r)}}(),f=function(){function e(){_classCallCheck(this,e),this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=n.IDENTITY_MATRIX,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=n.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),p=0,v=0,g=0;t.SVGGraphics=o=function(){function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in _classCallCheck(this,e),this.svgFactory=new a.DOMSVGFactory,this.current=new f,this.transformMatrix=n.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=r,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!i,this._operatorIdMapping=[],n.OPS)this._operatorIdMapping[n.OPS[o]]=o}return _createClass(e,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var t=this,r=e.fnArray,a=e.argsArray,i=0,o=r.length;i<o;i++)if(r[i]===n.OPS.dependency){var s=!0,l=!1,c=void 0;try{for(var u,h=function(){var e=u.value,r=e.startsWith("g_")?t.commonObjs:t.objs,n=new Promise((function(t){r.get(e,t)}));t.current.dependencies.push(n)},d=a[i][Symbol.iterator]();!(s=(u=d.next()).done);s=!0)h()}catch(e){l=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,r,a,i,o){var s=[e,t,r,a,i,o];this.transformMatrix=n.Util.transform(this.transformMatrix,s),this.tgrp=null}},{key:"getSVG",value:function(e,t){var r=this;this.viewport=t;var a=this._initialize(t);return this.loadDependencies(e).then((function(){return r.transformMatrix=n.IDENTITY_MATRIX,r.executeOpTree(r.convertOpList(e)),a}))}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,r=e.argsArray,n=e.fnArray,a=[],i=0,o=n.length;i<o;i++){var s=n[i];a.push({fnId:s,fn:t[s],args:r[i]})}return function(e){var t=[],r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;"save"!==l.fn?"restore"===l.fn?t=r.pop():t.push(l):(t.push({fnId:92,fn:"group",items:[]}),r.push(t),t=t[t.length-1].items)}}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return t}(a)}},{key:"executeOpTree",value:function(e){var t=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value,l=s.fn,c=s.fnId,u=s.args;switch(0|c){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(u);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(u[0],u[1]);break;case n.OPS.setFont:this.setFont(u);break;case n.OPS.showText:case n.OPS.showSpacedText:this.showText(u[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(u[0],u[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(u[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(u[0]);break;case n.OPS.setHScale:this.setHScale(u[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(u[0],u[1],u[2],u[3],u[4],u[5]);break;case n.OPS.setTextRise:this.setTextRise(u[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(u[0]);break;case n.OPS.setLineWidth:this.setLineWidth(u[0]);break;case n.OPS.setLineJoin:this.setLineJoin(u[0]);break;case n.OPS.setLineCap:this.setLineCap(u[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(u[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(u[0],u[1],u[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(u[0],u[1],u[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(u);break;case n.OPS.setFillColorN:this.setFillColorN(u);break;case n.OPS.shadingFill:this.shadingFill(u[0]);break;case n.OPS.setDash:this.setDash(u[0],u[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(u[0]);break;case n.OPS.setFlatness:this.setFlatness(u[0]);break;case n.OPS.setGState:this.setGState(u[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintImageXObject:this.paintImageXObject(u[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(u[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(u[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(u[0],u[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(u[0],u[1],u[2],u[3],u[4],u[5]);break;case n.OPS.constructPath:this.constructPath(u[0],u[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(s.items);break;default:(0,n.warn)("Unimplemented operator ".concat(l))}}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,r,n,a,i){var o=this.current;o.textMatrix=o.lineMatrix=[e,t,r,n,a,i],o.textMatrixScale=Math.hypot(e,t),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size","".concat(s(o.fontSize),"px")),o.tspan.setAttributeNS(null,"y",s(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.appendChild(o.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=n.IDENTITY_MATRIX,e.lineMatrix=n.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var r=this.current;r.x=r.lineX+=e,r.y=r.lineY+=t,r.xcoords=[],r.ycoords=[],r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size","".concat(s(r.fontSize),"px")),r.tspan.setAttributeNS(null,"y",s(-r.y))}},{key:"showText",value:function(e){var t=this.current,r=t.font,a=t.fontSize;if(0!==a){var i=t.fontSizeScale,o=t.charSpacing,u=t.wordSpacing,h=t.fontDirection,d=t.textHScale*h,f=r.vertical,p=f?1:-1,v=r.defaultVMetrics,g=a*t.fontMatrix[0],y=0,m=!0,_=!1,b=void 0;try{for(var k,x=e[Symbol.iterator]();!(m=(k=x.next()).done);m=!0){var A=k.value;if(null!==A)if((0,n.isNum)(A))y+=p*A*a/1e3;else{var w=(A.isSpace?u:0)+o,S=A.fontChar,C=void 0,P=void 0,R=A.width;if(f){var T=void 0,E=A.vmetric||v;T=-(T=A.vmetric?E[1]:.5*R)*g;var O=E[2]*g;R=E?-E[0]:R,C=T/i,P=(y+O)/i}else C=y/i,P=0;(A.isInFont||r.missingFile)&&(t.xcoords.push(t.x+C),f&&t.ycoords.push(-t.y+P),t.tspan.textContent+=S),y+=f?R*g-w*h:R*g+w*h}else y+=h*u}}catch(e){_=!0,b=e}finally{try{m||null==x.return||x.return()}finally{if(_)throw b}}t.tspan.setAttributeNS(null,"x",t.xcoords.map(s).join(" ")),f?t.tspan.setAttributeNS(null,"y",t.ycoords.map(s).join(" ")):t.tspan.setAttributeNS(null,"y",s(-t.y)),f?t.y-=y:t.x+=y*d,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(s(t.fontSize),"px")),t.fontStyle!==c.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==c.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var F=t.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;if(F===n.TextRenderingMode.FILL||F===n.TextRenderingMode.FILL_STROKE?(t.fillColor!==c.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),F===n.TextRenderingMode.STROKE||F===n.TextRenderingMode.FILL_STROKE){var I=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,I)}var M=t.textMatrix;0!==t.textRise&&((M=M.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(l(M)," scale(").concat(s(d),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,n.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,r=this.commonObjs.get(e[0]),a=e[1];t.font=r,!this.embedFonts||r.missingFile||this.embeddedFonts[r.loadedName]||(this.addFontStyle(r),this.embeddedFonts[r.loadedName]=r),t.fontMatrix=r.fontMatrix||n.FONT_IDENTITY_MATRIX;var i="normal";r.black?i="900":r.bold&&(i="bold");var o=r.italic?"italic":"normal";a<0?(a=-a,t.fontDirection=-1):t.fontDirection=1,t.fontSize=a,t.fontFamily=r.loadedName,t.fontWeight=i,t.fontStyle=o,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",s(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e,t=this.current;t.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(e=t.txtElement)&&void 0!==e&&e.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=u[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=h[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,r){this.current.strokeColor=n.Util.makeHexColor(e,t,r)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,r){this.current.fillColor=n.Util.makeHexColor(e,t,r),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,r=this.viewport.height,a=n.Util.inverseTransform(this.transformMatrix),i=n.Util.applyTransform([0,0],a),o=n.Util.applyTransform([0,r],a),s=n.Util.applyTransform([t,0],a),l=n.Util.applyTransform([t,r],a),c=Math.min(i[0],o[0],s[0],l[0]),u=Math.min(i[1],o[1],s[1],l[1]),h=Math.max(i[0],o[0],s[0],l[0]),d=Math.max(i[1],o[1],s[1],l[1]),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",c),f.setAttributeNS(null,"y",u),f.setAttributeNS(null,"width",h-c),f.setAttributeNS(null,"height",d-u),f.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&f.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(f)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],r=e[2],a=e[3]||n.IDENTITY_MATRIX,i=_slicedToArray(e[4],4),o=i[0],s=i[1],l=i[2],c=i[3],u=e[5],h=e[6],d=e[7],f="shading".concat(g++),p=_slicedToArray(n.Util.normalizeRect([].concat(_toConsumableArray(n.Util.applyTransform([o,s],a)),_toConsumableArray(n.Util.applyTransform([l,c],a)))),4),v=p[0],y=p[1],m=p[2],_=p[3],b=_slicedToArray(n.Util.singularValueDecompose2dScale(a),2),k=u*b[0],x=h*b[1],A=this.svgFactory.createElement("svg:pattern");A.setAttributeNS(null,"id",f),A.setAttributeNS(null,"patternUnits","userSpaceOnUse"),A.setAttributeNS(null,"width",k),A.setAttributeNS(null,"height",x),A.setAttributeNS(null,"x","".concat(v)),A.setAttributeNS(null,"y","".concat(y));var w=this.svg,S=this.transformMatrix,C=this.current.fillColor,P=this.current.strokeColor,R=this.svgFactory.create(m-v,_-y);if(this.svg=R,this.transformMatrix=a,2===d){var T,E=(T=n.Util).makeHexColor.apply(T,_toConsumableArray(t));this.current.fillColor=E,this.current.strokeColor=E}return this.executeOpTree(this.convertOpList(r)),this.svg=w,this.transformMatrix=S,this.current.fillColor=C,this.current.strokeColor=P,A.appendChild(R.childNodes[0]),this.defs.appendChild(A),"url(#".concat(f,")")}},{key:"_makeShadingPattern",value:function(e){switch(e[0]){case"RadialAxial":var t,r="shading".concat(g++),a=e[3];switch(e[1]){case"axial":var i=e[4],o=e[5];(t=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",r),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",i[0]),t.setAttributeNS(null,"y1",i[1]),t.setAttributeNS(null,"x2",o[0]),t.setAttributeNS(null,"y2",o[1]);break;case"radial":var s=e[4],l=e[5],c=e[6],u=e[7];(t=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",r),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",l[0]),t.setAttributeNS(null,"cy",l[1]),t.setAttributeNS(null,"r",u),t.setAttributeNS(null,"fx",s[0]),t.setAttributeNS(null,"fy",s[1]),t.setAttributeNS(null,"fr",c);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var h=!0,d=!1,f=void 0;try{for(var p,v=a[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var y=p.value,m=this.svgFactory.createElement("svg:stop");m.setAttributeNS(null,"offset",y[0]),m.setAttributeNS(null,"stop-color",y[1]),t.appendChild(m)}}catch(e){d=!0,f=e}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}return this.defs.appendChild(t),"url(#".concat(r,")");case"Mesh":return(0,n.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var r=this.current,a=r.x,i=r.y,o=[],l=0,c=!0,u=!1,h=void 0;try{for(var d,f=e[Symbol.iterator]();!(c=(d=f.next()).done);c=!0)switch(0|d.value){case n.OPS.rectangle:a=t[l++],i=t[l++];var p=t[l++],v=t[l++],g=a+p,y=i+v;o.push("M",s(a),s(i),"L",s(g),s(i),"L",s(g),s(y),"L",s(a),s(y),"Z");break;case n.OPS.moveTo:a=t[l++],i=t[l++],o.push("M",s(a),s(i));break;case n.OPS.lineTo:a=t[l++],i=t[l++],o.push("L",s(a),s(i));break;case n.OPS.curveTo:a=t[l+4],i=t[l+5],o.push("C",s(t[l]),s(t[l+1]),s(t[l+2]),s(t[l+3]),s(a),s(i)),l+=6;break;case n.OPS.curveTo2:o.push("C",s(a),s(i),s(t[l]),s(t[l+1]),s(t[l+2]),s(t[l+3])),a=t[l+2],i=t[l+3],l+=4;break;case n.OPS.curveTo3:a=t[l+2],i=t[l+3],o.push("C",s(t[l]),s(t[l+1]),s(a),s(i),s(a),s(i)),l+=4;break;case n.OPS.closePath:o.push("Z")}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}o=o.join(" "),r.path&&e.length>0&&e[0]!==n.OPS.rectangle&&e[0]!==n.OPS.moveTo?o=r.path.getAttributeNS(null,"d")+o:(r.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(r.path)),r.path.setAttributeNS(null,"d",o),r.path.setAttributeNS(null,"fill","none"),r.element=r.path,r.setCurrentPoint(a,i)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip)if(e.element){var t="clippath".concat(p++),r=this.svgFactory.createElement("svg:clipPath");r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"transform",l(this.transformMatrix));var n=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?n.setAttributeNS(null,"clip-rule","evenodd"):n.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,r.appendChild(n),this.defs.appendChild(r),e.activeClipUrl){e.clipGroup=null;var a=!0,i=!1,o=void 0;try{for(var s,c=this.extraStack[Symbol.iterator]();!(a=(s=c.next()).done);a=!0)s.value.clipGroup=null}catch(e){i=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}r.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=_slicedToArray(i.value,2),l=s[0],c=s[1];switch(l){case"LW":this.setLineWidth(c);break;case"LC":this.setLineCap(c);break;case"LJ":this.setLineJoin(c);break;case"ML":this.setMiterLimit(c);break;case"D":this.setDash(c[0],c[1]);break;case"RI":this.setRenderingIntent(c);break;case"FL":this.setFlatness(c);break;case"Font":this.setFont(c);break;case"CA":this.setStrokeAlpha(c);break;case"ca":this.setFillAlpha(c);break;default:(0,n.warn)("Unimplemented graphic state operator ".concat(l))}}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.current,n=r.dashArray;1!==t&&n.length>0&&(n=n.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",r.strokeColor),e.setAttributeNS(null,"stroke-opacity",r.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",s(r.miterLimit)),e.setAttributeNS(null,"stroke-linecap",r.lineCap),e.setAttributeNS(null,"stroke-linejoin",r.lineJoin),e.setAttributeNS(null,"stroke-width",s(t*r.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",n.map(s).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",s(t*r.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,n.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var r=e.width,n=e.height,a=d(e,this.forceDataSchema,!!t),i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",s(r)),i.setAttributeNS(null,"height",s(n)),this.current.element=i,this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",s(-n)),o.setAttributeNS(null,"width",s(r)+"px"),o.setAttributeNS(null,"height",s(n)+"px"),o.setAttributeNS(null,"transform","scale(".concat(s(1/r)," ").concat(s(-1/n),")")),t?t.appendChild(o):this._ensureTransformGroup().appendChild(o)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,r=e.width,n=e.height,a=t.fillColor;t.maskId="mask".concat(v++);var i=this.svgFactory.createElement("svg:mask");i.setAttributeNS(null,"id",t.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",s(r)),o.setAttributeNS(null,"height",s(n)),o.setAttributeNS(null,"fill",a),o.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(i),this._ensureTransformGroup().appendChild(o),this.paintInlineImageXObject(e,i)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var r=t[2]-t[0],n=t[3]-t[1],a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x",t[0]),a.setAttributeNS(null,"y",t[1]),a.setAttributeNS(null,"width",s(r)),a.setAttributeNS(null,"height",s(n)),this.current.element=a,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),r=this.svgFactory.createElement("svg:defs");t.appendChild(r),this.defs=r;var n=this.svgFactory.createElement("svg:g");return n.setAttributeNS(null,"transform",l(e.transform)),t.appendChild(n),this.svg=n,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",l(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),e}()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"setupStorage",value:function(e,t,r,n,a){var i=n.getValue(t,{value:null});switch(r.name){case"textarea":if(null!==i.value&&(e.textContent=i.value),"print"===a)break;e.addEventListener("input",(function(e){n.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===r.attributes.type||"checkbox"===r.attributes.type){if(i.value===r.attributes.xfaOn&&e.setAttribute("checked",!0),"print"===a)break;e.addEventListener("change",(function(e){n.setValue(t,{value:e.target.getAttribute("xfaOn")})}))}else{if(null!==i.value&&e.setAttribute("value",i.value),"print"===a)break;e.addEventListener("input",(function(e){n.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==i.value){var o=!0,s=!1,l=void 0;try{for(var c,u=r.children[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;h.attributes.value===i.value&&(h.attributes.selected=!0)}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}}e.addEventListener("input",(function(e){var r=e.target.options,a=-1===r.selectedIndex?"":r[r.selectedIndex].value;n.setValue(t,{value:a})}))}}},{key:"setAttributes",value:function(e,t,r,n){var a=t.attributes;"radio"===a.type&&(a.name="".concat(a.name,"-").concat(n));for(var i=0,o=Object.entries(a);i<o.length;i++){var s=_slicedToArray(o[i],2),l=s[0],c=s[1];null!=c&&"dataId"!==l&&("style"!==l?"textContent"===l?e.textContent=c:"class"===l?e.setAttribute(l,c.join(" ")):e.setAttribute(l,c):Object.assign(e.style,c))}r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}},{key:"render",value:function(e){var t=e.annotationStorage,r=e.xfa,n=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes(a,r);var i=[[r,-1,a]],o=e.div;o.appendChild(a);var s="matrix(".concat(e.viewport.transform.join(","),")");for(o.style.transform=s,o.setAttribute("class","xfaLayer xfaFont");i.length>0;){var l,c=_slicedToArray(i[i.length-1],3),u=c[0],h=c[1],d=c[2];if(h+1!==u.children.length){var f=u.children[++i[i.length-1][1]];if(null!==f){var p=f.name;if("#text"!==p){var v=void 0;v=null!=f&&null!==(l=f.attributes)&&void 0!==l&&l.xmlns?document.createElementNS(f.attributes.xmlns,p):document.createElement(p),d.appendChild(v),f.attributes&&this.setAttributes(v,f,t,n),f.children&&f.children.length>0?i.push([f,-1,v]):f.value&&v.appendChild(document.createTextNode(f.value))}else d.appendChild(document.createTextNode(f.value))}}else i.pop()}var g=!0,y=!1,m=void 0;try{for(var _,b=o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea")[Symbol.iterator]();!(g=(_=b.next()).done);g=!0)_.value.setAttribute("readOnly",!0)}catch(e){y=!0,m=e}finally{try{g||null==b.return||b.return()}finally{if(y)throw m}}}},{key:"update",value:function(e){var t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}]),e}();t.XfaLayer=r},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var n=r(2),a=r(23),i=__webpack_require__(174),o=__webpack_require__(177),s=__webpack_require__(178),l=__webpack_require__(179),c=/^file:\/\/\/[a-zA-Z]:\//,u=function(){function e(t){var r,n;_classCallCheck(this,e),this.source=t,this.url=(r=t.url,"file:"===(n=l.parse(r)).protocol||n.host?n:/^[a-z]:[/\\]/i.test(r)?l.parse("file:///".concat(r)):(n.host||(n.protocol="file:"),n)),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"getFullReader",value:function(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new p(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=this.isFsUrl?new y(this,e,t):new v(this,e,t);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t=!0,r=!1,n=void 0;try{for(var a,i=this._rangeRequestReaders.slice(0)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)a.value.cancel(e)}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}}]),e}();t.PDFNodeStream=u;var h=function(){function e(t){_classCallCheck(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var r=t.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._headersCapability=(0,n.createPromiseCapability)()}var t;return _createClass(e,[{key:"read",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,n.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),r=new Uint8Array(t).buffer,e.abrupt("return",{value:r,done:!1});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),d=function(){function e(t){_classCallCheck(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)();var r=t.source;this._isStreamingSupported=!r.disableStream}var t;return _createClass(e,[{key:"read",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,n.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),r=new Uint8Array(t).buffer,e.abrupt("return",{value:r,done:!1});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}();function f(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var p=function(e){function t(e){var r;_classCallCheck(this,t);var i=function(t){if(404===t.statusCode){var i=new n.MissingPDFException('Missing PDF "'.concat(r._url,'".'));return r._storedError=i,void r._headersCapability.reject(i)}r._headersCapability.resolve(),r._setReadableStream(t);var o=function(e){return r._readableStream.headers[e.toLowerCase()]},s=(0,a.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:e.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),l=s.allowRangeRequests,c=s.suggestedLength;r._isRangeSupported=l,r._contentLength=c||r._contentLength,r._filename=(0,a.extractFilenameFromHeader)(o)};return(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._request=null,"http:"===r._url.protocol?r._request=o.request(f(r._url,e.httpHeaders),i):r._request=s.request(f(r._url,e.httpHeaders),i),r._request.on("error",(function(e){r._storedError=e,r._headersCapability.reject(e)})),r._request.end(),r}return _inherits(t,e),t}(h),v=function(e){function t(e,r,a){var i;for(var l in _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._httpHeaders={},e.httpHeaders){var c=e.httpHeaders[l];void 0!==c&&(i._httpHeaders[l]=c)}i._httpHeaders.Range="bytes=".concat(r,"-").concat(a-1);var u=function(e){if(404!==e.statusCode)i._setReadableStream(e);else{var t=new n.MissingPDFException('Missing PDF "'.concat(i._url,'".'));i._storedError=t}};return i._request=null,"http:"===i._url.protocol?i._request=o.request(f(i._url,i._httpHeaders),u):i._request=s.request(f(i._url,i._httpHeaders),u),i._request.on("error",(function(e){i._storedError=e})),i._request.end(),i}return _inherits(t,e),t}(d),g=function(e){function t(e){var r;_classCallCheck(this,t),r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e));var a=decodeURIComponent(r._url.path);return c.test(r._url.href)&&(a=a.replace(/^\//,"")),i.lstat(a,(function(e,t){if(e)return"ENOENT"===e.code&&(e=new n.MissingPDFException('Missing PDF "'.concat(a,'".'))),r._storedError=e,void r._headersCapability.reject(e);r._contentLength=t.size,r._setReadableStream(i.createReadStream(a)),r._headersCapability.resolve()})),r}return _inherits(t,e),t}(h),y=function(e){function t(e,r,n){var a;_classCallCheck(this,t),a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e));var o=decodeURIComponent(a._url.path);return c.test(a._url.href)&&(o=o.replace(/^\//,"")),a._setReadableStream(i.createReadStream(o,{start:r,end:n-1})),a}return _inherits(t,e),t}(d)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+t+'".'):new n.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var r=(0,a.getFilenameFromContentDispositionHeader)(t);if(r.includes("%"))try{r=decodeURIComponent(r)}catch(e){}if((0,i.isPdfFile)(r))return r}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,r=e.isHttp,a=e.rangeChunkSize,i=e.disableRange;(0,n.assert)(a>0,"Range chunk size must be larger than zero");var o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return Number.isInteger(s)?(o.suggestedLength=s,s<=2*a?o:i||!r?o:"bytes"!==t("Accept-Ranges")?o:"identity"!==(t("Content-Encoding")||"identity")?o:(o.allowRangeRequests=!0,o)):o},t.validateResponseStatus=function(e){return 200===e||206===e};var n=r(2),a=r(24),i=r(1)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var t=!0,r=o("filename\\*","i").exec(e);if(r){var a=c(r=r[1]);return l(a=h(a=u(a=unescape(a))))}if(r=function(e){for(var t,r=[],n=o("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(t=n.exec(e));){var a=_slicedToArray(t,4),i=a[1],s=a[2],l=a[3];if((i=parseInt(i,10))in r){if(0===i)break}else r[i]=[s,l]}for(var h=[],d=0;d<r.length&&d in r;++d){var f=_slicedToArray(r[d],2),p=f[0],v=f[1];v=c(v),p&&(v=unescape(v),0===d&&(v=u(v))),h.push(v)}return h.join("")}(e))return l(h(r));if(r=o("filename","i").exec(e)){var i=c(r=r[1]);return l(i=h(i))}function o(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,r){if(e){if(!/^[\x00-\xFF]+$/.test(r))return r;try{var a=new TextDecoder(e,{fatal:!0}),i=(0,n.stringToBytes)(r);r=a.decode(i),t=!1}catch(n){if(/^utf-?8$/i.test(e))try{r=decodeURIComponent(escape(r)),t=!1}catch(e){}}}return r}function l(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function c(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),r=0;r<t.length;++r){var n=t[r].indexOf('"');-1!==n&&(t[r]=t[r].slice(0,n),t.length=r+1),t[r]=t[r].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function u(e){var t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function h(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,r,n){if("q"===r||"Q"===r)return s(t,n=(n=n.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{n=atob(n)}catch(e){}return s(t,n)}))}return""};var n=r(2)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var n=r(2),a=r(23),i=function(){function e(t,r){_classCallCheck(this,e),this.url=t,r=r||{},this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&r.httpHeaders||{},this.withCredentials=r.withCredentials||!1,this.getXhr=r.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(e,[{key:"requestRange",value:function(e,t,r){var n={begin:e,end:t};for(var a in r)n[a]=r[a];return this.request(n)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(e){var t=this.getXhr(),r=this.currXhrId++,n=this.pendingRequests[r]={xhr:t};for(var a in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var i=this.httpHeaders[a];void 0!==i&&t.setRequestHeader(a,i)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),n.expectedStatus=206):n.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),n.onHeadersReceived=e.onHeadersReceived,n.onDone=e.onDone,n.onError=e.onError,n.onProgress=e.onProgress,t.send(null),r}},{key:"onProgress",value:function(e,t){var r=this.pendingRequests[e];r&&r.onProgress&&r.onProgress(t)}},{key:"onStateChange",value:function(e,t){var r=this.pendingRequests[e];if(r){var a=r.xhr;if(a.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4===a.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===a.status&&this.isHttp)r.onError&&r.onError(a.status);else{var i=a.status||200;if(200===i&&206===r.expectedStatus||i===r.expectedStatus){var o=function(e){var t=e.response;return"string"!=typeof t?t:(0,n.stringToBytes)(t).buffer}(a);if(206===i){var s=a.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);r.onDone({begin:parseInt(l[1],10),chunk:o})}else o?r.onDone({begin:0,chunk:o}):r.onError&&r.onError(a.status)}else r.onError&&r.onError(a.status)}}}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}(),o=function(){function e(t){_classCallCheck(this,e),this._source=t,this._manager=new i(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var r=new l(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t=!0,r=!1,n=void 0;try{for(var a,i=this._rangeRequestReaders.slice(0)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)a.value.cancel(e)}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}}]),e}();t.PDFNetworkStream=o;var s=function(){function e(t,r){_classCallCheck(this,e),this._manager=t;var a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._fullRequestId=t.requestFull(a),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var t;return _createClass(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=function(e){return t.getResponseHeader(e)},n=(0,a.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),i=n.allowRangeRequests,o=n.suggestedLength;i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var t=!0,r=!1,n=void 0;try{for(var a,i=this._requests[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)a.value.resolve({value:void 0,done:!0})}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}this._requests.length=0}}},{key:"_onError",value:function(e){var t=this._url,r=(0,a.createResponseStatusError)(e,t);this._storedError=r,this._headersReceivedCapability.reject(r);var n=!0,i=!1,o=void 0;try{for(var s,l=this._requests[Symbol.iterator]();!(n=(s=l.next()).done);n=!0)s.value.reject(r)}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"read",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return r=(0,n.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e);var t=!0,r=!1,n=void 0;try{for(var a,i=this._requests[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)a.value.resolve({value:void 0,done:!0})}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),e}(),l=function(){function e(t,r,n){_classCallCheck(this,e),this._manager=t;var a={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(r,n,a),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var t;return _createClass(e,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;var r=!0,n=!1,a=void 0;try{for(var i,o=this._requests[Symbol.iterator]();!(r=(i=o.next()).done);r=!0)i.value.resolve({value:void 0,done:!0})}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}this._requests.length=0,this._close()}},{key:"_onProgress",value:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}},{key:"read",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return r=(0,n.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0;var t=!0,r=!1,n=void 0;try{for(var a,i=this._requests[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)a.value.resolve({value:void 0,done:!0})}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),e}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var n=r(2),a=r(23);function i(e,t,r){return{method:"GET",headers:e,signal:null==r?void 0:r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function o(e){var t=new Headers;for(var r in e){var n=e[r];void 0!==n&&t.append(r,n)}return t}var s=function(){function e(t){_classCallCheck(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"getFullReader",value:function(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var r=new c(this,e,t);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t=!0,r=!1,n=void 0;try{for(var a,i=this._rangeRequestReaders.slice(0)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0)a.value.cancel(e)}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}}]),e}();t.PDFFetchStream=s;var l=function(){function e(t){var r=this;_classCallCheck(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var s=t.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=(0,n.createPromiseCapability)(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._headers=o(this._stream.httpHeaders);var l=s.url;fetch(l,i(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,a.validateResponseStatus)(e.status))throw(0,a.createResponseStatusError)(e.status,l);r._reader=e.body.getReader(),r._headersCapability.resolve();var t=function(t){return e.headers.get(t)},i=(0,a.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:r._stream.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),o=i.allowRangeRequests,s=i.suggestedLength;r._isRangeSupported=o,r._contentLength=s||r._contentLength,r._filename=(0,a.extractFilenameFromHeader)(t),!r._isStreamingSupported&&r._isRangeSupported&&r.cancel(new n.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}var t;return _createClass(e,[{key:"read",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,r=t.value,!(n=t.done)){e.next=9;break}return e.abrupt("return",{value:r,done:n});case 9:return this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),a=new Uint8Array(r).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),c=function(){function e(t,r,s){var l=this;_classCallCheck(this,e),this._stream=t,this._reader=null,this._loaded=0;var c=t.source;this._withCredentials=c.withCredentials||!1,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!c.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=o(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(r,"-").concat(s-1));var u=c.url;fetch(u,i(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,a.validateResponseStatus)(e.status))throw(0,a.createResponseStatusError)(e.status,u);l._readCapability.resolve(),l._reader=e.body.getReader()})).catch((function(e){if("AbortError"!==(null==e?void 0:e.name))throw e})),this.onProgress=null}var t;return _createClass(e,[{key:"read",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,r=t.value,!(n=t.done)){e.next=9;break}return e.abrupt("return",{value:r,done:n});case 9:return this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),a=new Uint8Array(r).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}()}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return function(){var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addLinkAttributes",{enumerable:!0,get:function(){return t.addLinkAttributes}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return t.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return t.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return t.getXfaPageViewport}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return t.isPdfFile}}),Object.defineProperty(e,"LinkTarget",{enumerable:!0,get:function(){return t.LinkTarget}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return t.loadScript}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return t.PDFDateString}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return t.RenderingCancelledException}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return r.version}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(e,"createObjectURL",{enumerable:!0,get:function(){return n.createObjectURL}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return n.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(e,"removeNullCharacters",{enumerable:!0,get:function(){return n.removeNullCharacters}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return n.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return i.GlobalWorkerOptions}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}});var t=__w_pdfjs_require__(1),r=__w_pdfjs_require__(6),n=__w_pdfjs_require__(2),a=__w_pdfjs_require__(17),i=__w_pdfjs_require__(12),o=__w_pdfjs_require__(4),s=__w_pdfjs_require__(19),l=__w_pdfjs_require__(20),c=__w_pdfjs_require__(21);if(o.isNodeJS){var u=__w_pdfjs_require__(22).PDFNodeStream;(0,r.setPDFNetworkStreamFactory)((function(e){return new u(e)}))}else{var h=__w_pdfjs_require__(25).PDFNetworkStream,d=__w_pdfjs_require__(26).PDFFetchStream;(0,r.setPDFNetworkStreamFactory)((function(e){return(0,t.isValidFetchUrl)(e.url)?new d(e):new h(e)}))}}(),__webpack_exports__}()},"object"===_typeof(exports)&&"object"===_typeof(module)?module.exports=factory():(__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this,__webpack_require__(168),__webpack_require__(169).Buffer,__webpack_require__(173)(module))},function(e,t){var r,n,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&f())}function f(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(170),a=r(171),i=r(172);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),a=(e=s(e,n)).write(t,r);a!==n&&(e=e.slice(0,a));return e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|f(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|f(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,a){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,a);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,a){var i,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var u=-1;for(i=r;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(r+l>s&&(r=s-l),i=r;i>=0;i--){for(var h=!0,d=0;d<l;d++)if(c(e,i+d)!==c(t,d)){h=!1;break}if(h)return i}return-1}function _(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function b(e,t,r,n){return H(q(t,e.length-r),e,r,n)}function k(e,t,r,n){return H(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return k(e,t,r,n)}function A(e,t,r,n){return H(W(t),e,r,n)}function w(e,t,r,n){return H(function(e,t){for(var r,n,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,a=r%256,i.push(a),i.push(n);return i}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var i,o,s,l,c=e[a],u=null,h=c>239?4:c>223?3:c>191?2:1;if(a+h<=r)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[a+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&(l=(15&c)<<12|(63&i)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),a+=h}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return c(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var o=e[r];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,a),a+=o.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):v.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,a){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(i,o),c=this.slice(n,a),u=e.slice(t,r),h=0;h<s;++h)if(c[h]!==u[h]){i=c[h],o=u[h];break}return i<o?-1:o<i?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return k(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function R(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function E(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var a="",i=t;i<r;++i)a+=U(e[i]);return a}function O(e,t,r){for(var n=e.slice(t,r),a="",i=0;i<n.length;i+=2)a+=String.fromCharCode(n[i]+256*n[i+1]);return a}function F(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,a,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-r,2);a<i;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function L(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-r,4);a<i;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function D(e,t,r,n,a,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(e,t,r,n,i){return i||D(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,i){return i||D(e,0,r,8),a.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var a=t-e;r=new l(a,void 0);for(var i=0;i<a;++i)r[i]=this[i+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||F(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||F(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},l.prototype.readUInt8=function(e,t){return t||F(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||F(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||F(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||F(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||F(e,t,this.length);for(var n=t,a=1,i=this[e+--n];n>0&&(a*=256);)i+=this[e+--n]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||F(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||F(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||F(e,4,this.length),a.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||F(e,4,this.length),a.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||F(e,8,this.length),a.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||F(e,8,this.length),a.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);I(this,e,t,r,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);I(this,e,t,r,a-1,-a)}var i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,i=n-r;if(this===e&&r<t&&t<n)for(a=i-1;a>=0;--a)e[a+t]=this[a+r];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=l.isBuffer(e)?e:q(new l(e,n).toString()),s=o.length;for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var r;t=t||1/0;for(var n=e.length,a=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function W(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}}).call(this,r(132))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),o=n[0],s=n[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),u=0,h=s>0?o-4:o;for(r=0;r<h;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===s&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i=[],o=0,s=r-a;o<s;o+=16383)i.push(u(e,o,o+16383>s?s:o+16383));1===a?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],a[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var a,i,o=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,a){var i,o,s=8*a-n-1,l=(1<<s)-1,c=l>>1,u=-7,h=r?a-1:0,d=r?-1:1,f=e[t+h];for(h+=d,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+h],h+=d,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=n;u>0;o=256*o+e[t+h],h+=d,u-=8);if(0===i)i=1-c;else{if(i===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),i-=c}return(f?-1:1)*o*Math.pow(2,i-n)},t.write=function(e,t,r,n,a,i){var o,s,l,c=8*i-a-1,u=(1<<c)-1,h=u>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(t*l-1)*Math.pow(2,a),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,a),o=0));a>=8;e[r+f]=255&s,f+=p,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;e[r+f]=255&o,f+=p,o/=256,c-=8);e[r+f-p]|=128*v}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){(function(e,r){!function(t){"use strict";function n(e,...t){return(...r)=>e(...t,...r)}function a(e){return function(...t){var r=t.pop();return e.call(this,t,r)}}var i="function"==typeof queueMicrotask&&queueMicrotask,o="function"==typeof e&&e,s="object"==typeof r&&"function"==typeof r.nextTick;function l(e){setTimeout(e,0)}function c(e){return(t,...r)=>e(()=>t(...r))}var u=c(i?queueMicrotask:o?e:s?r.nextTick:l);function h(e){return p(e)?function(...t){const r=t.pop();return d(e.apply(this,t),r)}:a((function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}if(n&&"function"==typeof n.then)return d(n,r);r(null,n)}))}function d(e,t){return e.then(e=>{f(t,null,e)},e=>{f(t,e&&e.message?e:new Error(e))})}function f(e,t,r){try{e(t,r)}catch(e){u(e=>{throw e},e)}}function p(e){return"AsyncFunction"===e[Symbol.toStringTag]}function v(e){if("function"!=typeof e)throw new Error("expected a function");return p(e)?h(e):e}function g(e,t=e.length){if(!t)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[t-1]?e.apply(this,r):new Promise((n,a)=>{r[t-1]=(e,...t)=>{if(e)return a(e);n(t.length>1?t:t[0])},e.apply(this,r)})}}function y(e){return function(t,...r){return g((function(n){var a=this;return e(t,(e,t)=>{v(e).apply(a,r.concat(t))},n)}))}}function m(e,t,r,n){t=t||[];var a=[],i=0,o=v(r);return e(t,(e,t,r)=>{var n=i++;o(e,(e,t)=>{a[n]=t,r(e)})},e=>{n(e,a)})}function _(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}const b={};function k(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}function x(e){if(_(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,n,a,i=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return i?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(i):(r=(t=e)?Object.keys(t):[],n=-1,a=r.length,function e(){var i=r[++n];return"__proto__"===i?e():n<a?{value:t[i],key:i}:null})}function A(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}function w(e,t,r,n){let a=!1,i=!1,o=!1,s=0,l=0;function c(){s>=t||o||a||(o=!0,e.next().then(({value:e,done:t})=>{if(!i&&!a){if(o=!1,t)return a=!0,void(s<=0&&n(null));s++,r(e,l,u),l++,c()}}).catch(h))}function u(e,t){if(s-=1,!i)return e?h(e):!1===e?(a=!0,void(i=!0)):t===b||a&&s<=0?(a=!0,n(null)):void c()}function h(e){i||(o=!1,a=!0,n(e))}c()}var S=e=>(t,r,n)=>{if(n=k(n),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return n(null);if(function(e){return"AsyncGenerator"===e[Symbol.toStringTag]}(t))return w(t,e,r,n);if(function(e){return"function"==typeof e[Symbol.asyncIterator]}(t))return w(t[Symbol.asyncIterator](),e,r,n);var a=x(t),i=!1,o=!1,s=0,l=!1;function c(e,t){if(!o)if(s-=1,e)i=!0,n(e);else if(!1===e)i=!0,o=!0;else{if(t===b||i&&s<=0)return i=!0,n(null);l||u()}}function u(){for(l=!0;s<e&&!i;){var t=a();if(null===t)return i=!0,void(s<=0&&n(null));s+=1,r(t.value,t.key,A(c))}l=!1}u()},C=g((function(e,t,r,n){return S(t)(e,v(r),n)}),4);function P(e,t,r){r=k(r);var n=0,a=0,{length:i}=e,o=!1;function s(e,t){!1===e&&(o=!0),!0!==o&&(e?r(e):++a!==i&&t!==b||r(null))}for(0===i&&r(null);n<i;n++)t(e[n],n,A(s))}function R(e,t,r){return C(e,1/0,t,r)}var T=g((function(e,t,r){return(_(e)?P:R)(e,v(t),r)}),3),E=g((function(e,t,r){return m(T,e,t,r)}),3),O=y(E),F=g((function(e,t,r){return C(e,1,t,r)}),3),I=g((function(e,t,r){return m(F,e,t,r)}),3),M=y(I);const L=Symbol("promiseCallback");function D(){let e,t;function r(r,...n){if(r)return t(r);e(n.length>1?n:n[0])}return r[L]=new Promise((r,n)=>{e=r,t=n}),r}function j(e,t,r){"number"!=typeof t&&(r=t,t=null),r=k(r||D());var n=Object.keys(e).length;if(!n)return r(null);t||(t=n);var a={},i=0,o=!1,s=!1,l=Object.create(null),c=[],u=[],h={};function d(e,t){c.push(()=>(function(e,t){if(!s){var n=A((t,...n)=>{if(i--,!1!==t)if(n.length<2&&([n]=n),t){var c={};if(Object.keys(a).forEach(e=>{c[e]=a[e]}),c[e]=n,s=!0,l=Object.create(null),o)return;r(t,c)}else a[e]=n,function(e){(l[e]||[]).forEach(e=>e()),f()}(e);else o=!0});i++;var c=v(t[t.length-1]);t.length>1?c(a,n):c(n)}})(e,t))}function f(){if(!o){if(0===c.length&&0===i)return r(null,a);for(;c.length&&i<t;)c.shift()()}}function p(t){var r=[];return Object.keys(e).forEach(n=>{const a=e[n];Array.isArray(a)&&a.indexOf(t)>=0&&r.push(n)}),r}return Object.keys(e).forEach(t=>{var r=e[t];if(!Array.isArray(r))return d(t,[r]),void u.push(t);var n=r.slice(0,r.length-1),a=n.length;if(0===a)return d(t,r),void u.push(t);h[t]=a,n.forEach(i=>{if(!e[i])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+i+"` in "+n.join(", "));!function(e,t){var r=l[e];r||(r=l[e]=[]),r.push(t)}(i,()=>{0==--a&&d(t,r)})})}),function(){for(var e,t=0;u.length;)e=u.pop(),t++,p(e).forEach(e=>{0==--h[e]&&u.push(e)});if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),f(),r[L]}var N=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,B=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,U=/,/,q=/(=.+)?(\s*)$/,W=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function H(e,t){var r={};return Object.keys(e).forEach(t=>{var n,a=e[t],i=p(a),o=!i&&1===a.length||i&&0===a.length;if(Array.isArray(a))n=[...a],a=n.pop(),r[t]=n.concat(n.length>0?s:a);else if(o)r[t]=a;else{if(n=function(e){const t=e.toString().replace(W,"");let r=t.match(N);if(r||(r=t.match(B)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,n]=r;return n.replace(/\s/g,"").split(U).map(e=>e.replace(q,"").trim())}(a),0===a.length&&!i&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");i||n.pop(),r[t]=n.concat(s)}function s(e,t){var r=n.map(t=>e[t]);r.push(t),v(a)(...r)}}),j(r,t)}class G{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):z(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):z(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:r}=t;e(t)&&this.removeLink(t),t=r}return this}}function z(e,t){e.length=1,e.head=e.tail=t}function V(e,t,r){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var n=v(e),a=0,i=[];const o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function s(e,t){return e?t?void(o[e]=o[e].filter(e=>e!==t)):o[e]=[]:Object.keys(o).forEach(e=>o[e]=[])}function l(e,...t){o[e].forEach(e=>e(...t))}var c=!1;function h(e,t,r,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");var a,i;function o(e,...t){return e?r?i(e):a():t.length<=1?a(t[0]):void a(t)}y.started=!0;var s={data:e,callback:r?o:n||o};if(t?y._tasks.unshift(s):y._tasks.push(s),c||(c=!0,u(()=>{c=!1,y.process()})),r||!n)return new Promise((e,t)=>{a=e,i=t})}function d(e){return function(t,...r){a-=1;for(var n=0,o=e.length;n<o;n++){var s=e[n],c=i.indexOf(s);0===c?i.shift():c>0&&i.splice(c,1),s.callback(t,...r),null!=t&&l("error",t,s.data)}a<=y.concurrency-y.buffer&&l("unsaturated"),y.idle()&&l("drain"),y.process()}}function f(e){return!(0!==e.length||!y.idle()||(u(()=>l("drain")),0))}const p=e=>t=>{if(!t)return new Promise((t,r)=>{!function(e,t){const r=(...n)=>{s(e,r),t(...n)};o[e].push(r)}(e,(e,n)=>{if(e)return r(e);t(n)})});s(e),function(e,t){o[e].push(t)}(e,t)};var g=!1,y={_tasks:new G,*[Symbol.iterator](){yield*y._tasks[Symbol.iterator]()},concurrency:t,payload:r,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(f(e))return;return e.map(e=>h(e,!1,!1,t))}return h(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(f(e))return;return e.map(e=>h(e,!1,!0,t))}return h(e,!1,!0,t)},kill(){s(),y._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(f(e))return;return e.map(e=>h(e,!0,!1,t))}return h(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(f(e))return;return e.map(e=>h(e,!0,!0,t))}return h(e,!0,!0,t)},remove(e){y._tasks.remove(e)},process(){if(!g){for(g=!0;!y.paused&&a<y.concurrency&&y._tasks.length;){var e=[],t=[],r=y._tasks.length;y.payload&&(r=Math.min(r,y.payload));for(var o=0;o<r;o++){var s=y._tasks.shift();e.push(s),i.push(s),t.push(s.data)}a+=1,0===y._tasks.length&&l("empty"),a===y.concurrency&&l("saturated");var c=A(d(e));n(t,c)}g=!1}},length:()=>y._tasks.length,running:()=>a,workersList:()=>i,idle:()=>y._tasks.length+a===0,pause(){y.paused=!0},resume(){!1!==y.paused&&(y.paused=!1,u(y.process))}};return Object.defineProperties(y,{saturated:{writable:!1,value:p("saturated")},unsaturated:{writable:!1,value:p("unsaturated")},empty:{writable:!1,value:p("empty")},drain:{writable:!1,value:p("drain")},error:{writable:!1,value:p("error")}}),y}function Y(e,t){return V(e,1,t)}function X(e,t,r){return V(e,t,r)}var K=g((function(e,t,r,n){n=k(n);var a=v(r);return F(e,(e,r,n)=>{a(t,e,(e,r)=>{t=r,n(e)})},e=>n(e,t))}),4);function J(...e){var t=e.map(v);return function(...e){var r=this,n=e[e.length-1];return"function"==typeof n?e.pop():n=D(),K(t,e,(e,t,n)=>{t.apply(r,e.concat((e,...t)=>{n(e,t)}))},(e,t)=>n(e,...t)),n[L]}}function Q(...e){return J(...e.reverse())}var $=g((function(e,t,r,n){return m(S(t),e,r,n)}),4),Z=g((function(e,t,r,n){var a=v(r);return $(e,t,(e,t)=>{a(e,(e,...r)=>e?t(e):t(e,r))},(e,t)=>{for(var r=[],a=0;a<t.length;a++)t[a]&&(r=r.concat(...t[a]));return n(e,r)})}),4),ee=g((function(e,t,r){return Z(e,1/0,t,r)}),3),te=g((function(e,t,r){return Z(e,1,t,r)}),3);function re(...e){return function(...t){return t.pop()(null,...e)}}function ne(e,t){return(r,n,a,i)=>{var o,s=!1;const l=v(a);r(n,(r,n,a)=>{l(r,(n,i)=>n||!1===n?a(n):e(i)&&!o?(s=!0,o=t(!0,r),a(null,b)):void a())},e=>{if(e)return i(e);i(null,s?o:t(!1))})}}var ae=g((function(e,t,r){return ne(e=>e,(e,t)=>t)(T,e,t,r)}),3),ie=g((function(e,t,r,n){return ne(e=>e,(e,t)=>t)(S(t),e,r,n)}),4),oe=g((function(e,t,r){return ne(e=>e,(e,t)=>t)(S(1),e,t,r)}),3);function se(e){return(t,...r)=>v(t)(...r,(t,...r)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&r.forEach(t=>console[e](t)))})}var le=se("dir"),ce=g((function(e,t,r){r=A(r);var n,a=v(e),i=v(t);function o(e,...t){if(e)return r(e);!1!==e&&(n=t,i(...t,s))}function s(e,t){return e?r(e):!1!==e?t?void a(o):r(null,...n):void 0}return s(null,!0)}),3);function ue(e,t,r){const n=v(t);return ce(e,(...e)=>{const t=e.pop();n(...e,(e,r)=>t(e,!r))},r)}function he(e){return(t,r,n)=>e(t,n)}var de=g((function(e,t,r){return T(e,he(v(t)),r)}),3),fe=g((function(e,t,r,n){return S(t)(e,he(v(r)),n)}),4),pe=g((function(e,t,r){return fe(e,1,t,r)}),3);function ve(e){return p(e)?e:function(...t){var r=t.pop(),n=!0;t.push((...e)=>{n?u(()=>r(...e)):r(...e)}),e.apply(this,t),n=!1}}var ge=g((function(e,t,r){return ne(e=>!e,e=>!e)(T,e,t,r)}),3),ye=g((function(e,t,r,n){return ne(e=>!e,e=>!e)(S(t),e,r,n)}),4),me=g((function(e,t,r){return ne(e=>!e,e=>!e)(F,e,t,r)}),3);function _e(e,t,r,n){var a=new Array(t.length);e(t,(e,t,n)=>{r(e,(e,r)=>{a[t]=!!r,n(e)})},e=>{if(e)return n(e);for(var r=[],i=0;i<t.length;i++)a[i]&&r.push(t[i]);n(null,r)})}function be(e,t,r,n){var a=[];e(t,(e,t,n)=>{r(e,(r,i)=>{if(r)return n(r);i&&a.push({index:t,value:e}),n(r)})},e=>{if(e)return n(e);n(null,a.sort((e,t)=>e.index-t.index).map(e=>e.value))})}function ke(e,t,r,n){return(_(t)?_e:be)(e,t,v(r),n)}var xe=g((function(e,t,r){return ke(T,e,t,r)}),3),Ae=g((function(e,t,r,n){return ke(S(t),e,r,n)}),4),we=g((function(e,t,r){return ke(F,e,t,r)}),3),Se=g((function(e,t){var r=A(t),n=v(ve(e));return function e(t){if(t)return r(t);!1!==t&&n(e)}()}),2),Ce=g((function(e,t,r,n){var a=v(r);return $(e,t,(e,t)=>{a(e,(r,n)=>r?t(r):t(r,{key:n,val:e}))},(e,t)=>{for(var r={},{hasOwnProperty:a}=Object.prototype,i=0;i<t.length;i++)if(t[i]){var{key:o}=t[i],{val:s}=t[i];a.call(r,o)?r[o].push(s):r[o]=[s]}return n(e,r)})}),4);function Pe(e,t,r){return Ce(e,1/0,t,r)}function Re(e,t,r){return Ce(e,1,t,r)}var Te=se("log"),Ee=g((function(e,t,r,n){n=k(n);var a={},i=v(r);return S(t)(e,(e,t,r)=>{i(e,t,(e,n)=>{if(e)return r(e);a[t]=n,r(e)})},e=>n(e,a))}),4);function Oe(e,t,r){return Ee(e,1/0,t,r)}function Fe(e,t,r){return Ee(e,1,t,r)}function Ie(e,t=(e=>e)){var r=Object.create(null),n=Object.create(null),i=v(e),o=a((e,a)=>{var o=t(...e);o in r?u(()=>a(null,...r[o])):o in n?n[o].push(a):(n[o]=[a],i(...e,(e,...t)=>{e||(r[o]=t);var a=n[o];delete n[o];for(var i=0,s=a.length;i<s;i++)a[i](e,...t)}))});return o.memo=r,o.unmemoized=e,o}var Me=c(s?r.nextTick:o?e:l),Le=g((e,t,r)=>{var n=_(t)?[]:{};e(t,(e,t,r)=>{v(e)((e,...a)=>{a.length<2&&([a]=a),n[t]=a,r(e)})},e=>r(e,n))},3);function De(e,t){return Le(T,e,t)}function je(e,t,r){return Le(S(t),e,r)}function Ne(e,t){var r=v(e);return V((e,t)=>{r(e[0],t)},t,1)}class Be{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&qe(this.heap[e],this.heap[t=Ue(e)]);){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}percDown(e){let t;for(;(t=1+(e<<1))<this.heap.length&&(t+1<this.heap.length&&qe(this.heap[t+1],this.heap[t])&&(t+=1),!qe(this.heap[e],this.heap[t]));){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let r=0;r<this.heap.length;r++)e(this.heap[r])||(this.heap[t]=this.heap[r],t++);this.heap.splice(t);for(let e=Ue(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}function Ue(e){return(e+1>>1)-1}function qe(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function We(e,t){var r=Ne(e,t),n=!1;return r._tasks=new Be,r.push=function(e,t=0,a=(()=>{})){if("function"!=typeof a)throw new Error("task callback must be a function");if(r.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&r.idle())return u(()=>r.drain());for(var i=0,o=e.length;i<o;i++){var s={data:e[i],priority:t,callback:a};r._tasks.push(s)}n||(n=!0,u(()=>{n=!1,r.process()}))},delete r.unshift,r}var He=g((function(e,t){if(t=k(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)v(e[r])(t)}),2);function Ge(e,t,r,n){var a=[...e].reverse();return K(a,t,r,n)}function ze(e){var t=v(e);return a((function(e,r){return e.push((e,...t)=>{let n={};if(e&&(n.error=e),t.length>0){var a=t;t.length<=1&&([a]=t),n.value=a}r(null,n)}),t.apply(this,e)}))}function Ve(e){var t;return Array.isArray(e)?t=e.map(ze):(t={},Object.keys(e).forEach(r=>{t[r]=ze.call(this,e[r])})),t}function Ye(e,t,r,n){const a=v(r);return ke(e,t,(e,t)=>{a(e,(e,r)=>{t(e,!r)})},n)}var Xe=g((function(e,t,r){return Ye(T,e,t,r)}),3),Ke=g((function(e,t,r,n){return Ye(S(t),e,r,n)}),4),Je=g((function(e,t,r){return Ye(F,e,t,r)}),3);function Qe(e){return function(){return e}}const $e=5,Ze=0;function et(e,t,r){var n={times:$e,intervalFunc:Qe(Ze)};if(arguments.length<3&&"function"==typeof e?(r=t||D(),t=e):(function(e,t){if("object"==typeof t)e.times=+t.times||$e,e.intervalFunc="function"==typeof t.interval?t.interval:Qe(+t.interval||Ze),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||$e}}(n,e),r=r||D()),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var a=v(t),i=1;return function e(){a((t,...a)=>{!1!==t&&(t&&i++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(t))?setTimeout(e,n.intervalFunc(i-1)):r(t,...a))})}(),r[L]}function tt(e,t){t||(t=e,e=null);let r=e&&e.arity||t.length;p(t)&&(r+=1);var n=v(t);return a((t,a)=>{function i(e){n(...t,e)}return(t.length<r-1||null==a)&&(t.push(a),a=D()),e?et(e,i,a):et(i,a),a[L]})}function rt(e,t){return Le(F,e,t)}var nt=g((function(e,t,r){return ne(Boolean,e=>e)(T,e,t,r)}),3),at=g((function(e,t,r,n){return ne(Boolean,e=>e)(S(t),e,r,n)}),4),it=g((function(e,t,r){return ne(Boolean,e=>e)(F,e,t,r)}),3),ot=g((function(e,t,r){var n=v(t);return E(e,(e,t)=>{n(e,(r,n)=>{if(r)return t(r);t(r,{value:e,criteria:n})})},(e,t)=>{if(e)return r(e);r(null,t.sort(a).map(e=>e.value))});function a(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}}),3);function st(e,t,r){var n=v(e);return a((a,i)=>{var o,s=!1;a.push((...e)=>{s||(i(...e),clearTimeout(o))}),o=setTimeout((function(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),s=!0,i(n)}),t),n(...a)})}function lt(e,t,r,n){var a=v(r);return $(function(e){for(var t=Array(e);e--;)t[e]=e;return t}(e),t,a,n)}function ct(e,t,r){return lt(e,1/0,t,r)}function ut(e,t,r){return lt(e,1,t,r)}function ht(e,t,r,n){arguments.length<=3&&"function"==typeof t&&(n=r,r=t,t=Array.isArray(e)?[]:{}),n=k(n||D());var a=v(r);return T(e,(e,r,n)=>{a(t,e,r,n)},e=>n(e,t)),n[L]}var dt=g((function(e,t){var r,n=null;return pe(e,(e,t)=>{v(e)((e,...a)=>{if(!1===e)return t(e);a.length<2?[r]=a:r=a,n=e,t(e?null:{})})},()=>t(n,r))}));function ft(e){return(...t)=>(e.unmemoized||e)(...t)}var pt=g((function(e,t,r){r=A(r);var n=v(t),a=v(e),i=[];function o(e,...t){if(e)return r(e);i=t,!1!==e&&a(s)}function s(e,t){return e?r(e):!1!==e?t?void n(o):r(null,...i):void 0}return a(s)}),3);function vt(e,t,r){const n=v(e);return pt(e=>n((t,r)=>e(t,!r)),t,r)}var gt=g((function(e,t){if(t=k(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function n(t){v(e[r++])(...t,A(a))}function a(a,...i){if(!1!==a)return a||r===e.length?t(a,...i):void n(i)}n([])})),yt={apply:n,applyEach:O,applyEachSeries:M,asyncify:h,auto:j,autoInject:H,cargo:Y,cargoQueue:X,compose:Q,concat:ee,concatLimit:Z,concatSeries:te,constant:re,detect:ae,detectLimit:ie,detectSeries:oe,dir:le,doUntil:ue,doWhilst:ce,each:de,eachLimit:fe,eachOf:T,eachOfLimit:C,eachOfSeries:F,eachSeries:pe,ensureAsync:ve,every:ge,everyLimit:ye,everySeries:me,filter:xe,filterLimit:Ae,filterSeries:we,forever:Se,groupBy:Pe,groupByLimit:Ce,groupBySeries:Re,log:Te,map:E,mapLimit:$,mapSeries:I,mapValues:Oe,mapValuesLimit:Ee,mapValuesSeries:Fe,memoize:Ie,nextTick:Me,parallel:De,parallelLimit:je,priorityQueue:We,queue:Ne,race:He,reduce:K,reduceRight:Ge,reflect:ze,reflectAll:Ve,reject:Xe,rejectLimit:Ke,rejectSeries:Je,retry:et,retryable:tt,seq:J,series:rt,setImmediate:u,some:nt,someLimit:at,someSeries:it,sortBy:ot,timeout:st,times:ct,timesLimit:lt,timesSeries:ut,transform:ht,tryEach:dt,unmemoize:ft,until:vt,waterfall:gt,whilst:pt,all:ge,allLimit:ye,allSeries:me,any:nt,anyLimit:at,anySeries:it,find:ae,findLimit:ie,findSeries:oe,flatMap:ee,flatMapLimit:Z,flatMapSeries:te,forEach:de,forEachSeries:pe,forEachLimit:fe,forEachOf:T,forEachOfSeries:F,forEachOfLimit:C,inject:K,foldl:K,foldr:Ge,select:xe,selectLimit:Ae,selectSeries:we,wrapSync:h,during:pt,doDuring:ce};t.default=yt,t.apply=n,t.applyEach=O,t.applyEachSeries=M,t.asyncify=h,t.auto=j,t.autoInject=H,t.cargo=Y,t.cargoQueue=X,t.compose=Q,t.concat=ee,t.concatLimit=Z,t.concatSeries=te,t.constant=re,t.detect=ae,t.detectLimit=ie,t.detectSeries=oe,t.dir=le,t.doUntil=ue,t.doWhilst=ce,t.each=de,t.eachLimit=fe,t.eachOf=T,t.eachOfLimit=C,t.eachOfSeries=F,t.eachSeries=pe,t.ensureAsync=ve,t.every=ge,t.everyLimit=ye,t.everySeries=me,t.filter=xe,t.filterLimit=Ae,t.filterSeries=we,t.forever=Se,t.groupBy=Pe,t.groupByLimit=Ce,t.groupBySeries=Re,t.log=Te,t.map=E,t.mapLimit=$,t.mapSeries=I,t.mapValues=Oe,t.mapValuesLimit=Ee,t.mapValuesSeries=Fe,t.memoize=Ie,t.nextTick=Me,t.parallel=De,t.parallelLimit=je,t.priorityQueue=We,t.queue=Ne,t.race=He,t.reduce=K,t.reduceRight=Ge,t.reflect=ze,t.reflectAll=Ve,t.reject=Xe,t.rejectLimit=Ke,t.rejectSeries=Je,t.retry=et,t.retryable=tt,t.seq=J,t.series=rt,t.setImmediate=u,t.some=nt,t.someLimit=at,t.someSeries=it,t.sortBy=ot,t.timeout=st,t.times=ct,t.timesLimit=lt,t.timesSeries=ut,t.transform=ht,t.tryEach=dt,t.unmemoize=ft,t.until=vt,t.waterfall=gt,t.whilst=pt,t.all=ge,t.allLimit=ye,t.allSeries=me,t.any=nt,t.anyLimit=at,t.anySeries=it,t.find=ae,t.findLimit=ie,t.findSeries=oe,t.flatMap=ee,t.flatMapLimit=Z,t.flatMapSeries=te,t.forEach=de,t.forEachSeries=pe,t.forEachLimit=fe,t.forEachOf=T,t.forEachOfSeries=F,t.forEachOfLimit=C,t.inject=K,t.foldl=K,t.foldr=Ge,t.select=xe,t.selectLimit=Ae,t.selectSeries=we,t.wrapSync=h,t.during=pt,t.doDuring=ce,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,r(181).setImmediate,r(168))},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(182),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(132))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,a,i,o,s,l=1,c={},u=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){i.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(a=h.documentElement,n=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(o+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return c[l]=a,n(l),l++},d.clearImmediate=f}function f(e){delete c[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(132),r(168))}])}));