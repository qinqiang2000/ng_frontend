!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.swjgFpdk=e():t.swjgFpdk=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),r.d(e,"fpdkOperate",(function(){return f})),r.d(e,"MultiPortDiskOperate",(function(){return p})),r.d(e,"diskApi",(function(){return h})),r.d(e,"checkApiVersion",(function(){return v})),r.d(e,"diskOperate",(function(){return y})),r.d(e,"govFpdkOperate",(function(){return m}));var n=r(1),o=r(21),i=r(22),a=r(23);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l,d,f=r(24).default,p=a.default,h=o,v=i,y=n,m=(d={},{name:"SingleGovFpdkOperate",getInstance:function(t){return void 0===l&&(l=new f(t)),l},getNewInstance:function(t){return l=null,l=new f(t)},getInstanceByTaxNo:function(t){var e=t.taxNo||"fixedTaxNo";return d[e]||(d[e]=new f(u(u({},t),{},{taxNo:e}))),d[e]}})},function(t,e,r){"use strict";r.r(e),r.d(e,"setOperateUrl",(function(){return s})),r.d(e,"openDevice",(function(){return l})),r.d(e,"closeDevice",(function(){return f})),r.d(e,"getClientHello",(function(){return h})),r.d(e,"getClientAuthCode",(function(){return y})),r.d(e,"getTaxInfoFromDisk",(function(){return g})),r.d(e,"signDataApi",(function(){return w}));var n=r(2);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function h(){}function v(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==e&&r.call(g,a)&&(y=g);var x=v.prototype=p.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,a){function c(){return new e((function(n,c){!function n(i,a,c,u){var s=d(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,u)}))}u(s.arg)}(i,a,n,c)}))}return n=n?n.then(c,c):c()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=d(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=v,s(x,"constructor",v),s(v,"constructor",h),h.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(b.prototype),s(b.prototype,c,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function a(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){a(i,n,o,c,u,"next",t)}function u(t){a(i,n,o,c,u,"throw",t)}c(void 0)}))}}var u="http://127.0.0.1:52320/cryptctl";function s(t){u=t}function l(t,e){return d.apply(this,arguments)}function d(){return(d=c(i().mark((function t(e,r){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.crossHttp)({method:"POST",data:{funcname:"opendevice",args:{userpin:e}},url:r||u});case 2:if("0000"!==(o=t.sent).errcode){t.next=7;break}return t.abrupt("return",{errcode:"0000"});case 7:return t.abrupt("return",{errcode:"7000",description:o.errmsg||o.description});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return p.apply(this,arguments)}function p(){return(p=c(i().mark((function t(e){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.crossHttp)({method:"POST",data:{funcname:"closedevice",args:{}},url:e||u});case 2:if("0000"!==(r=t.sent).errcode){t.next=7;break}return t.abrupt("return",!0);case 7:return t.abrupt("return",r.errmsg);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t,e){return v.apply(this,arguments)}function v(){return(v=c(i().mark((function t(e,r){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.crossHttp)({method:"POST",data:{funcname:"clienthello",args:{userpin:e,dwflags:0}},url:r||u});case 2:if("0000"!==(o=t.sent).errcode){t.next=11;break}if(""===o.result){t.next=8;break}return t.abrupt("return",{errcode:"0000",data:o.result});case 8:return t.abrupt("return",{errcode:"7000",description:"税盘操作异常"});case 9:t.next=12;break;case 11:return t.abrupt("return",{errcode:o.errcode,description:o.errmsg||o.description});case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e,r){return m.apply(this,arguments)}function m(){return(m=c(i().mark((function t(e,r,o){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.crossHttp)({method:"POST",data:{funcname:"clientauth",args:{userpin:e,strServerHello:r}},url:o||u});case 2:if("0000"!==(a=t.sent).errcode){t.next=11;break}if(""===a.result){t.next=8;break}return t.abrupt("return",{errcode:"0000",data:a.result});case 8:return t.abrupt("return",{errcode:"7001",description:a.errmsg||a.description});case 9:t.next=12;break;case 11:return t.abrupt("return",{errcode:"7001",description:a.errmsg||a.description});case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t,e,r){return x.apply(this,arguments)}function x(){return(x=c(i().mark((function t(e,r,o){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.crossHttp)({method:"POST",data:{funcname:"getcertinfo",args:{userpin:e,cert:"",certinfono:r}},url:o||u});case 2:if("0000"!==(a=t.sent).errcode||""===a.result){t.next=7;break}return t.abrupt("return",{errcode:"0000",data:a.result});case 7:return t.abrupt("return",{errcode:"7002",description:a.errmsg||a.description});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,e){return b.apply(this,arguments)}function b(){return(b=c(i().mark((function t(e,r){var o,a,c,s=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.length>2&&void 0!==s[2]?s[2]:"",s.length>3?s[3]:void 0,o=s.length>4?s[4]:void 0,a={data:e,alg:"SHA1withRSA",flag:4194304},t.next=6,Object(n.crossHttp)({method:"POST",data:{funcname:"sign",args:a},url:o||u});case 6:if("0000"!==(c=t.sent).errcode||""===c.result){t.next=11;break}return t.abrupt("return",{errcode:"0000",data:c.result});case 11:return t.abrupt("return",{errcode:"27002",description:c.errmsg||"获取签名异常"});case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},function(t,e,r){"use strict";r.r(e),r.d(e,"baseExt",(function(){return i})),r.d(e,"cookieHelp",(function(){return a})),r.d(e,"cacheHelp",(function(){return c})),r.d(e,"loadJs",(function(){return u})),r.d(e,"urlHandler",(function(){return s})),r.d(e,"tools",(function(){return l})),r.d(e,"checkInvoiceType",(function(){return d})),r.d(e,"checkInvoiceTypeFull",(function(){return f})),r.d(e,"blockchain_filter",(function(){return p})),r.d(e,"crossHttp",(function(){return h})),r.d(e,"clientCheck",(function(){return v})),r.d(e,"kdRequest",(function(){return y})),r.d(e,"pwyFetch",(function(){return m})),r.d(e,"pwyRequest",(function(){return g})),r.d(e,"paramJson",(function(){return x}));var n=r(3),o=r(5),i=r(13),a=r(4),c=r(15),u=r(16),s=r(17),l=r(6),d=r(18).checkInvoiceType,f=r(18).checkInvoiceTypeFull,p=r(18).blockchain_filter,h=r(19).default,v=r(20).default,y=n.kdRequest,m=o.pwyFetch,g=o.kdRequest,x=n.param},function(t,e,r){"use strict";r.r(e),r.d(e,"prePath",(function(){return u})),r.d(e,"param",(function(){return s})),r.d(e,"kdRequest",(function(){return f}));var n=r(4);function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function h(){}function v(){}var y={};s(y,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==e&&r.call(g,i)&&(y=g);var x=v.prototype=p.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,i){function a(){return new e((function(n,a){!function n(o,i,a,u){var s=d(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=d(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=v,s(x,"constructor",v),s(v,"constructor",h),h.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(x),s(x,u,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function i(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function c(t){i(a,n,o,c,u,"next",t)}function u(t){i(a,n,o,c,u,"throw",t)}c(void 0)}))}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u="/",s=function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){return t}var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r+"="+encodeURIComponent(t[r]));return e.join("&")},l=function(t){var e=t.method,r=void 0===e?"GET":e,n=t.url,o=void 0===n?"":n,i=t.data,a=void 0===i?"":i,u=t.mode,l=void 0===u?"cors":u,d=(t.timeout,t.redirect),f=void 0===d?"follow":d,p=t.dataType,h=void 0===p?"json":p,v=t.credentials,y=void 0===v?"include":v,m=t.headers,g=void 0===m?{"Content-Type":"application/json"}:m,x={method:r,mode:l,credentials:y,redirect:f};return"GET"===r?a=s(a):"object"===c(a)&&"json"===h&&(a=JSON.stringify(a)),"GET"===r?-1===o.indexOf("?")?o+="?"+a:o+="&"+a:"POST"===r&&(x.body=a),"json"===h&&(x.headers=g),fetch(o,x)};function d(t){var e=t.method,r=void 0===e?"GET":e,n=t.url,o=void 0===n?"":n,i=t.data,a=void 0===i?"":i,c=t.timeout,u=void 0===c?6e4:c,s=(t.credentials,t.contentType),l=t.headers;t.success;return s=l["Content-Type"]||"application/json;charset=UTF-8",new Promise((function(t,e){var n;XMLHttpRequest&&(n=new XMLHttpRequest),n||"undefined"==typeof XDomainRequest||(n=new XDomainRequest);try{n.timeout=u}catch(t){console.warn("设置超时时间异常")}if(n.ontimeout=function(){t({errcode:"timeoutErr",description:"请求超时！"})},s)try{n.contentType=s}catch(t){console.warn("设置contentType异常")}n.onload=function(){if(4===n.readyState){var e=n.status;if(200===e){var r=n.responseText;try{r=JSON.parse(r),t(r)}catch(e){t({errcode:"innerErr",description:"返回数据出错！"})}}else t({errcode:"requestErr",description:"请求出错".concat(e)})}},n.onerror=function(e){t({errcode:"requestErr",description:"请求异常"})},n.open(r,o,!0);try{n.setRequestHeader("Content-Type",s),l["x-csrf-token"]&&n.setRequestHeader("x-csrf-token",l["x-csrf-token"])}catch(t){}n.send(a)}))}function f(t){return p.apply(this,arguments)}function p(){return(p=a(o().mark((function t(e){var r,i,a,u,f,p,h,v,y,m,g,x,w,b,k,O,S,L,T,I,E;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.urlPre,i=void 0===r?"":r,a=e.method,u=void 0===a?"GET":a,f=e.url,p=void 0===f?"":f,h=e.data,v=void 0===h?"":h,y=e.mode,void 0===y?"cors":y,m=e.timeout,g=void 0===m?6e4:m,x=e.redirect,void 0===x?"follow":x,w=e.dataType,b=void 0===w?"json":w,k=e.credentials,O=void 0===k?"include":k,e.handlerError,S=e.headers,L=void 0===S?{"Content-Type":"application/json"}:S,/^http/.test(p)||(p=i+p),(T=Object(n.getCookie)("csrfToken"))||(T=window.__INITIAL_STATE__&&window.__INITIAL_STATE__.csrfToken),p=-1===p.indexOf("?")?p+"?_csrf="+T:p+"&_csrf="+T,T)try{L["x-csrf-token"]=T,Object(n.setCookie)("csrfToken",T,1800)}catch(t){Object(n.setCookie)("csrfToken",T,1800)}if(!window.fetch){t.next=19;break}return t.next=9,l({url:p,data:v,dataType:b,headers:L,method:u});case 9:if(200===(I=t.sent).status){t.next=14;break}return t.abrupt("return",{errcode:"5000",description:"请求出错(".concat(I.status,")")});case 14:return t.next=16,I.text().then((function(t){if("json"!==b)return t;try{return t=JSON.parse(t)}catch(e){return{errcode:"jsonErr",description:"返回数据格式异常",data:t}}})).catch((function(t){return{errcode:"serverErr",description:t}}));case 16:return t.abrupt("return",t.sent);case 17:t.next=24;break;case 19:return"GET"===u?v=s(v):"object"===c(v)&&"json"===b&&(v=JSON.stringify(v)),t.next=22,d({method:u,url:p,data:v,timeout:g,credentials:O,headers:L});case 22:return E=t.sent,t.abrupt("return",E);case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},function(t,e,r){"use strict";r.r(e),r.d(e,"getCookie",(function(){return n})),r.d(e,"clearCookie",(function(){return o})),r.d(e,"setCookie",(function(){return i})),r.d(e,"clearAllCookie",(function(){return a}));var n=function(t){for(var e=t+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return unescape(o.substring(e.length,o.length))}return""},o=function(t){i(t,"",-1)},i=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="";if(0!==(r=r||0)){var i=new Date;i.setTime(i.getTime()+1e3*r),o="; expires="+i.toGMTString(),n&&(o+="; "+n)}document.cookie=t+"="+escape(e)+o+"; path=/"},a=function(){for(var t=document.cookie.split("; "),e=0,r=t.length;e<r;e++){var n=t[e].split("=");n.length>0&&i(n[0],"",-1)}}},function(t,e,r){"use strict";r.r(e),r.d(e,"errcodeInfo",(function(){return p})),r.d(e,"pwyFetch",(function(){return g})),r.d(e,"kdRequest",(function(){return x}));var n=r(4),o=r(3),i=r(6);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function h(){}function v(){}var y={};s(y,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==e&&r.call(g,o)&&(y=g);var x=v.prototype=p.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,i){function c(){return new e((function(n,c){!function n(o,i,c,u){var s=d(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,u)}))}u(s.arg)}(o,i,n,c)}))}return n=n?n.then(c,c):c()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=d(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=v,s(x,"constructor",v),s(v,"constructor",h),h.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(x),s(x,u,"Generator"),s(x,o,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function u(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){u(i,n,o,a,c,"next",t)}function c(t){u(i,n,o,a,c,"throw",t)}a(void 0)}))}}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p={gatewayTimeout:{errcode:"gatewayTimeout",description:"网关超时，请稍后再试!"},serverErr:{errcode:"serverErr",description:"服务端异常, 请稍后再试！"},requestErr:{errcode:"requestErr",description:"请求错误, 请检查网络或参数！"},timeoutErr:{errcode:"timeoutErr",description:"请求超时, 请检查网络是否正常！"}},h=function(t,e){return new Promise((function(r){var n=e||{},o=n.dataType,a=void 0===o?"json":o,c=n.method,u=n.headers,s=void 0===u?{}:u,l=n.mode,f=void 0===l?"cors":l,h=n.credentials,v=void 0===h?"include":h,y=n.redirect,m=void 0===y?"follow":y,g=n.body,x=n.onResponseProgress,w=n.callback,b={method:c,mode:f,credentials:v,redirect:m},k=function(t){"function"==typeof w?w(t):r(t)},O=c.toUpperCase();"json"!==a&&"text"!==a||(b.dataType="text"),b.headers=s,"GET"!==O&&(b.body=g),fetch(t,b).then((function(t){if(504===t.status)k(p.gatewayTimeout);else if(500===t.status)k(p.serverErr);else if(400===t.status||404===t.status)k(p.requestErr);else{var e=function(t){var e;if("json"===a){try{e=JSON.parse(t)}catch(t){Object(i.consoleLog)(t),e=d({},p.serverErr)}k(e)}else k(t)};if("function"==typeof x&&"function"==typeof TextDecoder){var r=t.body.getReader(),n=new TextDecoder,o=0,c="",u=t.headers.get("content-length");return u=parseInt(u),r.read().then((function t(i){return i.done?(x(o,u),void e(c)):(o+=i.value.length,c+=n.decode(i.value),x(o,u),r.read().then(t))}))}t.text().then((function(t){e(t)})).catch((function(t){Object(i.consoleLog)(t),k(p.requestErr)}))}})).catch((function(t){Object(i.consoleLog)(t),k(p.requestErr)}))}))},v=function(){var t=s(c().mark((function t(e,r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.race([h(e,r),new Promise((function(t){setTimeout((function(){var e=d({},p.timeoutErr);"function"==typeof r.callback?r.callback(e):t(e)}),r.timeout||9e4)}))]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),y=function(t,e){return new Promise((function(r){var n=new window.XMLHttpRequest,o=e.method,a=void 0===o?"GET":o,c=e.body,u=void 0===c?null:c,s=e.dataType,l=void 0===s?"json":s,f=e.headers,h=e.callback,v=e.onRequestProgress,y=e.onResponseProgress,m=e.onProgress,g=function(t){"function"==typeof h?h(t):r(t)},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("function"==typeof m)try{m(n.readyState,n.status,t,e)}catch(t){Object(i.consoleLog)(t)}};x(),n.open(a,t,!0),x(),n.ontimeout=function(){g(p.timeoutErr),x()},"function"!=typeof v&&"function"!=typeof m||(n.upload.onprogress=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof v)try{v(t.loaded,t.total)}catch(t){Object(i.consoleLog)(t)}x(t.loaded,t.total)}),"function"!=typeof y&&"function"!=typeof m||(n.onprogress=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof y)try{y(t.loaded,t.total)}catch(t){Object(i.consoleLog)(t)}x(t.loaded,t.total)}),n.onreadystatechange=function(){x();var t=n.readyState,e=n.status;if(4===t&&200===e){var r,o=n.responseText;if("json"===l){try{r=JSON.parse(o)}catch(t){Object(i.consoleLog)(t),r=d({},p.serverErr)}g(r)}else console&&console.warn("xhr onreadystatechange resText",o),g(o);n=null}},n.onerror=function(t){Object(i.consoleLog)("xhr error: ",t),g(p.requestErr),x()},f&&f["Content-Type"]&&n.setRequestHeader("Content-Type",f["Content-Type"]),f&&f["x-csrf-token"]&&n.setRequestHeader("x-csrf-token",f["x-csrf-token"]),"json"===l&&(n.responseType="text"),n.timeout=e.timeout||9e4,"post"===a.toLowerCase()?n.send(u):n.send(null),x()}))},m=function(){var t=s(c().mark((function t(e,r){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Promise((function(t){var n=new window.XDomainRequest,o=r.method,a=void 0===o?"GET":o,c=r.body,u=void 0===c?null:c,s=r.callback,l=r.dataType,f=void 0===l?"json":l,h=function(e){"function"==typeof s?s(e):t(e)};n.open(a,e),n.ontimeout=function(){h(p.timeoutErr)},n.onerror=function(t){Object(i.consoleLog)(t),h(p.requestErr)},n.onload=function(){var t,e=xhr.responseText;if("json"===f){try{t=JSON.parse(e)}catch(e){Object(i.consoleLog)(e),t=d({},p.serverErr)}h(t)}else h(e)},"post"===a.toLowerCase()?n.send(u):n.send(null)})),t.next=3,Promise.race([n,new Promise((function(t){setTimeout((function(){var e=d({},p.timeoutErr);"function"==typeof callback?callback(e):t(e)}),r.timeout||9e4)}))]);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),g=function(){var t=s(c().mark((function t(e,r){var i,u,s,l,f,p,h;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.method||"GET",u=r.data||r.body,s=r.headers||{},l=i.toUpperCase(),"json"===(f=r.contentType||"json")&&(s["Content-Type"]="application/json; charset=UTF-8"),(p=Object(n.getCookie)("csrfToken"))||(p=window.__INITIAL_STATE__&&window.__INITIAL_STATE__.csrfToken),e=-1===e.indexOf("?")?e+"?_csrf="+p:e+"&_csrf="+p,p)try{s["x-csrf-token"]=p,Object(n.setCookie)("csrfToken",p,1800)}catch(t){Object(n.setCookie)("csrfToken",p,1800)}if(r=d(d({},r),{},{headers:s,body:u}),"GET"===l&&(void 0!==r.disabledCache&&!1!==r.disabledCache||(e=-1===e.indexOf("?")?e+"?random="+Math.random():e+"&random="+Math.random()),u&&"object"===a(u)&&(u=Object(o.param)(u,!0))&&(e+="&"+u)),"POST"===l&&u&&"object"===a(u)&&"json"===f&&(r=d(d({},r),{},{body:JSON.stringify(u)})),!window.fetch||r.onRequestProgress||r.disabledFetch||r.onProgress){t.next=17;break}h=v(e,r),t.next=27;break;case 17:if(!window.XMLHttpRequest){t.next=23;break}return t.next=20,y(e,r);case 20:h=t.sent,t.next=27;break;case 23:if(!window.XDomainRequest){t.next=27;break}return t.next=26,m(e,r);case 26:h=t.sent;case 27:return t.abrupt("return",h);case 28:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();function x(t){return w.apply(this,arguments)}function w(){return(w=s(c().mark((function t(e){var r,n,o,i,a,u,s,l,d,f,p,h;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.method,n=void 0===r?"GET":r,o=e.url,i=void 0===o?"":o,a=e.data,u=void 0===a?{}:a,s=e.timeout,l=void 0===s?9e4:s,d=e.dataType,f=void 0===d?"json":d,p=e.headers,h=void 0===p?{"Content-Type":"application/json"}:p,t.next=3,g(i,{body:u,headers:h,timeout:l,dataType:f,method:n.toUpperCase()});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},function(t,e,r){"use strict";r.r(e),r.d(e,"getInvoiceTypeName",(function(){return s})),r.d(e,"checkInvoiceTitle",(function(){return l})),r.d(e,"checkInvoiceTin",(function(){return d})),r.d(e,"getInvoiceQrInfo",(function(){return f})),r.d(e,"getInvoiceQrInfoNew",(function(){return p})),r.d(e,"blobToFile",(function(){return h})),r.d(e,"downloadFile",(function(){return v})),r.d(e,"getUUId",(function(){return y})),r.d(e,"consoleLog",(function(){return m})),r.d(e,"isInVisualArea",(function(){return g})),r.d(e,"getInvoiceErrInfo",(function(){return x})),r.d(e,"readAsBinaryString",(function(){return w}));var n=r(3),o=r(4),i=r(7);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=i.invoiceTypes.INPUT_INVOICE_TYPES_DICT,s=function(t){return{k1:"普通电子发票",k2:"电子发票专票",k3:"普通纸质发票",k4:"专用纸质发票",k5:"普通纸质卷式发票",k7:"通用机打票",k8:"的士票",k9:"火车票",k10:"飞机票",k11:"其他票",k12:"机动车发票",k13:"二手车发票",k14:"定额发票",k15:"通行费电子发票",k16:"客运发票",k17:"过路过桥费"}["k"+t]||"--"},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"simple",o=[1,3,4,5,15],i=/[^A-Za-z0-9\u4e00-\u9fa5]/g;return-1===o.indexOf(parseInt(t))?3:(e=e.replace(i,"").trim(),r=r.replace(i,"").trim(),"strict"===n?e===r?1:2:"simple"===n?e.length<6||e===r?1:2:void 0)},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"simple",i=[1,3,4,5,15],a=/[^A-Za-z0-9\u4e00-\u9fa5]/g;return-1===i.indexOf(parseInt(t))?3:"strict"===o?e===r?1:2:"simple"===o?(n=n.replace(a,"").trim()).length<6||e===r?1:2:void 0},f=function(t){var e=t.replace(/[，]/g,",").split(",");try{var r=e[2],n=e[3],o=e[5],i=e[4],a=e[6].substr(-6);return!!(r&&n&&o)&&{fpdm:r,fphm:n,kprq:o,amount:i,jym:a}}catch(t){return!1}};var p=function(t){if(t.indexOf("https")>-1&&t.indexOf("?")){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof(t=t.replace("?","&"))&&t?t.split("&").reduce((function(t,e){var r=e.split("=");return Object.assign(c({},r[0],r[1]),t)}),{}):t}(t),r=e.bill_num,n=void 0===r?"":r,o=e.total_amount,i=void 0===o?"":o,a=e.hash,u=void 0===a?"":a;return""!=n&&""!=i&&""!=u?{errcode:"0000",qrcodeType:"web",data:{bill_num:n,total_amount:i,hash:u},description:"成功"}:{errcode:"fail",qrcodeType:"web",description:"请扫描发票（电，普，专）"}}var s=t.replace(/[，]/g,",").split(",");try{var l=s[6].indexOf("20"),d=s[2],f=s[3];if(8==s[6].length&&0==l)return{errcode:"0000",qrcodeType:"string",data:{fpdm:d,fphm:f,kprq:s[6],amount:s[5],jym:s[7].substr(-5)},description:"成功"};var p=s[5],h=s[4],v=s[6].substr(-6);if(d&&f&&p){if(""==h&&""==v)return{errcode:"fail",description:"请扫描发票（电，普，专）"};var y=function(t){var e=t.substr(t.length-3),r=t.substr(t.length-2),n=t.substr(0,1),o=t.substr(7,1),i=t.substr(5,1);if("10"==t.length)return"130"===e||"140"===e||"160"===e||"170"===e?4:3;if(12==t.length){if("0"==n&&"12"==r)return 15;if("0"==n&&"11"==r)return 1;if("0"==n&&"06"==r)return 5;if("0"==n&&"07"==r)return 5;if("0"==n&&"17"==r)return 13;if(("1"==i||"2"==i)&&"2"==o)return 12;if("0"==n&&"13"==r)return 2}return 3}(d);return"-1"==[1,2,3,4,15].indexOf(y)?{errcode:"fail",description:"请扫描发票（电，普，专）"}:{errcode:"0000",qrcodeType:"string",data:{fpdm:d,fphm:f,kprq:p,amount:h,jym:v},description:"成功"}}return{errcode:"fail",qrcodeType:"string",description:"请扫描发票（电，普，专）"}}catch(t){return{errcode:"fail",description:"请扫描发票（电，普，专）"}}},h=function(t,e){var r=e.split("."),n=r[r.length-1],o="image/jpeg";return o="png"===n?"image/png":"bmp"===n?"image/bmp":"jpg"===n?"image/jpeg":"pdf"===n?"application/pdf":"application/octet-stream",!(!window.File||"function"!=typeof window.File)&&new window.File([t],e,{type:o})},v=function(t){var e=t.url,r=t.key,i=void 0===r?"downloadParams":r,c=t.data,u=void 0===c?{}:c,s=t.method,l=void 0===s?"POST":s,d=t.startCallback,f=t.endCallback,p=t.downloadType,h=void 0===p?"xhr":p,v=t.timeout,y=void 0===v?6e4:v;if(window.XMLHttpRequest&&window.Blob&&window.FileReader&&"xhr"===h)!function(t){var e=t.url,r=t.key,i=void 0===r?"downloadParams":r,a=t.data,c=void 0===a?{}:a,u=t.method,s=void 0===u?"POST":u,l=t.startCallback,d=t.endCallback,f=t.timeout,p=void 0===f?6e4:f;s=s.toLocaleLowerCase(),l();var h=function(t){Object(o.clearCookie)("downloadResult"),"function"==typeof d&&d(t)},v=new window.XMLHttpRequest,y=Object(o.getCookie)("csrfToken");if(y||(y=window.__INITIAL_STATE__&&window.__INITIAL_STATE__.csrfToken),e=-1===e.indexOf("?")?e+"?_csrf="+y:e+"&_csrf="+y,"get"===s&&(e+="&"+Object(n.param)(c)),v.open(s,e,!0),v.responseType="blob",v.setRequestHeader("Content-Type","application/json"),y)try{v.setRequestHeader("x-csrf-token",y),Object(o.setCookie)("csrfToken",y,1800)}catch(t){Object(o.setCookie)("csrfToken",y,1800)}if(v.timeout=p,v.onerror=function(){h({errcode:"5000",description:"服务端异常，请稍后再试"})},v.ontimeout=function(){h({errcode:"5004",description:"请求超时，请稍后再试"})},v.onload=function(){if(200===v.status){var t=v.response,e=v.getResponseHeader("Content-Type");if(-1!==e.indexOf("text/html"))h({errcode:"5000",description:"服务端异常，请稍后再试"});else if(-1!==e.indexOf("application/json")){var r=new window.FileReader;r.onload=function(){var t=r.result;try{t=JSON.parse(t)}catch(e){t={errcode:"5000",description:"服务端异常，请稍后再试"},console.error(e)}h(t)},r.readAsText(t)}else{for(var n=v.getResponseHeader("Content-Disposition").replace(/\s/g,"").split(";"),o={},i=0,a=n.length;i<a;i++){var c=n[i].split("="),u="";c[1]&&(u=c[1].replace(/^"/,"").replace(/"$/,"")),o[c[0]]=u}var s=o["filename*"]||o.filename||"file";if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(new Blob([t]),s);else{var l=document.createElement("a");l.download=decodeURIComponent(s),l.style.display="none",l.href=URL.createObjectURL(new Blob([t])),document.body.appendChild(l),l.click(),document.body.removeChild(l)}h({errcode:"0000",description:"下载成功"})}}else h({errcode:"5000",description:"请求异常，请稍后再试"})},"post"===s){var m=JSON.stringify(c),g={};g[i]=m,v.send(JSON.stringify(g))}else v.send()}(t);else{d();var m="tempDownloadIframe"+ +new Date,g="tempFormId_"+ +new Date;Object(o.clearCookie)("downloadResult");var x=function(t){var e=document.getElementById(m),r=document.getElementById(g);Object(o.clearCookie)("downloadResult"),e.innerHTML="",e.parentNode.removeChild(e),r.parentNode.removeChild(r),"function"==typeof f&&f(t)},w=document.createElement("iframe");w.id=m,w.name=m,w.enctype="application/x-www-form-urlencoded",w.style.display="none",document.body.appendChild(w);var b=document.createElement("form");b.id=g,b.target=m,b.style.display="none",b.method=l,b.action=e;var k=document.createElement("input");k.type="hidden",k.name=i,k.value="object"===a(u)?JSON.stringify(u):u,b.appendChild(k),document.body.appendChild(b),b.submit(),function t(e){if(+new Date-e>y)x({errcode:"5004",description:"请求超时，请稍后再试！"});else{var r=Object(o.getCookie)("downloadResult");r?"1"===r?x({errcode:"0000",description:"下载成功"}):(r=JSON.parse(unescape(r)),x(r)):setTimeout((function(){t(e)}),1e3)}}(+new Date)}},y=function(){var t=(new Date).getTime();return"xxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(16)}))},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"object"===a(window.console)&&("error"===e?r?window.console.error(r,t):window.console.error(t):"warn"===e?r?window.console.warn(r,t):window.console.warn(t):r?window.console.log(r,t):window.console.log(t))},g=function(t,e){for(var r=e.getElementsByClassName(t),n=e.getBoundingClientRect(),o=n.top,i=n.left,a=n.bottom,c=n.right,u=[],s=0;s<r.length;s++){var l=r[s].getBoundingClientRect();l.top>=o&&l.left>=i&&l.top<=a&&l.left<=c?u.push(!0):u.push(!1)}return u},x=function(t){var e=[],r=[],n={k1:"该发票已失控",k2:"该发票已作废",k3:"该发票已红冲",k4:"该处于异常状态"},o=t.invoiceType,i=t.invoiceStatus,a=t.checkStatus,c=t.isNotEqualTaxNo,s=t.isNotEqualBuyerName,l=t.repeatBx,d=t.isBlacklist,f=t.isSensitiveWords,p=t.continuousNos,h=void 0===p?[]:p,v=t.warningCode,y=void 0===v?"":v,m=t.isOverdueInvoice,g=t.isRevise;return(u["k"+o]||{}).isAddedTax&&(2===parseInt(a)?r.push("查验数据不相符！"):3===parseInt(a)&&r.push("发票还未进行查验！"),n["k"+i]&&r.push(n["k"+i])),c&&r.push("企业税号与发票购方税号不一致！"),s&&r.push("企业抬头与发票抬头不一致！"),2===l&&r.push("发票重复报销！"),2===d&&r.push("该发票在黑名单中！"),2===f&&e.push("发票中包含敏感词！"),h&&h.length>0&&8===parseInt(o)&&e.push("的士票连号，连号号码"+h.join(",")),-1!==y.split(",").indexOf("3")&&e.push("疑似串号发票！"),2===m&&e.push("该发票已过期！"),2===g&&e.push("手工修改过发票字段！"),{errorResult:r,waringResult:e}},w=function(t){return new Promise((function(e){var r=new FileReader;if("function"==typeof FileReader.prototype.readAsBinaryString)r.onload=function(t){e(r.result)},r.onerror=function(){e(null)},r.readAsBinaryString(t);else{var n="";r.onload=function(t){for(var o=new Uint8Array(r.result),i=o.byteLength,a=0;a<i;a++)n+=String.fromCharCode(o[a]);e(n)},r.onerror=function(){e(null)},r.readAsArrayBuffer(t)}}))}},function(t,e,r){var n=r(8),o=r(10),i=r(9),a=r(11),c=r(12);t.exports={invoiceEditInfo:n,invoiceTypes:o,selectSource:i,invoiceStatus:a,waringCodes:c.waringCodes,getWaringCodesResult:c.getWaringCodesResult}},function(t,e,r){var n=r(9),o=n.trainSeatSelectSource,i=n.airSeatSelectSource,a=n.currencySelectSource,c=function(t){return moment(t.format("YYYY-MM-DD")).format("X")>moment().format("X")},u=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"校验码后六位",dataIndex:"checkCode",type:"string",maxLength:6,required:!0}],s=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"不含税金额",dataIndex:"invoiceAmount",type:"number",required:!0}],l=[{title:"电子客票号",dataIndex:"electronicTicketNum",type:"string",maxLength:50,required:!0},{title:"身份证号码",dataIndex:"customerIdentityNum",type:"string",maxLength:18,required:!0},{title:"行程",subCols:[{title:"开始行程",dataIndex:"placeOfDeparture",type:"string",maxLength:50,required:!0},{title:"结束行程",dataIndex:"destination",type:"string",maxLength:50,required:!0}]},{title:"票价",dataIndex:"invoiceAmount",type:"number",required:!0},{title:"顾客姓名",dataIndex:"customerName",type:"string",maxLength:50,required:!0},{title:"乘机日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"航班号",dataIndex:"flightNum",type:"string",maxLength:50},{title:"机场建设费",dataIndex:"airportConstructionFee",type:"number"},{title:"燃油附加费",dataIndex:"fuelSurcharge",type:"number"},{title:"印刷序列号",dataIndex:"printNum",type:"string",maxLength:50},{title:"座位等级",dataIndex:"seatGrade",type:"select",selectSource:i}],d=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"合计金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"销方名称",dataIndex:"salerName",type:"string",maxLength:200},{title:"销方税号",dataIndex:"salerTaxNo",type:"string",maxLength:50},{title:"购方名称",dataIndex:"buyerName",type:"string",maxLength:200}],f=[{title:"金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"备注",dataIndex:"salerName",type:"string",maxLength:200,required:!0},{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:c}],p=[{title:"纳税人识别号",dataIndex:"buyerTaxNo",type:"string",maxLength:50,required:!0},{title:"完税证明号码",dataIndex:"taxPaidProofNo",type:"string",maxLength:50,required:!0},{title:"填发日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"税务机关名称",dataIndex:"taxAuthorityName",type:"string",maxLength:200,required:!0},{title:"金额",dataIndex:"totalAmount",type:"number",required:!0}],h=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"所在地",dataIndex:"place",type:"string",maxLength:50,required:!0}],v=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"入口",dataIndex:"entrance",type:"string",maxLength:50},{title:"出口",dataIndex:"exit",type:"string",maxLength:50,required:!0},{title:"时间",dataIndex:"time",type:"time"},{title:"所在地",dataIndex:"place",type:"string",maxLength:50}],y=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"乘船人",dataIndex:"passengerName",type:"string",maxLength:50,required:!0},{title:"乘船日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"出发地",dataIndex:"stationGetOn",type:"string",maxLength:50},{title:"到达地",dataIndex:"stationGetOff",type:"string",maxLength:50,required:!0},{title:"金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"币别",dataIndex:"currency",type:"select",selectSource:a}],m=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"乘车日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"金额（含税）",dataIndex:"totalAmount",type:"number",required:!0},{title:"所在地",dataIndex:"place",type:"string",maxLength:50,required:!0},{title:"打车里程",dataIndex:"mileage",type:"number"},{title:"上车时间",dataIndex:"timeGetOn",type:"time"},{title:"下车时间",dataIndex:"timeGetOff",type:"time"}],g=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"票价",dataIndex:"totalAmount",type:"number",required:!0},{title:"出发站",dataIndex:"stationGetOn",type:"string",maxLength:50,required:!0},{title:"到达站",dataIndex:"stationGetOff",type:"string",maxLength:50,required:!0},{title:"姓名",dataIndex:"passengerName",type:"string",maxLength:50,required:!0},{title:"时间",dataIndex:"timeGetOn",type:"time"},{title:"币别",dataIndex:"currency",type:"select",selectSource:a}],x=[{title:"姓名",dataIndex:"passengerName",type:"string",maxLength:50,required:!0},{title:"车次",dataIndex:"trainNum",type:"string",maxLength:50,required:!0},{title:"印刷序号",dataIndex:"printingSequenceNo",type:"string",maxLength:50,required:!0},{title:"乘车日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"金额（含税）",dataIndex:"totalAmount",type:"number",required:!0},{title:"行程",subCols:[{title:"开始行程",dataIndex:"stationGetOn",type:"string",maxLength:50,required:!0},{title:"结束行程",dataIndex:"stationGetOff",type:"string",maxLength:50,required:!0}]},{title:"座位等级",dataIndex:"currency",type:"select",selectSource:o}];t.exports={k1:u,k3:u,k4:s,k5:u,k12:s,k13:s,k15:u,k7:d,k8:m,k9:x,k10:l,k14:h,k16:g,k17:v,k19:p,k20:y,k23:d,k11:f}},function(t,e){t.exports={trainSeatSelectSource:["二等座","一等座","特等座","商务座","无座"],airSeatSelectSource:[{value:"F",text:"头等舱"},{value:"C",text:"公务舱（商务舱）"},{value:"Y",text:"普通舱（经济舱）"}],currencySelectSource:[{value:"CNY",text:"人民币"},{value:"HKD",text:"港币"},{value:"USD",text:"美元"}]}},function(t,e){for(var r=[{text:"电子普通发票",value:1,allowDeduction:1,isAddedTax:!0},{text:"电子专用发票",value:2,allowDeduction:1,isAddedTax:!0,allowGovdk:1},{text:"增值税普通发票",value:3,isAddedTax:!0},{text:"增值税专用发票",value:4,allowDeduction:1,isAddedTax:!0,allowGovdk:1},{text:"普通纸质卷票",value:5,isAddedTax:!0},{text:"通用机打发票",value:7},{text:"出租车票",value:8},{text:"火车/高铁票",value:9,allowDeduction:1},{text:"飞机行程单",value:10,allowDeduction:1},{text:"机动车销售发票",value:12,allowDeduction:1,isAddedTax:!0,allowGovdk:1},{text:"二手车销售发票",value:13,isAddedTax:!0},{text:"定额发票",value:14},{text:"通行费电子发票",value:15,allowDeduction:1,isAddedTax:!0,allowGovdk:1},{text:"公路汽车票",value:16,allowDeduction:1},{text:"过路桥费发票",value:17},{text:"完税证明",value:19},{text:"轮船票",value:20,allowDeduction:1},{text:"通用机打电子发票",value:23},{text:"海关缴款书",value:21,allowDeduction:1,allowGovdk:1},{text:"火车票退票凭证",value:24},{text:"财政电子票据",value:25},{text:"其它票",value:11,allowDeduction:1},{text:"全电普票",value:26,allowDeduction:1,isAddedTax:!0},{text:"全电专票",value:27,allowDeduction:1,isAddedTax:!0,allowGovdk:1}],n={},o=[],i=[],a=0;a<r.length;a++){var c=r[a];n["k"+c.value]=c,c.isAddedTax&&o.push(c.value),1===c.allowDeduction&&i.push(c.value)}t.exports={INPUT_INVOICE_TYPES:r,INPUT_INVOICE_TYPES_DICT:n,ADDED_INVOICE_TYPES:o,ALLOW_DK_TYPES:i}},function(t,e){for(var r=[{text:"正常",value:0},{text:"失控",value:1},{text:"作废",value:2},{text:"红冲",value:3},{text:"异常",value:4}],n={},o=0;o<r.length;o++)n["k"+r[o].value]=r[o].text;t.exports={INVOICE_STATUS:r,INVOICE_STATUS_DICT:n}},function(t,e){var r={k1:"",k2:""};t.exports={waringCodes:r,getWaringCodesResult:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split(","),n=[],o=0;o<e.length;o++){var i=e[o],a=r["k"+i]||"";a&&n.push(a)}return n}}},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o;Object.setPrototypeOf=r(14),"object"===("undefined"==typeof window?"undefined":n(window))&&(window.requestAnimationFrame=window.requestAnimationFrame||window.requestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return setTimeout(t,1/60)}),Function.prototype.method=function(t,e){return this.prototype[t]||(this.prototype[t]=e),this},Number.method("integer",(function(){return Math[this<0?"ceil":"floor"](this)})),String.method("trim",(function(){return this.replace(/^\s+/g,"").replace(/\s+$/g,"")})),String.method("replaceInclude",(function(){return this.replace("）",")").replace("（","(")})),String.method("entityify",(o={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;"},void 0!==n(void 0)&&(o=void 0),function(){return this.replace(/(["<>&])/g,(function(t){return o[t]}))})),String.method("isEmail",(function(){return/^([a-zA-Z0-9_\.-]+)@([a-zA-Z0-9\.-]+)\.([a-zA-Z\.]{2,6})$/.test(this)})),String.method("isEmpty",(function(){return/^[\s]*$/.test(this)})),String.method("isNotEmpty",(function(){return/[\S]+/.test(this)})),String.method("isPhone",(function(){return/^(1[0-9]{10}$)/.test(this)})),String.method("isPhoneOrMail",(function(){return this.isEmail()?2:!!this.isPhone()&&1})),String.method("getLength",(function(){var t=this.replace(/[\x00-\xff]/g,"").length;return this.length+t})),String.method("isNumber",(function(){return/[0-9.]*/.test(this)&&isFinite(this)})),String.method("getSub",(function(t,e){var r=/[^\x00-\xff]/g;if(this.replace(r,"mm").length<=t)return this;for(var n=Math.floor(t/2);n<this.length;n++)if(this.substr(0,n).replace(r,"mm").length>=t)return e?this.substr(0,n)+"...":this.substr(0,n);return this})),String.method("trimUnNumber",(function(){var t=parseFloat(this.trim());return isNaN(t)?"":t+""})),Array.method("indexOf",(function(t){var e,r=this.length;for(e=0;e<r;e++)if(this[e]===t)return e;return-1}))},function(t,e,r){"use strict";t.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=e[r]);return t})},function(t,e,r){"use strict";r.r(e),r.d(e,"setCache",(function(){return i})),r.d(e,"getCache",(function(){return a})),r.d(e,"clearCache",(function(){return c}));var n=r(4);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(t,e,r){if(e="object"===o(e)?escape(JSON.stringify(e)):escape(e),localStorage||sessionStorage)if("localStorage"==r&&localStorage)try{return localStorage.setItem(t,e),!0}catch(t){return!1}else if(isNaN(parseInt(r)))try{return sessionStorage.setItem(t,e),!0}catch(t){return!1}else try{return Object(n.setCookie)(t,e,r),!0}catch(t){return!1}else try{var i=3600;return isNaN(parseInt(r))||(i=r),Object(n.setCookie)(t,e,i),!0}catch(t){return!1}},a=function(t,e,r){if(localStorage||sessionStorage)if("localStorage"==e&&localStorage){if("string"===r)return unescape(localStorage.getItem(t));try{n=unescape(localStorage.getItem(t));return JSON.parse(n)}catch(t){return n}}else if("cookie"!=e&&isNaN(parseInt(e))){if("string"===r)return unescape(sessionStorage.getItem(t));try{n=unescape(sessionStorage.getItem(t));return JSON.parse(n)}catch(t){return n}}else{if("string"===r)return unescape(getCookie(t));try{var n=unescape(getCookie(t));return JSON.parse(n)}catch(t){return n}}else{if("string"===r)return unescape(getCookie(t));try{var n=unescape(getCookie(t));return JSON.parse(n)}catch(t){return n}}},c=function(t,e){if(localStorage||sessionStorage)if("localStorage"==e&&localStorage)try{return localStorage.removeItem(t),!0}catch(t){return!1}else if("cookie"!=e&&isNaN(parseInt(e)))try{return sessionStorage.removeItem(t),!0}catch(t){return!1}else try{return Object(n.clearCookie)(t),!0}catch(t){return!1}else try{return Object(n.clearCookie)(t),!0}catch(t){return!1}}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.r(e),r.d(e,"getLoadedJs",(function(){return o})),r.d(e,"syncUse",(function(){return a})),r.d(e,"use",(function(){return c})),r.d(e,"loadScripts",(function(){return u}));var o=function(){var t=[];if("object"===("undefined"==typeof document?"undefined":n(document))&&document.getElementsByTagName)for(var e=document.getElementsByTagName("script"),r=e.length;r--;){var o=e[r].src||"";""!=o&&t.push(o)}return t},i=function(t,e){if(/^https?:\/\/.*$/.test(t))return t;e=e||window.location.href.replace(/\/[0-0a-zA-Z._-]*$/,"");var r=window.location.origin;if(/^\/.*$/.test(t))return r+t;if(/^\.\/.*$/.test(t))return e+t.replace(/^\./,"");if(/^\.\.\/.*/.test(t)){for(var n=t.split("/"),o=[],i=0;i<n.length;i++)".."==n[i]&&r!=e?e=e.replace(/\/[0-0a-zA-Z._-]*$/,""):"."!=n[i]&&".."!=n[i]&&o.push(n[i]);return e+"/"+o.join("/")}return e+t},a=function(t,e){var r=o(),n=[];if("string"==typeof t)n.push(i(t));else for(var a=0,c=t.length;a<c;a++)n.push(i(t[a]));return function t(o){if(-1==r.indexOf(n[o]))if(o<n.length){var i=document.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,t(o+1))}:i.onload=function(){t(o+1)},i.src=n[o],/^.*sea\.js\/?$/.test(n[o])&&(i.id="seajsnode"),document.getElementsByTagName("head")[0].appendChild(i),r.push(n[o])}else e();else t(o+1)}(0)},c=function(t,e){var r,n=o(),a=0,c=[];if("string"==typeof t)c.push(i(t));else for(var u=t.length;u--;)c.push(i(t[u]));for(var s=r=c.length;s--;){var l=c[s];if(-1==n.indexOf(l)){var d=document.createElement("script");d.type="text/javascript",d.readyState?d.onreadystatechange=function(){"loaded"!=d.readyState&&"complete"!=d.readyState||(d.onreadystatechange=null,++a==r&&e())}:d.onload=function(){++a==r&&e()},d.src=c[s],/^.*sea\.js\/?$/.test(l)&&(d.id="seajsnode"),document.getElementsByTagName("head")[0].appendChild(d),n.push(c[s])}else++a==r&&e()}},u=function(t,e){return new Promise((function(r){try{e?a(t,(function(){r(!0)})):c(t,(function(){r(!0)}))}catch(t){r(!1)}}))}},function(t,e,r){"use strict";r.r(e),r.d(e,"urlSearch",(function(){return n}));var n=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={},r=(t=t.replace(/^\?/,"")).split("&"),n=0,o=r.length;n<o;n++){var i=r[n].split("="),a="";i.length>1&&(a=i[1]),e[i[0]]=a}return e}},function(t,e,r){"use strict";r.r(e),r.d(e,"blockchain_filter",(function(){return n})),r.d(e,"checkInvoiceType",(function(){return o})),r.d(e,"checkInvoiceTypeFull",(function(){return i}));var n=function(t){var e=!1,r=t.invoiceCode,n=t.invoiceNo;if(r&&n&&12==r.length&&8==n.length){var o=r.substr(0,5),i=r.substr(8,1);"14403"==o&&"9"==i&&(e=!0)}return e},o=function(t,e){t&&(t+=""),e&&(e+="");var r=t.substr(t.length-3),n=t.substr(t.length-2),o=t.substr(0,1),i=t.substr(5,1),a=t.substr(7,1);if("130"===r||"140"===r||"160"===r||"170"===r)return 4;if(12==t.length){if("0"==o&&"12"==n)return 15;if("0"===o&&"17"===n)return 13;if("0"===o&&("06"===n||"07"===n))return 5;if("0"===o&&"13"===n)return 2;if(("1"==i||"2"==i)&&"2"==a)return 12}return 3};function i(t,e){if(t&&(t+=""),e&&(e+=""),!e||!t)return 5;var r=t.length;if(12==r){if(12==t.length&&8==e.length){if(t.startsWith("14403")&&"9"===t.substr(8,9))return 1;if(t.startsWith("0")&&t.endsWith("13"))return 2}return t.startsWith("1")&&t.substr(7,8).equals("2")?12:t.endsWith("11")&&t.startsWith("0")?1:t.endsWith("12")&&t.startsWith("0")?15:t.endsWith("04")||t.endsWith("05")?3:t.endsWith("06")||t.endsWith("07")?5:t.endsWith("17")&&t.startsWith("0")?13:3}return 10==r&&(t.endsWith("130")||t.endsWith("140")||t.endsWith("160")||t.endsWith("170"))?4:3}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.r(e);e.default=function(t){var e=t.method,r=void 0===e?"POST":e,o=t.data,i=void 0===o?"":o,a=t.withCredentials,c=void 0!==a&&a,u=t.dataType,s=void 0===u?"json":u,l=t.contentType,d=void 0===l?"text/plain":l,f=t.timeout,p=void 0===f?6e4:f,h=t.url,v=void 0===h?"http://127.0.0.1:52320/cryptctl":h;t.onTimeout,t.onError,t.success;return new Promise((function(t,e){var o=null;if(XMLHttpRequest&&(o=new XMLHttpRequest),c&&void 0!==o.withCredentials&&(o.withCredentials=!0),o||"undefined"==typeof XDomainRequest||(o=new XDomainRequest),o){try{o.timeout=p,o.contentLength=i.length}catch(t){console.warn("设置超时时间异常")}try{o.contentType=d}catch(t){console.warn("设置contentType异常")}o.onload=function(){var e=o.responseText;if("json"===s)try{e=JSON.parse(e),t(e)}catch(e){t({description:"服务端异常",errcode:"serverErr"})}else t(e)},o.ontimeout=function(){t({errcode:"timeout",description:"请求超时,请安装且启动“金蝶发票管理组件”后重试！"},o)},o.onerror=function(){t({errcode:"err",description:"请求异常,请安装且启动“金蝶发票管理组件”后重试！"},o)},o.open(r,v,!0),"object"===n(i)&&(i=JSON.stringify(i)),"string"==typeof i?o.send(i):t({errcode:"argsErr",description:"参数格式不正确"})}else o=null,t({errcode:"accessErr",description:"税盘不支持访问"})}))}},function(t,e,r){"use strict";r.r(e);e.default=function(){var t={ie:0,gecko:0,webkit:0,khtml:0,opera:0,ver:null},e={ie:0,firefox:0,safari:0,konq:0,opera:0,chrome:0,ver:null},r={win:!1,mac:!1,x11:!1,iphone:!1,ipod:!1,ipad:!1,ios:!1,android:!1,nokiaN:!1,winMobile:!1,wii:!1,ps:!1},n=navigator.userAgent;if(window.opera)t.ver=e.ver=window.opera.version(),t.opera=e.opera=parseFloat(t.ver);else if(/AppleWebKit\/(\S+)/.test(n))if(t.ver=RegExp.$1,t.webkit=parseFloat(t.ver),/Chrome\/(\S+)/.test(n))e.ver=RegExp.$1,e.chrome=parseFloat(e.ver);else if(/Version\/(\S+)/.test(n))e.ver=RegExp.$1,e.safari=parseFloat(e.ver);else{var o=1;o=t.webkit<100?1:t.webkit<312?1.2:t.webkit<412?1.3:2,e.safari=e.ver=o}else/KHTML\/(\S+)/.test(n)||/Konqueror\/([^;]+)/.test(n)?(t.ver=e.ver=RegExp.$1,t.khtml=e.konq=parseFloat(t.ver)):/rv:([^\)]+)\) Gecko\/\d{8}/.test(n)?(t.ver=RegExp.$1,t.gecko=parseFloat(t.ver),/Firefox\/(\S+)/.test(n)&&(e.ver=RegExp.$1,e.firefox=parseFloat(e.ver))):(/MSIE ([^;]+)/.test(n)||/Trident\/7.0/.test(n)&&/rv:([^\)]+)\)/.test(n)||/Edge\/(\S+)/.test(n))&&(t.ver=e.ver=RegExp.$1,t.ie=e.ie=parseFloat(t.ver));e.ie=t.ie,e.opera=t.opera;var i=navigator.platform;if(r.win=0==i.indexOf("Win"),r.mac=0==i.indexOf("Mac"),r.x11="X11"==i||0==i.indexOf("Linux"),r.win&&/Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?/.test(n))if("NT"==RegExp.$1)switch(RegExp.$2){case"5.0":r.win="2000";break;case"5.1":r.win="XP";break;case"6.0":r.win="Vista";break;case"6.1":r.win="7";break;default:r.win="NT"}else"9x"==RegExp.$1?r.win="ME":r.win=RegExp.$1;return r.iphone=n.indexOf("iPhone")>-1,r.ipod=n.indexOf("iPod")>-1,r.ipad=n.indexOf("iPad")>-1,r.nokiaN=n.indexOf("NokiaN")>-1,"CE"==r.win?r.winMobile=r.win:"Ph"==r.win&&/Windows Phone OS (\d+.\d+)/.test(n)&&(r.win="Phone",r.winMobile=parseFloat(RegExp.$1)),r.mac&&n.indexOf("Mobile")>-1&&(/CPU (?:iPhone )?OS (\d+_\d+)/.test(n)?r.ios=parseFloat(RegExp.$1.replace("_",".")):r.ios=2),/Android (\d+\.\d+)/.test(n)&&(r.android=parseFloat(RegExp.$1)),r.wii=n.indexOf("Wii")>-1,r.ps=/playstation/i.test(n),{engine:t,browser:e,system:r}}},function(t,e,r){"use strict";r.r(e),r.d(e,"setOperateUrl",(function(){return s})),r.d(e,"getVersionApi",(function(){return d})),r.d(e,"verifyPinApi",(function(){return p})),r.d(e,"getClientHello",(function(){return v})),r.d(e,"getClientAuthCode",(function(){return m})),r.d(e,"getTaxInfoFromDisk",(function(){return x})),r.d(e,"signDataApi",(function(){return b}));var n=r(2);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function h(){}function v(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==e&&r.call(g,a)&&(y=g);var x=v.prototype=p.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,a){function c(){return new e((function(n,c){!function n(i,a,c,u){var s=d(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,u)}))}u(s.arg)}(i,a,n,c)}))}return n=n?n.then(c,c):c()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=d(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=v,s(x,"constructor",v),s(v,"constructor",h),h.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(b.prototype),s(b.prototype,c,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function a(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){a(i,n,o,c,u,"next",t)}function u(t){a(i,n,o,c,u,"throw",t)}c(void 0)}))}}var u="http://127.0.0.1:52320/cryptctl";function s(t){u=t}var l=function(){var t=c(i().mark((function t(e,r,o){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.crossHttp)({method:"POST",data:Object(n.paramJson)(r),contentType:"application/x-www-form-urlencoded;charset=UTF-8",url:e});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();function d(t,e){return f.apply(this,arguments)}function f(){return(f=c(i().mark((function t(e,r){var n,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r||(r=u),n=r.replace(/https?:\/\/(.*?)\:.*/,"$1"),o="https://"+n+":28000/api/getVersion",a={crosFlag:0},t.next=6,l(o,a);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t,e,r,n){return h.apply(this,arguments)}function h(){return(h=c(i().mark((function t(e,r,n,o){var a,c,s,d,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=encodeURIComponent(e),o||(o=u),a=o.replace(/https?:\/\/(.*?)\:.*/,"$1"),c="https://"+a+":28000/api/verifyPin",s=0==n?{password:e,dwProvType:1}:{password:e,dwProvType:2050,strContainer:"//SM2/SM2CONTAINER0002"},t.next=7,l(c,s);case 7:if(0!=(d=t.sent).code){t.next=12;break}return t.abrupt("return",{errcode:"0000",data:"0"});case 12:return f=d.msg+"(错误代码："+d.code+")",t.abrupt("return",{errcode:"7000",description:f});case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t,e,r){return y.apply(this,arguments)}function y(){return(y=c(i().mark((function t(e,r,n){var o,a,c,s,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r||(r=u),o=r.replace(/https?:\/\/(.*?)\:.*/,"$1"),a="https://"+o+":28000/api/clientHello",c=0==n?{authType:0,dwProvType:1}:{authType:0,dwProvType:2050,strContainer:"//SM2/SM2CONTAINER0002"},t.next=6,l(a,c);case 6:if(0!=(s=t.sent).code){t.next=15;break}if(!s.clientHello){t.next=12;break}return t.abrupt("return",{errcode:"0000",data:s.clientHello});case 12:return t.abrupt("return",{errcode:"7000",description:"税盘操作异常"});case 13:t.next=17;break;case 15:return d=s.msg+"(错误代码："+s.code+")",t.abrupt("return",{errcode:"7000",description:d});case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t,e,r,n){return g.apply(this,arguments)}function g(){return(g=c(i().mark((function t(e,r,n,o){var a,c,s,d,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n||(n=u),a=n.replace(/https?:\/\/(.*?)\:.*/,"$1"),c="https://"+a+":28000/api/clientAuth",s=0==o?{password:e,serverHello:r,dwProvType:1}:{password:e,serverHello:r,dwProvType:2050,strContainer:"//SM2/SM2CONTAINER0002"},t.next=6,l(c,s);case 6:if(0!=(d=t.sent).code){t.next=15;break}if(!d.clientAuth){t.next=12;break}return t.abrupt("return",{errcode:"0000",data:d.clientAuth});case 12:return t.abrupt("return",{errcode:"7000",description:"税盘操作异常"});case 13:t.next=17;break;case 15:return f=d.msg+"(错误代码："+d.code+")",t.abrupt("return",{errcode:"7000",description:f});case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e,r,n){return w.apply(this,arguments)}function w(){return(w=c(i().mark((function t(e,r,n,o){var a,c,s,d,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n||(n=u),a=n.replace(/https?:\/\/(.*?)\:.*/,"$1"),c="https://"+a+":28000/api/readCertInfo",s=0==o?{certInfoNo:r,dwProvType:1}:{certInfoNo:r,dwProvType:2050,strContainer:"//SM2/SM2CONTAINER0002"},t.next=6,l(c,s);case 6:if(0!=(d=t.sent).code){t.next=15;break}if(!d.certInfo){t.next=12;break}return t.abrupt("return",{errcode:"0000",data:d.certInfo});case 12:return t.abrupt("return",{errcode:"7000",description:"税盘操作异常"});case 13:t.next=17;break;case 15:return f=d.msg+"(错误代码："+d.code+")",t.abrupt("return",{errcode:"7000",description:f});case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e,r,n,o){return k.apply(this,arguments)}function k(){return(k=c(i().mark((function t(e,r,n,o,a){var c,s,d,f,p;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a||(a=u),c=a.replace(/https?:\/\/(.*?)\:.*/,"$1"),s="https://"+c+":28000/api/signData",d=0==o?{password:r,data:e,signAlgId:"SHA1withRSA",dwFlag:"0x400000",dwProvType:1}:{password:r,data:e,signAlgId:"GBECSM3",dwFlag:"0x400000",dwProvType:2050,strContainer:"//SM2/SM2CONTAINER0002"},t.next=6,l(s,d);case 6:if(0!=(f=t.sent).code){t.next=15;break}if(!f.p7Signature){t.next=12;break}return t.abrupt("return",{errcode:"0000",data:f.p7Signature});case 12:return t.abrupt("return",{errcode:"7000",description:"税盘操作异常"});case 13:t.next=17;break;case 15:return p=f.msg+"(错误代码："+f.code+")",t.abrupt("return",{errcode:"7000",description:p});case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},function(t,e,r){"use strict";r.r(e),r.d(e,"getApiVersion",(function(){return c})),r.d(e,"checkTaxNo",(function(){return u}));var n=r(21);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function h(){}function v(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==e&&r.call(g,a)&&(y=g);var x=v.prototype=p.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,a){function c(){return new e((function(n,c){!function n(i,a,c,u){var s=d(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,u)}))}u(s.arg)}(i,a,n,c)}))}return n=n?n.then(c,c):c()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=d(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=v,s(x,"constructor",v),s(v,"constructor",h),h.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(b.prototype),s(b.prototype,c,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function a(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var c=function(){var t,e=(t=i().mark((function t(e,r){var o,a,c,u,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getVersionApi(!0,r);case 2:if(o=t.sent,a=1,null!=o){t.next=9;break}a=1,c=0,t.next=30;break;case 9:if(a=0,(u=o.version||"")?(u=u.replace(/[^0-9]/,""),u=parseInt(u)):u=0,!(u<10)){t.next=17;break}a=1,c=0,t.next=30;break;case 17:return t.next=19,n.verifyPinApi(e,!1,1);case 19:if("0000"===(s=t.sent).errcode){t.next=27;break}return t.next=23,n.verifyPinApi(e,!1,0);case 23:"0000"===(s=t.sent).errcode&&(c=0),t.next=28;break;case 27:"0000"===s.errcode&&(c=1);case 28:if("0000"===s.errcode){t.next=30;break}return t.abrupt("return",s);case 30:return t.abrupt("return",{errcode:"0000",data:{cryptType:a,alg:c}});case 31:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function c(t){a(i,n,o,c,u,"next",t)}function u(t){a(i,n,o,c,u,"throw",t)}c(void 0)}))});return function(t,r){return e.apply(this,arguments)}}(),u=function(t){return""==t?{errcode:"7000",description:"读取证书信息失败，未获取到合法的纳税人信息,请重新提交请求或检查金税盘、税控盘或税务Ukey是否插入"}:/^[0-9a-zA-Z]+$/.test(t)?{errcode:"0000",description:"success"}:{errcode:"7000",description:"读取到的纳税人信息（纳税人识别号："+t+"）不合法！请重试！"}}},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return s}));var n=r(2);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function h(){}function v(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==e&&r.call(g,a)&&(y=g);var x=v.prototype=p.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,a){function c(){return new e((function(n,c){!function n(i,a,c,u){var s=d(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,u)}))}u(s.arg)}(i,a,n,c)}))}return n=n?n.then(c,c):c()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=d(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=v,s(x,"constructor",v),s(v,"constructor",h),h.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(b.prototype),s(b.prototype,c,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function a(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var c,u;function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.timeout=t.timeout||6e4,this.allowPorts=t.ports||["52320","61624","50001","50051","50101"],this.caOperateUrl=""}s.prototype={setOperateUrl:function(t){this.caOperateUrl=t},getUrlInfo:function(t){var e=t.match(/^(https?):\/\/([0-9.a-z]*):([0-9]*)\/(.*)$/);return e.length>2&&{protocol:e[1],hostname:e[2],port:e[3],pathname:e[4]}},mergeUrlInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.protocol,n=t.hostname,o=t.port,i=t.pathname;return r=e.protocol||r,n=e.hostname||n,o=e.port||o,""===(i=e.pathname||i)?r+"://"+n+":"+o:r+"://"+n+":"+o+"/"+i},requestDisk:(c=i().mark((function t(e,r,o){var a,c,u,s,l,d,f,p,h,v,y;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}e="http://127.0.0.1:52320/cryptctl",t.next=11;break;case 4:if(!this.caOperateUrl){t.next=11;break}if(a=this.getUrlInfo(e),c=this.getUrlInfo(this.caOperateUrl),a&&c){t.next=10;break}return o({errcode:"3000",description:"税盘操作地址格式异常"}),t.abrupt("return");case 10:a.protocol===c.protocol&&a.hostname===c.hostname||(this.caOperateUrl="");case 11:if(!this.caOperateUrl){t.next=19;break}return t.next=14,Object(n.crossHttp)({method:"POST",data:r,url:this.caOperateUrl});case 14:u=t.sent,s=u.errmsg||u.description||"税盘操作异常","0000"===u.errcode?""!==u.result?o({errcode:"0000",data:u.result}):o({errcode:"7000",description:s}):o({errcode:u.errcode,description:s}),t.next=44;break;case 19:l=this.getUrlInfo(e),d={},f=0;case 22:if(!(f<this.allowPorts.length)){t.next=43;break}return p=this.allowPorts[f],h=this.mergeUrlInfo(l,{port:p}),t.next=27,Object(n.crossHttp)({method:"POST",data:r,url:h});case 27:if(v=t.sent,y=v.errmsg||v.description||"税盘操作异常","0000"!==v.errcode){t.next=39;break}if(""===v.result){t.next=36;break}return this.caOperateUrl=h,d={errcode:"0000",data:v.result},t.abrupt("break",43);case 36:d={errcode:"7000",description:y};case 37:t.next=40;break;case 39:d={errcode:v.errcode,description:y};case 40:f++,t.next=22;break;case 43:o(d);case 44:case"end":return t.stop()}}),t,this)})),u=function(){var t=this,e=arguments;return new Promise((function(r,n){var o=c.apply(t,e);function i(t){a(o,r,n,i,u,"next",t)}function u(t){a(o,r,n,i,u,"throw",t)}i(void 0)}))},function(t,e,r){return u.apply(this,arguments)}),getClientHello:function(t,e){var r=this;return new Promise((function(n){var o={funcname:"clienthello",args:{userpin:t,dwflags:0}};r.requestDisk(e,o,(function(t){n(t)}))}))},getClientAuthCode:function(t,e,r){var n=this;return new Promise((function(o){var i={funcname:"clientauth",args:{userpin:t,strServerHello:e}};n.requestDisk(r,i,(function(t){o(t)}))}))},getTaxInfoFromDisk:function(t,e,r){var n=this;return new Promise((function(o){var i={funcname:"getcertinfo",args:{userpin:t,cert:"",certinfono:e}};n.requestDisk(r,i,(function(t){o(t)}))}))},signDataApi:function(t,e){var r=this,n=arguments.length>4?arguments[4]:void 0;return new Promise((function(e){var o={funcname:"sign",args:{data:t,alg:"SHA1withRSA",flag:4194304}};r.requestDisk(n,o,(function(t){e(t)}))}))},companyAuth:function(t,e){var r=this;return new Promise((function(n){r.requestDisk(t,e,(function(t){n(t)}))}))}}},function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return F}));var n=r(2),o=r(23),i=r(21),a=r(22);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=["serialNo","versionNo","dataIndex","searchOpt","dataFromIndex","dataFrom"],s=["serialNo","versionNo","dataIndex","searchOpt","dataFromIndex","dataFrom"];function l(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */h=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return I()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var d={};function f(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==e&&r.call(g,o)&&(y=g);var x=v.prototype=f.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(o,i){function a(){return new e((function(n,a){!function n(o,i,a,u){var s=l(t[o],t,i);if("throw"!==s.type){var d=s.arg,f=d.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){d.value=t,a(d)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,u(x,"constructor",v),u(v,"constructor",p),p.displayName=u(v,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,a,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(b.prototype),u(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(x),u(x,a,"Generator"),u(x,o,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function v(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function y(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){v(i,n,o,a,c,"next",t)}function c(t){v(i,n,o,a,c,"throw",t)}a(void 0)}))}}var m,g,x,w,b,k,O,S,L,T,I,E,j,N=n.cacheHelp.setCache,_=n.cacheHelp.getCache,P=n.cacheHelp.clearCache,q=n.cookieHelp.setCookie,C=n.cookieHelp.getCookie,A=n.cookieHelp.clearCookie;function F(t){var e;this.baseTaxNo=t.taxNo||"fixedTaxNo",this.fpdkType=t.fpdkType?parseInt(t.fpdkType):1;var r="",n="",i=t.operateUrl||"";this.baseTaxNo&&(C("govToken-"+this.baseTaxNo)?(e=_("loginGovInfo-"+this.baseTaxNo,"localStorage"))?(i=e.operateUrl,r=e.passwd||"",n=e.ptPasswd||""):A("govToken-"+this.baseTaxNo):P("loginGovInfo-"+this.baseTaxNo,"localStorage")),this.firstLoginUrl=t.firstLoginUrl||"",this.secondLoginUrl=t.secondLoginUrl||"",this.collectUrl=t.collectUrl||"",this.onLoginSuccess=t.onLoginSuccess,this.passwd=t.passwd||r||"",this.ptPasswd=t.ptPasswd||n||"",t.ports&&t.ports.length>0?this.diskOperate=new o.default({ports:t.ports}):this.diskOperate=new o.default,this.operateUrl=i,this.access_token=t.access_token||"",e&&(this.loginGovInfo=e)}F.prototype={validateLogin:(j=y(h().mark((function t(e){var r,n,o,c,u,s;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=0,o="",1!=(r=0)){t.next=12;break}return t.next=6,this.diskOperate.getTaxInfoFromDisk(e,71,this.operateUrl);case 6:if("0000"===(c=t.sent).errcode){t.next=9;break}return t.abrupt("return",c);case 9:o=c.data,t.next=18;break;case 12:return t.next=14,i.getTaxInfoFromDisk(e,71,this.operateUrl,n);case 14:if("0000"===(u=t.sent).errcode){t.next=17;break}return t.abrupt("return",u);case 17:o=u.data;case 18:if("0000"===(s=Object(a.checkTaxNo)(o)).errcode){t.next=21;break}return t.abrupt("return",s);case 21:return t.abrupt("return",{errcode:"0000",data:{cryptType:r,alg:n,cert:o}});case 22:case"end":return t.stop()}}),t,this)}))),function(t){return j.apply(this,arguments)}),setConfirmPass:function(t){this.confirmPasswd=t},login:(E=y(h().mark((function t(){var e,r,o,a,c,u,s,l,d,p,v,y,m,g,x,w,b,k,O,S,L,T,I,E,j,_,P,C,A,F,D,R=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=R.length>0&&void 0!==R[0]?R[0]:"",r=R.length>1&&void 0!==R[1]?R[1]:"",o=R.length>2&&void 0!==R[2]?R[2]:this.access_token,a=R.length>3&&void 0!==R[3]?R[3]:{},this.passwd=e||this.passwd,this.ptPasswd=r||this.ptPasswd,""!=(e=this.passwd)){t.next=9;break}return t.abrupt("return",{errcode:"80401",description:"CA密码不能为空"});case 9:return t.next=11,this.validateLogin(e);case 11:if("0000"===(c=t.sent).errcode){t.next=14;break}return t.abrupt("return",c);case 14:if(u=c.data,s=u.cryptType,l=u.alg,d=u.cert,0!=s){t.next=21;break}return t.next=18,i.getClientHello(e,this.operateUrl,l);case 18:p=t.sent,t.next=24;break;case 21:return t.next=23,this.diskOperate.getClientHello(e,this.operateUrl);case 23:p=t.sent;case 24:if("0000"===p.errcode){t.next=26;break}return t.abrupt("return",p);case 26:return v=d,y=p.data,m={"Content-Type":"application/json"},window.__INITIAL_STATE__&&window.__INITIAL_STATE__.param_sign&&(m["x-csrf-token"]=window.__INITIAL_STATE__.param_sign),t.next=32,Object(n.kdRequest)({url:o?this.firstLoginUrl+"?access_token="+o:this.firstLoginUrl,timeout:6e4,method:"POST",headers:m,data:f({alg:l,taxNo:v,clientHello:y},a)});case 32:if("0000"===(g=t.sent).errcode){t.next=35;break}return t.abrupt("return",g);case 35:if(x=g.data,w=x.ymbb,b=x.baseUrl,k=x.govVersionInt,O=x.serverPacket,S=x.serverRandom,this.govVersionInt=k,0!=s){t.next=43;break}return t.next=40,i.getClientAuthCode(e,O,this.operateUrl,l);case 40:L=t.sent,t.next=46;break;case 43:return t.next=45,this.diskOperate.getClientAuthCode(e,O,this.operateUrl);case 45:L=t.sent;case 46:if("0000"===L.errcode){t.next=48;break}return t.abrupt("return",L);case 48:if(0!=s){t.next=54;break}return t.next=51,i.getTaxInfoFromDisk(e,70,this.operateUrl,l);case 51:T=t.sent,t.next=57;break;case 54:return t.next=56,this.diskOperate.getTaxInfoFromDisk(e,70,this.operateUrl);case 56:T=t.sent;case 57:if("0000"===T.errcode){t.next=59;break}return t.abrupt("return",T);case 59:return I=L.data,E=T.data,t.next=63,Object(n.kdRequest)({url:o?this.secondLoginUrl+"?access_token="+o:this.secondLoginUrl,timeout:7e4,method:"POST",headers:m,data:f({alg:l,ptPasswd:this.ptPasswd,taxNo:v,ymbb:w,baseUrl:b,govVersionInt:k,clientAuthCode:I,serverRandom:S,sbh:E},a)});case 63:if("0000"!==(j=t.sent).errcode){t.next=75;break}return this.access_token=o,_=j.data,P=_.skssq,C=_.gxrqfw,A=_.companyName,F=_.companyType,this.loginGovInfo={passwd:this.passwd,ptPasswd:this.ptPasswd,taxNo:v,govVersionInt:k,skssq:P,gxrqfw:C,companyName:A,companyType:F,alg:l,cryptType:s,baseUrl:b,operateUrl:this.operateUrl},q("govToken-"+this.baseTaxNo,"govToken",2800),N("loginGovInfo-"+this.baseTaxNo,this.loginGovInfo,"localStorage"),D=f(f({},j),{},{data:f(f({},j.data),{},{taxNo:v})}),"function"==typeof this.onLoginSuccess&&this.onLoginSuccess(D),t.abrupt("return",D);case 75:return t.abrupt("return",j);case 76:case"end":return t.stop()}}),t,this)}))),function(){return E.apply(this,arguments)}),holiCommonRequest:(I=y(h().mark((function t(e){var r,o,i=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},t.prev=1,t.next=4,Object(n.kdRequest)({url:e,timeout:7e4,data:r,method:"POST"});case 4:return o=t.sent,t.abrupt("return",o);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",{errcode:"arr",description:"请求异常，请稍后再试！"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),function(t){return I.apply(this,arguments)}),commonRequest:(T=y(h().mark((function t(e){var r,o,i,a,c,u,s,l,d,f=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:{},2!==this.fpdkType){t.next=6;break}return t.next=4,this.holiCommonRequest(e,r);case 4:return o=t.sent,t.abrupt("return",o);case 6:return i=r.passwd,a=void 0===i?this.passwd:i,c=r.ptPasswd,u=void 0===c?this.ptPasswd:c,s=e.split("?"),l="",2===s.length&&(l=n.urlHandler.urlSearch(s[1]).access_token),t.prev=10,t.next=13,Object(n.kdRequest)({url:e,timeout:7e4,data:r,method:"POST"});case 13:d=t.sent,t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(10),t.abrupt("return",{errcode:"arr",description:"请求异常，请稍后再试！"});case 19:if("91300"!==d.errcode){t.next=42;break}return A("govToken-"+this.baseTaxNo),P("loginGovInfo-"+this.baseTaxNo,"localStorage"),this.loginGovInfo=null,t.next=25,this.login(a,u,l);case 25:if("0000"===(d=t.sent).errcode){t.next=30;break}return t.abrupt("return",d);case 30:return t.prev=30,t.next=33,Object(n.kdRequest)({url:e,timeout:7e4,data:r,method:"POST"});case 33:d=t.sent,t.next=39;break;case 36:return t.prev=36,t.t1=t.catch(30),t.abrupt("return",{errcode:"arr",description:"请求异常，请稍后再试！"});case 39:return t.abrupt("return",d);case 40:t.next=43;break;case 42:return t.abrupt("return",d);case 43:case"end":return t.stop()}}),t,this,[[10,16],[30,36]])}))),function(t){return T.apply(this,arguments)}),holiTaxQueryInvoices:(L=y(h().mark((function t(e,r){var o,i,a,c,s,d,p,v,y,m,g,x,w,b,k,O,S,L;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=r.continueFlag,i=r.clientType,a=r.stepFinish,c=void 0===o||o,s=function(t){if("function"==typeof a)try{a({endFlag:void 0===t.endFlag||t.endFlag,errcode:t.errcode,description:t.description,totalNum:t.totalNum||0,data:t.data||[],invoiceInfo:t.invoiceInfo||{},queryArgs:void 0===t.queryArgs?f(f({searchOpt:r.searchOpt,dataFrom:O||"",dataFromIndex:b,dataIndex:g},S),{},{name:name}):t.queryArgs})}catch(t){console.error(t)}},d=r.serialNo,p=void 0===d?"":d,v=r.versionNo,y=void 0===v?"":v,m=r.dataIndex,g=void 0===m?0:m,x=r.searchOpt,w=r.dataFromIndex,b=void 0===w?0:w,k=r.dataFrom,O=void 0===k?"":k,S=l(r,u);case 4:return t.next=6,Object(n.kdRequest)({url:e,timeout:7e4,data:f(f({continueFlag:o,serialNo:p,clientType:i,versionNo:y,dataIndex:g,dataFromIndex:b,dataFrom:O},S),{},{searchOpt:x}),method:"POST"});case 6:L=t.sent,s(L),void 0!==L.nextDataFromIndex?L.endFlag?c=!1:(g=L.nextDataIndex||0,b=L.nextDataFromIndex||0,p=L.serialNo,L.queryArgs&&(name=L.queryArgs.name)):c=!1;case 9:if(c){t.next=4;break}case 10:case"end":return t.stop()}}),t)}))),function(t,e){return L.apply(this,arguments)}),queryInvoices:(S=y(h().mark((function t(e,r){var o,i,a,c,u,d,p,v,y,m,g,x,w,b,k,O,S,L,T,I,E,j,N,_,q,C;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(2!==this.fpdkType){t.next=5;break}return t.next=3,this.holiTaxQueryInvoices(e,r);case 3:return o=t.sent,t.abrupt("return",o);case 5:i=r.continueFlag,a=r.clientType,c=r.stepFinish,u=r.passwd,d=void 0===u?this.passwd:u,p=r.ptPasswd,v=void 0===p?this.ptPasswd:p,y=void 0===i||i,g="--",x=r.serialNo,w=void 0===x?"":x,b=r.versionNo,k=void 0===b?"":b,O=r.dataIndex,S=void 0===O?0:O,L=r.searchOpt,T=r.dataFromIndex,I=void 0===T?0:T,E=r.dataFrom,j=void 0===E?"":E,N=l(r,s),_=e.split("?"),q="",2===_.length&&(q=n.urlHandler.urlSearch(_[1]).access_token),C=function(t){if("function"==typeof c)try{c({endFlag:void 0===t.endFlag||t.endFlag,errcode:t.errcode,description:t.description,totalNum:t.totalNum||0,data:t.data||[],invoiceInfo:t.invoiceInfo||{},queryArgs:void 0===t.queryArgs?f(f({searchOpt:r.searchOpt,dataFrom:j||"",dataFromIndex:I,dataIndex:S},N),{},{name:g}):t.queryArgs})}catch(t){console.error(t)}};case 13:return t.next=15,Object(n.kdRequest)({url:e,timeout:7e4,data:f(f({continueFlag:i,serialNo:w,clientType:a,versionNo:k,dataIndex:S,dataFromIndex:I,dataFrom:j},N),{},{searchOpt:L}),method:"POST"});case 15:if("91300"!==(m=t.sent).errcode){t.next=31;break}return A("govToken-"+this.baseTaxNo),P("loginGovInfo-"+this.baseTaxNo,"localStorage"),t.next=21,this.login(d,v,q);case 21:if("0000"===(m=t.sent).errcode){t.next=25;break}return C(m),t.abrupt("break",34);case 25:return t.next=27,Object(n.kdRequest)({url:e,timeout:7e4,data:f(f({continueFlag:i,serialNo:w,clientType:a,versionNo:k,dataIndex:S,dataFromIndex:I,dataFrom:j},N),{},{searchOpt:L}),method:"POST"});case 27:m=t.sent,C(m),t.next=32;break;case 31:C(m);case 32:void 0!==m.nextDataFromIndex?m.endFlag?y=!1:(S=m.nextDataIndex||0,I=m.nextDataFromIndex||0,w=m.serialNo,m.queryArgs&&(g=m.queryArgs.name)):y=!1;case 33:if(y){t.next=13;break}case 34:return t.abrupt("return",m);case 35:case"end":return t.stop()}}),t,this)}))),function(t,e){return S.apply(this,arguments)}),gxInvoices:(O=y(h().mark((function t(e,r){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(2!==this.fpdkType){t.next=6;break}return t.next=3,this.holiCommonRequest(e,r);case 3:n=t.sent,t.next=9;break;case 6:return t.next=8,this.commonRequest(e,r);case 8:n=t.sent;case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return O.apply(this,arguments)}),bdkGxInvoices:(k=y(h().mark((function t(e,r){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(2!==this.fpdkType){t.next=6;break}return t.next=3,this.holiCommonRequest(e,r);case 3:n=t.sent,t.next=9;break;case 6:return t.next=8,this.commonRequest(e,r);case 8:n=t.sent;case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return k.apply(this,arguments)}),_gxConfirmTwo:(b=y(h().mark((function t(e,r){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.commonRequest(e,r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return b.apply(this,arguments)}),gxConfirm:(w=y(h().mark((function t(e){var r,n,o,a,c,u,s,l,d,p,v,y,m,g,x,w,b,k,O,S,L=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=L.length>1&&void 0!==L[1]?L[1]:{},2!==this.fpdkType){t.next=6;break}return t.next=4,this.holiCommonRequest(e,r);case 4:return n=t.sent,t.abrupt("return",n);case 6:if(o=r.sbzt,a=void 0===o?"":o,c=this.loginGovInfo,u=c.cryptType,s=c.alg,!(this.govVersionInt<4e3)){t.next=15;break}return t.next=11,this.commonRequest(e,{sbzt:a});case 11:return l=t.sent,t.abrupt("return",l);case 15:return t.next=17,this.commonRequest(e,{});case 17:if("0000"===(d=t.sent).errcode){t.next=20;break}return t.abrupt("return",d);case 20:if(p=d.data,v=p.tjsjstr,y=void 0===v?"":v,m=p.signKey2,g=void 0===m?"":m,x=p.tjInfo,w=void 0===x?"":x,b=p.taxPeriod,k=void 0===b?"":b,O="",0!=u){t.next=29;break}return t.next=25,i.signDataApi(y+g,this.passwd,!0,s,this.operateUrl);case 25:"0000"===(S=t.sent).errcode&&(O=S.data),t.next=32;break;case 29:return t.next=31,this.diskOperate.signDataApi(y+g,this.passwd,"",4194304,this.operateUrl);case 31:O=t.sent;case 32:if(!(y&&O&&w)){t.next=38;break}return t.next=35,this._gxConfirmTwo(e,f(f({},r),{},{tjsjstr:y,tjsjsign:O,tjInfo:w,taxPeriod:k,password:this.confirmPasswd}));case 35:return t.abrupt("return",t.sent);case 38:return t.abrupt("return",{errcode:"82345",description:"获取签名确认数据异常"});case 39:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)}),jxxDownloadApply:(x=y(h().mark((function t(e,r){var o,i,a,c,u,s,l,d,f,p,v,y,m;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=r.continueFlag,i=r.stepFinish,a=r.passwd,c=void 0===a?this.passwd:a,u=r.ptPasswd,s=void 0===u?this.ptPasswd:u,l=r.searchOpt,f=r.index||0,p=void 0===o||o,v=e.split("?"),y="",2===v.length&&(y=n.urlHandler.urlSearch(v[1]).access_token),m=function(t){if("function"==typeof i)try{i({endFlag:void 0===t.endFlag||t.endFlag,errcode:t.errcode,description:t.description,nextIndex:t.nextIndex||r.index,queryArgs:void 0===t.queryArgs?{searchOpt:r.searchOpt,index:r.index}:t.queryArgs})}catch(t){console.error(t)}};case 7:return t.next=9,Object(n.kdRequest)({url:e,timeout:7e4,data:{continueFlag:o,index:f,searchOpt:l},method:"POST"});case 9:if("91300"!==(d=t.sent).errcode){t.next=25;break}return A("govToken-"+this.baseTaxNo),P("loginGovInfo-"+this.baseTaxNo,"localStorage"),t.next=15,this.login(c,s,y);case 15:if("0000"===(d=t.sent).errcode){t.next=19;break}return m(d),t.abrupt("break",28);case 19:return t.next=21,Object(n.kdRequest)({url:e,timeout:7e4,data:{continueFlag:o,index:f,searchOpt:l},method:"POST"});case 21:d=t.sent,m(d),t.next=26;break;case 25:m(d);case 26:void 0!==d.nextIndex?d.endFlag?p=!1:f=d.nextIndex||0:p=!1;case 27:if(p){t.next=7;break}case 28:return t.abrupt("return",d);case 29:case"end":return t.stop()}}),t,this)}))),function(t,e){return x.apply(this,arguments)}),getDownloadList:(g=y(h().mark((function t(e,r){var n,o,i,a,c,u,s,l,d,f;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.fplx,o=void 0===n?0:n,i=r.sjlx,a=void 0===i?0:i,c=r.sqrqq,u=void 0===c?"":c,s=r.sqrqz,l=void 0===s?"":s,d=r.pageSize,!(this.govVersionInt<4e3)){t.next=3;break}return t.abrupt("return",{errcode:"83333",description:"新版本税局系统才支持该功能, 请等待税局升级后再试"});case 3:return t.next=5,this.commonRequest(e,{fplx:o,sjlx:a,sqrqq:u,sqrqz:l,pageSize:d});case 5:return f=t.sent,t.abrupt("return",f);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return g.apply(this,arguments)}),downloadWithPath:(m=y(h().mark((function t(e,r){var n,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.jymm,!(this.govVersionInt<4e3)){t.next=3;break}return t.abrupt("return",{errcode:"83333",description:"新版本税局系统才支持该功能, 请等待税局升级后再试"});case 3:return t.next=5,this.commonRequest(e,{urlPath:r.urlPath,jymm:n});case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return m.apply(this,arguments)})}}])}));