!function(e,n){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=t(e);function r(e,n,t,o,r,i,c){try{var a=e[i](c),u=a.value}catch(e){return void t(e)}a.done?n(u):Promise.resolve(u).then(o,r)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var c=e.apply(n,t);function a(e){r(c,o,i,a,u,"next",e)}function u(e){r(c,o,i,a,u,"throw",e)}a(void 0)}))}}function c(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=function(){function e(){c(this,e),this.websocket=null,this.CreateConnection=CreateConnection,this.GetDataSources=GetDataSources,this.Acquire=Acquire,this.GetFile=GetFile}var n,t,o;return n=e,(t=[{key:"CreateConnection",value:function(e){var n=this,t=e||"ws://localhost:25972/scan";this.websocket=new WebSocket(t),window.websocket=this.websocket,this.websocket.onopen=function(){OnConnectionOpen()},this.websocket.onclose=function(e){},this.websocket.onmessage=function(e){var n=JSON.parse(e.data);"GetSources"==n.Command?GetSourcesCompleted(n):"Acquire"==n.Command?AcquireDataCompleted(n):"GetFile"==n.Command?GetFileCompleted(n):"GetProductVersion"==n.Command?GetVersionCompleted(n):UnknownCommandCompleted()},this.websocket.onerror=function(e){n.OnConnectionError()}}},{key:"GetDataSources",value:function(){var e=JSON.stringify({Command:"GetSources"});this.websocket.send(e)}},{key:"Acquire",value:function(e,n,t,o,r){var i={Command:"Acquire",ProductName:e,Duplex:n,Color:t,Resolution:o,Format:r},c=JSON.stringify(i);this.websocket.send(c)}},{key:"GetFile",value:function(e){var n={Command:"GetFile",FilePath:e},t=JSON.stringify(n);this.websocket.send(t)}},{key:"GetProductVersion",value:function(){var e={Command:"GetProductVersion",FilePath:filepath},n=JSON.stringify(e);this.websocket.send(n)}},{key:"UnknownCommandCompleted",value:function(){console.log("UnknownCommandCompleted")}}])&&a(n.prototype,t),o&&a(n,o),e}(),f=n.loadJs.syncUse}(async,utils);
