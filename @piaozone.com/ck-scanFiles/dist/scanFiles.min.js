!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ScanFiles=t():e.ScanFiles=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r=n(1),o=n(136);e.exports={scanFilesOld:r.default,scanFiles:o.default}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(3),i=n(9),a=n(132),c=["data"];function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=i.loadJs.syncUse,v=d((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"startScan",function(){var e=l(regeneratorRuntime.mark((function e(t){var o,i,a,s,l,f,d,p,h,v,m,g,y,x,b,w,S,k,I,O,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.data,i=void 0===o?{}:o,a=u(t,c),a.redirectUpload,s=a.filename,l=void 0===s?"file":s,f=a.sourceInfo,d=void 0===f?{sourceName:"",sourceIndex:0}:f,p=a.addUploadProgress,h=void 0===p?function(){}:p,v=a.stepUploadStart,m=void 0===v?function(){}:v,g=a.stepUploadFinish,y=void 0===g?function(){}:g,x=a.uploadFinish,b=void 0===x?function(){}:x,w=a.onConnected,S=void 0===w?function(){}:w,n.sourceInfo=d,n.filename=l,n.onConnected=S,n.addUploadProgress=h,n.stepUploadStart=m,n.stepUploadFinish=y,n.uploadFinish=b,n.data=i,k={API_URL:n.scannerApiUrl},n.scanner=new r.default(k),I=n.sourceInfo.sourceName,O={},j={},I?n.AcquireSync(I,O):n.GetDataSources(j);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p(this,"GetDataSources",(function(e){n.scanner.GetDataSources(n.onGetSourcesCompleted,e)})),p(this,"onGetSourcesCompleted",(function(e,t){0==e.ErrorCode?(n.scannerSources=e.Sources,1==e.Sources.length&&n.AcquireSync(e.Sources[0]),n.onConnected(n.scannerSources),n.debug&&console.log("GetSourcesCompleted",e.Sources)):n.onScanError(e)})),p(this,"AcquireSync",(function(e,t){var r=n.ifDuplexEnabled?1:0;if(n.isSync)n.scanner.AcquireSync(e,n.duplex,n.color,n.resolution,n.format,r,n.onAcquireSyncCompleted,t);else{var o=n.scanner.AcquireAsync(e,n.duplex,n.color,n.resolution,n.format,r);if(n.hasUploadCount=0,n.asyncPathsMap.clear(),n.totalImages=0,0!=o.ErrorCode)return void n.onScanError(o);o.Guid&&(n.timer=setInterval((function(){n.QueryResult(o.Guid)}),n.qureyDelay),n.timer2=setInterval(l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.checkFile(o.Guid);case 1:case"end":return e.stop()}}),e)}))),n.checkDelay))}})),p(this,"onAcquireSyncCompleted",function(){var e=l(regeneratorRuntime.mark((function e(t,r){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0==t.ErrorCode){e.next=3;break}return n.onScanError(t),e.abrupt("return");case 3:n.totalFiles=t.Paths.length,n.otherParams=null,o=0,i=t.Paths.length;case 6:if(!(o<i)){e.next=12;break}return e.next=9,n.GetFileSync(t.Paths[o],r);case 9:o++,e.next=6;break;case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p(this,"GetFileSync",(function(e,t){return new Promise((function(r,o){n.scanner.GetFileSync(e,(function(e,t){if(0===e.ErrorCode){n.fileIndex++;var o=e.Base64String,i=n.getUUId(),a=i+"-"+n.fileIndex+".jpg",c=n.base64ToFile(o,a),u={name:a,index:n.fileIndex,status:"init",id:i,errcode:"0000",description:"success",file:c,localUrl:"data:image/jpg;base64,"+o,qrcodeResult:""};n.fileList.push(u),n.fileIds.push(i),"function"==typeof n.addUploadProgress&&n.addUploadProgress(u),n.fileIndex==n.totalFiles-1&&n.handleStepUploadStart(),r()}else n.onScanError(e)}),t)}))})),p(this,"QueryResult",function(){var e=l(regeneratorRuntime.mark((function e(t){var r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.scanner.QueryResult(t),o=r.Status,i=r.Files,a=r.Data,n.isNext&&i.length&&(n.processFile=i.slice(n.curIndex),n.curIndex+=n.processFile.length,n.isNext=!1),2==o&&(console.log("已上传张数, 总文件数Files",n.hasUploadCount,i.length),n.totalImages=i.length,n.mermoryFilePaths=i,clearInterval(n.timer),a&&(7==a.ErrorCode?n.scanErrorDescription="扫描仪缺纸，请检查！":10==a.ErrorCode&&(n.scanErrorDescription="扫描仪卡纸，请检查！")));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p(this,"checkFile",function(){var e=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isContinue&&n.curIndex<n.mermoryFilePaths.length&&(n.processFile=n.mermoryFilePaths.slice(n.curIndex),n.curIndex+=n.processFile.length),!(0!=n.totalImages&&n.hasUploadCount>=n.totalImages||n.scanErrorDescription&&n.hasUploadCount>=n.totalImages)){e.next=14;break}clearInterval(n.timer2);try{n.uploadFinish({errcode:n.scanErrorDescription?"5000":"0000",description:n.scanErrorDescription||"success",data:{imagesNum:n.hasUploadCount}})}catch(e){console.warn(e)}return n.hasUploadCount=0,n.asyncPathsMap.clear(),n.processFile=[],n.isNext=!0,n.curIndex=0,n.mermoryFilePaths=[],n.scanErrorDescription="",n.scanner.DeleteAcquireFiles(t),console.log("全部上传完成,重置部分数据"),e.abrupt("return");case 14:n.processFile.length&&n.isContinue&&(n.isContinue=!1,0,(r=function(){var e=l(regeneratorRuntime.mark((function e(o){var i,a,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.AwaitGetFileAsyncByPath(t,n.processFile[o]);case 3:if(0===(i=e.sent).ErrorCode){e.next=7;break}return n.onScanError(i),e.abrupt("return");case 7:return n.fileIndex++,a=i.Base64String,c=n.getUUId(),u=c+"-"+n.fileIndex+".jpg",s=n.base64ToFile(a,u),l={name:u,index:n.fileIndex,status:"init",id:c,errcode:"0000",description:"success",file:s,localUrl:"data:image/jpg;base64,"+a,qrcodeResult:""},e.next=15,n.handleAsyncUpload(l,n.processFile[o]);case 15:++o<n.processFile.length?r(o):(n.isNext=!0,n.isContinue=!0),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("上传错误，sdk无响应",e.t0),o<n.processFile.length?r(o):(n.isNext=!0,n.isContinue=!0);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}())(0));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p(this,"AwaitGetFileAsyncByPath",(function(e,t){return new Promise((function(r,o){r(n.scanner.GetFileAsyncByPath(e,t))}))})),p(this,"initScanner",(function(){return new Promise((function(e){window.CreateConnection?e({errcode:"0000",description:"success"}):(0==n.scanFileStaticJs.length&&e({errcode:"1404",description:"缺少JsScanner.min.js文件"}),h(n.scanFileStaticJs,(function(){window.CreateConnection?e({errcode:"0000",description:"success"}):e({errcode:"initError",description:"initial fail"})})))}))})),p(this,"GetSourcesCompleted",(function(e){0===e.ErrorCode?(n.scannerSources=e.Sources,1==e.Sources.length&&n.scanner.Acquire(e.Sources[0],n.duplex,n.color,n.resolution,n.format),n.onConnected(n.scannerSources),n.debug&&console.log("GetSourcesCompleted",e.Sources)):n.onScanError(e)})),p(this,"AcquireDataCompleted",(function(e){if(0===e.ErrorCode){n.totalFiles=e.Paths.length;for(var t=0,r=e.Paths.length;t<r;t++)n.scanner.GetFile(e.Paths[t]);n.debug&&console.log("AcquireDataCompleted",e.Paths)}else n.onScanError(e)})),p(this,"GetAsyncFileCompleted",(function(e,t){return new Promise(function(){var r=l(regeneratorRuntime.mark((function r(o,i){var a,c,u,s,l,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0===e.ErrorCode){r.next=3;break}return n.onScanError(e),r.abrupt("return");case 3:if(n.fileIndex++,a=e.Base64String,c=n.getUUId(),u=c+"-"+n.fileIndex+".jpg",s=n.base64ToFile(a,u),l={name:u,index:n.fileIndex,status:"init",id:c,errcode:"0000",description:"success",file:s,localUrl:"data:image/jpg;base64,"+a,qrcodeResult:""},f=t.filePath,!n.asyncPathsMap.has(f)||0!=n.asyncPathsMap.get(f)){r.next=15;break}return n.asyncPathsMap.set(f,1),r.next=14,n.handleAsyncUpload(l,f);case 14:o();case 15:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())})),p(this,"GetFileCompleted",function(){var e=l(regeneratorRuntime.mark((function e(t,r){var o,i,a,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.ErrorCode){e.next=3;break}return n.onScanError(t),e.abrupt("return");case 3:if(n.fileIndex++,o=t.Base64String,i=n.getUUId(),a=i+"-"+n.fileIndex+".jpg",c=n.base64ToFile(o,a),u={name:a,index:n.fileIndex,status:"init",id:i,errcode:"0000",description:"success",file:c,localUrl:"data:image/jpg;base64,"+o,qrcodeResult:""},!n.isSync){e.next=16;break}n.fileList.push(u),n.fileIds.push(i),"function"==typeof n.addUploadProgress&&n.addUploadProgress(u),n.fileIndex==n.totalFiles-1&&n.handleStepUploadStart(),e.next=21;break;case 16:if(s=r.filePath,!n.asyncPathsMap.has(s)||0!=n.asyncPathsMap.get(s)){e.next=21;break}return n.asyncPathsMap.set(s,1),e.next=21,n.handleAsyncUpload(u,s);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p(this,"GetVersionCompleted",(function(e){return e})),p(this,"setDuplexEnabled",(function(e){e?(n.ifDuplexEnabled=!0,n.duplex=1):(n.ifDuplexEnabled=!1,n.duplex=0)})),p(this,"setQrcodeRecognize",(function(e){n.needRegonizeQr=e})),p(this,"setDiscardBlankpages",(function(){return!1})),p(this,"scannerSetting",(function(e){var t=e.color,r=e.resolution,o=e.format;n.color=null!=t?t:n.color,n.resolution=null!=r?r:n.resolution,n.format=null!=o?o:n.format})),p(this,"getUUId",(function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))})),p(this,"base64ToFile",(function(e,t){var r=n.dataURLtoBlob(e),o=i.tools.blobToFile(r,t);return o||n.blobToFile(r,t)})),p(this,"dataURLtoBlob",(function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n);n--;)r[n]=t.charCodeAt(n);return new Blob([r],{type:"image/jpeg"})})),p(this,"blobToFile",(function(e,t){var n=new Date;return e.lastModified=n.getTime(),e.lastModifiedDate=n,e.name=t,e})),p(this,"handleAsyncUpload",(function(e,t){return console.log("handleAsyncUpload"),new Promise(function(){var t=l(regeneratorRuntime.mark((function t(r,o){var i,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=!0,a={},t.next=4,n.addUploadProgress(e);case 4:return t.prev=4,t.next=7,n.stepUploadStart(e);case 7:if(t.t0=t.sent,t.t0){t.next=10;break}t.t0={};case 10:a=t.t0,n.debug&&console.log("stepUploadStart",a),t.next=17;break;case 14:t.prev=14,t.t1=t.catch(4),console.error("stepUploadStart处理失败：",t.t1);case 17:if(!i){t.next=28;break}return t.next=20,n.handlerUpload(a,e);case 20:if(c=t.sent,a.otherData&&a.otherData.stopStepUpload&&(i=!1),!c){t.next=25;break}return t.next=25,n.handlerStepUploadFinish(c,e,a);case 25:console.log("当前上传成功",n.hasUploadCount),n.hasUploadCount++,r();case 28:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e,n){return t.apply(this,arguments)}}())})),p(this,"handleStepUploadStart",(function(){var e=!0;n.debug&&console.log("fileList",n.fileList),Object(o.mapLimit)(n.fileList,n.limit,function(){var t=l(regeneratorRuntime.mark((function t(r,o){var i,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={},t.prev=1,t.next=4,n.stepUploadStart(r);case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:i=t.t0,n.debug&&console.log("stepUploadStart",i),t.next=14;break;case 11:t.prev=11,t.t1=t.catch(1),console.error("stepUploadStart处理失败：",t.t1);case 14:if(!e){t.next=22;break}return t.next=17,n.handlerUpload(i,r);case 17:if(a=t.sent,i.otherData&&i.otherData.stopStepUpload&&(e=!1),!a){t.next=22;break}return t.next=22,n.handlerStepUploadFinish(a,r,i);case 22:if(c=n.fileIds.findIndex((function(e){return e==r.id})),n.fileIds.splice(c,1),0==n.fileIds.length){try{n.uploadFinish({errcode:"0000",description:"success",data:{imagesNum:n.fileList.length}})}catch(e){console.warn(e)}n.fileIndex=-1,n.fileList=[],console.log("全部上传完成,重置部分数据")}o(null,{});case 26:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,n){return t.apply(this,arguments)}}(),(function(e){console.log("扫描仪并发上传错误：",e)}))})),p(this,"handlerUpload",function(){var e=l(regeneratorRuntime.mark((function e(t,r){var o,c,u,s,f,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new FormData,e.next=3,Object(a.compressImgFile)(r.file,n.compressOpt);case 3:if(c=e.sent,u=r.file,"0000"===c.errcode&&(u=c.file),o.append(n.filename,u,r.file.name),s=Object.assign(n.data,t.otherData))for(f in s)Object.hasOwnProperty.call(s,f)&&(d=s[f],o.append(f,d));return p={method:"post",data:o,contentType:"file",headers:n.headers},e.abrupt("return",new Promise(function(){var e=l(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.pwyFetch)(n.uploadUrl,p);case 2:o=e.sent,t(o);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p(this,"handlerStepUploadFinish",function(){var e=l(regeneratorRuntime.mark((function e(t,r,o){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.otherData,a=void 0===i?{}:i,e.prev=1,e.next=4,n.stepUploadFinish(t,r,a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("stepUploadFinish处理失败：",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n,r){return e.apply(this,arguments)}}()),p(this,"AcquireImage",(function(e){var t=n.ifDuplexEnabled?1:0;if(n.isSync)n.scanner.AcquireSync(e,n.duplex,n.color,n.resolution,n.format,t,n.onAcquireSyncCompleted,null);else{var r=n.scanner.AcquireAsync(e,n.duplex,n.color,n.resolution,n.format,t);if(n.hasUploadCount=0,n.totalImages=0,n.asyncPathsMap.clear(),0!=r.ErrorCode)return void n.onScanError(r);r.Guid&&(n.timer=setInterval((function(){n.QueryResult(r.Guid)}),n.qureyDelay),n.timer2=setInterval(l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.checkFile(r.Guid);case 1:case"end":return e.stop()}}),e)}))),n.checkDelay))}})),p(this,"onScanError",(function(e){var t={errcode:e.ErrorCode,description:e.ErrorDescription,data:e.data||""};"4000"==e.ErrorCode&&(t.errcode="0002",t.description="请先安装JsScanner.msi程序",t.data=n.downloadUrl);var r=t.errcode,o=t.description,i=t.data;"function"==typeof n.uploadFinish?n.uploadFinish({errcode:r,description:o,data:i}):n.onError({errcode:r,description:o})})),p(this,"getSources",(function(){var e=JSON.parse(localStorage.scanSources);return e||[]})),this.options=t,this.duplex=t.duplex||0,this.color=t.color||1,this.resolution=t.resolution||300,this.format=t.format||"jpg",this.staticUrl=t.staticUrl||"",this.needRegonizeQr=t.needRegonizeQr||!1,this.uploadUrl=t.uploadUrl,this.headers=t.headers,this.locale=t.locale,this.limit=t.limit||2,this.ifDuplexEnabled=t.ifDuplexEnabled,this.version=t.version,this.isAutoSelectSource=t.isAutoSelectSource,this.debug=t.debug||!1,this.qureyDelay=t.qureyDelay||1e3,this.checkDelay=t.checkDelay||1e3,this.scanner=null,this.connectStatus=null,this.scannerSources=[],this.fileInfo={},this.filename="",this.data=null,this.fileIndex=-1,this.fileList=[],this.totalFiles=0,this.fileIds=[],this.scanFileStaticJs=t.scanFileStaticJs||["".concat(this.staticUrl,"/static/gallery/scanner-ruizhen/JsScanner-min.js")],this.scannerApiUrl=t.scannerApiUrl||"http://127.0.0.1:25972/jsscaner/api/v1/command",this.downloadUrl=t.downloadUrl||"".concat(this.staticUrl,"/static/gallery/scanner-ruizhen/JsScanner.msi"),this.socketUrl="",this.needRegonizeQr=t.needRegonizeQr,this.onError=t.onError,this.isSync=t.isSync||!1,this.hasUploadCount=0,this.timer=null,this.timer2=null,this.asyncPathsMap=new Map,this.hasFinished=0,this.mermoryFilePaths=[],this.totalImages=0,this.curIndex=0,this.processFile=[],this.isNext=!0,this.isContinue=!0;var s={};t.fileQuality&&(s.fileQuality=t.fileQuality),t.fileLimitWidth&&(s.fileLimitWidth=t.fileLimitWidth),t.fileLimitHeight&&(s.fileLimitHeight=t.fileLimitHeight),t.fileLimitPixel&&(s.fileLimitPixel=t.fileLimitPixel),t.fileLimitSize&&(s.fileLimitSize=t.fileLimitSize),this.compressOpt=s,this.needRegonizeQr&&this.scanFileStaticJs.push(staticUrl+"/static/gallery/llqrcode.min.js")}));t.default=v},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.API_URL=t.API_URL}var t,n,o;return t=e,(n=[{key:"PostHttpRequest",value:function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){4==r.readyState&&200==r.status&&t(JSON.parse(r.responseText),n)},r.open("POST",this.API_URL),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.send(e),r.onerror=function(e){t({Command:"RequestError",ErrorType:"RequestError",ErrorCode:"4000",ErrorDescription:"request error"},n)}}},{key:"PostHttpRequestSync",value:function(e){var t=new XMLHttpRequest;return t.open("POST",this.API_URL,!1),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send(e),JSON.parse(t.responseText)}},{key:"GetDataSources",value:function(e,t){this.PostHttpRequest(JSON.stringify({Command:"GetSources"}),e,t)}},{key:"AcquireSync",value:function(e,t,n,r,o,i,a,c){i={Command:"Acquire",ProductName:e,Duplex:t,Color:n,Resolution:r,Format:o,Blank:i},this.PostHttpRequest(JSON.stringify(i),a,c)}},{key:"AcquireAsync",value:function(e,t,n,r,o,i,a,c){return i={Command:"AcquireAsync",ProductName:e,Duplex:t,Color:n,Resolution:r,Format:o,Blank:i},this.PostHttpRequestSync(JSON.stringify(i))}},{key:"GetFileSync",value:function(e,t,n){e={Command:"GetFileSync",FilePath:e},this.PostHttpRequest(JSON.stringify(e),t,n)}},{key:"GetFileAsyncByIndex",value:function(e,t){return t={Command:"GetFileAsyncByIndex",Guid:e,Index:t},this.PostHttpRequestSync(JSON.stringify(t))}},{key:"GetFileAsyncByPath",value:function(e,t){return t={Command:"GetFileAsyncByPath",Guid:e,FilePath:t},this.PostHttpRequestSync(JSON.stringify(t))}},{key:"GetProductVersion",value:function(){return this.PostHttpRequestSync(JSON.stringify({Command:"GetProductVersion"}))}},{key:"QueryResult",value:function(e){return e={Command:"QueryResult",Guid:e},this.PostHttpRequestSync(JSON.stringify(e))}},{key:"GetProductInfo",value:function(e,t,n){e={Command:"GetProductInfo",ProductName:e},this.PostHttpRequest(JSON.stringify(e),t,n)}},{key:"DeleteAcquireFiles",value:function(e){return e={Command:"DeleteAcquireFiles",Guid:e},this.PostHttpRequestSync(JSON.stringify(e))}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=o},function(e,t,n){(function(e,n,r,o){(function(t){"use strict";function i(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),o=0;o<n;o++)r[o]=e[t+o];return r}var a=function(e){var t=i(arguments,1);return function(){var n=i(arguments);return e.apply(null,t.concat(n))}},c=function(e){return function(){var t=i(arguments),n=t.pop();e.call(this,t,n)}};function u(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var s="function"==typeof e&&e,l="object"==typeof n&&"function"==typeof n.nextTick;function f(e){setTimeout(e,0)}function d(e){return function(t){var n=i(arguments,1);e((function(){t.apply(null,n)}))}}var p=d(s?e:l?n.nextTick:f);function h(e){return c((function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}u(r)&&"function"==typeof r.then?r.then((function(e){v(n,null,e)}),(function(e){v(n,e.message?e:new Error(e))})):n(null,r)}))}function v(e,t,n){try{e(t,n)}catch(e){p(m,e)}}function m(e){throw e}var g="function"==typeof Symbol;function y(e){return g&&"AsyncFunction"===e[Symbol.toStringTag]}function x(e){return y(e)?h(e):e}function b(e){return function(t){var n=i(arguments,1),r=c((function(n,r){var o=this;return e(t,(function(e,t){x(e).apply(o,n.concat(t))}),r)}));return n.length?r.apply(this,n):r}}var w="object"==typeof r&&r&&r.Object===Object&&r,S="object"==typeof self&&self&&self.Object===Object&&self,k=w||S||Function("return this")(),I=k.Symbol,O=Object.prototype,j=O.hasOwnProperty,E=O.toString,R=I?I.toStringTag:void 0,P=Object.prototype.toString,T=I?I.toStringTag:void 0;function L(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":T&&T in Object(e)?function(e){var t=j.call(e,R),n=e[R];try{e[R]=void 0;var r=!0}catch(e){}var o=E.call(e);return r&&(t?e[R]=n:delete e[R]),o}(e):function(e){return P.call(e)}(e)}function C(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function F(e){return null!=e&&C(e.length)&&!function(e){if(!u(e))return!1;var t=L(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}(e)}var _={};function D(){}function A(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var q="function"==typeof Symbol&&Symbol.iterator;function U(e){return null!=e&&"object"==typeof e}function M(e){return U(e)&&"[object Arguments]"==L(e)}var N=Object.prototype,B=N.hasOwnProperty,G=N.propertyIsEnumerable,H=M(function(){return arguments}())?M:function(e){return U(e)&&B.call(e,"callee")&&!G.call(e,"callee")},z=Array.isArray,W="object"==typeof t&&t&&!t.nodeType&&t,J=W&&"object"==typeof o&&o&&!o.nodeType&&o,Q=J&&J.exports===W?k.Buffer:void 0,$=(Q?Q.isBuffer:void 0)||function(){return!1},V=/^(?:0|[1-9]\d*)$/;function X(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&V.test(e))&&e>-1&&e%1==0&&e<t}var Y={};Y["[object Float32Array]"]=Y["[object Float64Array]"]=Y["[object Int8Array]"]=Y["[object Int16Array]"]=Y["[object Int32Array]"]=Y["[object Uint8Array]"]=Y["[object Uint8ClampedArray]"]=Y["[object Uint16Array]"]=Y["[object Uint32Array]"]=!0,Y["[object Arguments]"]=Y["[object Array]"]=Y["[object ArrayBuffer]"]=Y["[object Boolean]"]=Y["[object DataView]"]=Y["[object Date]"]=Y["[object Error]"]=Y["[object Function]"]=Y["[object Map]"]=Y["[object Number]"]=Y["[object Object]"]=Y["[object RegExp]"]=Y["[object Set]"]=Y["[object String]"]=Y["[object WeakMap]"]=!1;var K,Z="object"==typeof t&&t&&!t.nodeType&&t,ee=Z&&"object"==typeof o&&o&&!o.nodeType&&o,te=ee&&ee.exports===Z&&w.process,ne=function(){try{var e=ee&&ee.require&&ee.require("util").types;return e||te&&te.binding&&te.binding("util")}catch(e){}}(),re=ne&&ne.isTypedArray,oe=re?(K=re,function(e){return K(e)}):function(e){return U(e)&&C(e.length)&&!!Y[L(e)]},ie=Object.prototype.hasOwnProperty;function ae(e,t){var n=z(e),r=!n&&H(e),o=!n&&!r&&$(e),i=!n&&!r&&!o&&oe(e),a=n||r||o||i,c=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=c.length;for(var s in e)!t&&!ie.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||X(s,u))||c.push(s);return c}var ce=Object.prototype,ue=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),se=Object.prototype.hasOwnProperty;function le(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||ce))return ue(e);var t,n,r=[];for(var o in Object(e))se.call(e,o)&&"constructor"!=o&&r.push(o);return r}function fe(e){return F(e)?ae(e):le(e)}function de(e){if(F(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t,n,r,o,i=function(e){return q&&e[q]&&e[q]()}(e);return i?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(i):(n=fe(t=e),r=-1,o=n.length,function(){var e=n[++r];return r<o?{value:t[e],key:e}:null})}function pe(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function he(e){return function(t,n,r){if(r=A(r||D),e<=0||!t)return r(null);var o=de(t),i=!1,a=0,c=!1;function u(e,t){if(a-=1,e)i=!0,r(e);else{if(t===_||i&&a<=0)return i=!0,r(null);c||s()}}function s(){for(c=!0;a<e&&!i;){var t=o();if(null===t)return i=!0,void(a<=0&&r(null));a+=1,n(t.value,t.key,pe(u))}c=!1}s()}}function ve(e,t,n,r){he(t)(e,x(n),r)}function me(e,t){return function(n,r,o){return e(n,t,r,o)}}function ge(e,t,n){n=A(n||D);var r=0,o=0,i=e.length;function a(e,t){e?n(e):++o!==i&&t!==_||n(null)}for(0===i&&n(null);r<i;r++)t(e[r],r,pe(a))}var ye=me(ve,1/0),xe=function(e,t,n){(F(e)?ge:ye)(e,x(t),n)};function be(e){return function(t,n,r){return e(xe,t,x(n),r)}}function we(e,t,n,r){r=r||D,t=t||[];var o=[],i=0,a=x(n);e(t,(function(e,t,n){var r=i++;a(e,(function(e,t){o[r]=t,n(e)}))}),(function(e){r(e,o)}))}var Se=be(we),ke=b(Se);function Ie(e){return function(t,n,r,o){return e(he(n),t,x(r),o)}}var Oe=Ie(we),je=me(Oe,1),Ee=b(je);function Re(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var Pe,Te=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var c=i[Pe?a:++r];if(!1===t(o[c],c,o))break}return e};function Le(e,t){return e&&Te(e,t,fe)}function Ce(e){return e!=e}function Fe(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,Ce,n)}var _e=function(e,t,n){"function"==typeof t&&(n=t,t=null),n=A(n||D);var r=fe(e).length;if(!r)return n(null);t||(t=r);var o={},a=0,c=!1,u=Object.create(null),s=[],l=[],f={};function d(e,t){s.push((function(){!function(e,t){if(!c){var r=pe((function(t,r){if(a--,arguments.length>2&&(r=i(arguments,1)),t){var s={};Le(o,(function(e,t){s[t]=e})),s[e]=r,c=!0,u=Object.create(null),n(t,s)}else o[e]=r,h(e)}));a++;var s=x(t[t.length-1]);t.length>1?s(o,r):s(r)}}(e,t)}))}function p(){if(0===s.length&&0===a)return n(null,o);for(;s.length&&a<t;)s.shift()()}function h(e){Re(u[e]||[],(function(e){e()})),p()}function v(t){var n=[];return Le(e,(function(e,r){z(e)&&Fe(e,t,0)>=0&&n.push(r)})),n}Le(e,(function(t,n){if(!z(t))return d(n,[t]),void l.push(n);var r=t.slice(0,t.length-1),o=r.length;if(0===o)return d(n,t),void l.push(n);f[n]=o,Re(r,(function(i){if(!e[i])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+i+"` in "+r.join(", "));var a,c,s;c=function(){0==--o&&d(n,t)},(s=u[a=i])||(s=u[a]=[]),s.push(c)}))})),function(){for(var e,t=0;l.length;)e=l.pop(),t++,Re(v(e),(function(e){0==--f[e]&&l.push(e)}));if(t!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),p()};function De(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Ae=I?I.prototype:void 0,qe=Ae?Ae.toString:void 0;function Ue(e){if("string"==typeof e)return e;if(z(e))return De(e,Ue)+"";if(function(e){return"symbol"==typeof e||U(e)&&"[object Symbol]"==L(e)}(e))return qe?qe.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Me(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}(e,t,n)}var Ne=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Be="[\\ud800-\\udfff]",Ge="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",He="\\ud83c[\\udffb-\\udfff]",ze="[^\\ud800-\\udfff]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",Je="[\\ud800-\\udbff][\\udc00-\\udfff]",Qe="(?:"+Ge+"|"+He+")?",$e="[\\ufe0e\\ufe0f]?"+Qe+"(?:\\u200d(?:"+[ze,We,Je].join("|")+")[\\ufe0e\\ufe0f]?"+Qe+")*",Ve="(?:"+[ze+Ge+"?",Ge,We,Je,Be].join("|")+")",Xe=RegExp(He+"(?="+He+")|"+Ve+$e,"g");function Ye(e){return function(e){return Ne.test(e)}(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.split("")}(e)}var Ke=/^\s+|\s+$/g;function Ze(e,t,n){var r;if((e=null==(r=e)?"":Ue(r))&&(n||void 0===t))return e.replace(Ke,"");if(!e||!(t=Ue(t)))return e;var o=Ye(e),i=Ye(t);return Me(o,function(e,t){for(var n=-1,r=e.length;++n<r&&Fe(t,e[n],0)>-1;);return n}(o,i),function(e,t){for(var n=e.length;n--&&Fe(t,e[n],0)>-1;);return n}(o,i)+1).join("")}var et=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,tt=/,/,nt=/(=.+)?(\s*)$/,rt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function ot(e,t){var n={};Le(e,(function(e,t){var r,o=y(e),i=!o&&1===e.length||o&&0===e.length;if(z(e))r=e.slice(0,-1),e=e[e.length-1],n[t]=r.concat(r.length>0?a:e);else if(i)n[t]=e;else{if(r=function(e){return e=(e=(e=(e=e.toString().replace(rt,"")).match(et)[2].replace(" ",""))?e.split(tt):[]).map((function(e){return Ze(e.replace(nt,""))}))}(e),0===e.length&&!o&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");o||r.pop(),n[t]=r.concat(a)}function a(t,n){var o=De(r,(function(e){return t[e]}));o.push(n),x(e).apply(null,o)}})),_e(n,t)}function it(){this.head=this.tail=null,this.length=0}function at(e,t){e.length=1,e.head=e.tail=t}function ct(e,t,n){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=x(e),o=0,i=[],a=!1;function c(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(l.started=!0,z(e)||(e=[e]),0===e.length&&l.idle())return p((function(){l.drain()}));for(var r=0,o=e.length;r<o;r++){var i={data:e[r],callback:n||D};t?l._tasks.unshift(i):l._tasks.push(i)}a||(a=!0,p((function(){a=!1,l.process()})))}function u(e){return function(t){o-=1;for(var n=0,r=e.length;n<r;n++){var a=e[n],c=Fe(i,a,0);0===c?i.shift():c>0&&i.splice(c,1),a.callback.apply(a,arguments),null!=t&&l.error(t,a.data)}o<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}}var s=!1,l={_tasks:new it,concurrency:t,payload:n,saturated:D,unsaturated:D,buffer:t/4,empty:D,drain:D,error:D,started:!1,paused:!1,push:function(e,t){c(e,!1,t)},kill:function(){l.drain=D,l._tasks.empty()},unshift:function(e,t){c(e,!0,t)},remove:function(e){l._tasks.remove(e)},process:function(){if(!s){for(s=!0;!l.paused&&o<l.concurrency&&l._tasks.length;){var e=[],t=[],n=l._tasks.length;l.payload&&(n=Math.min(n,l.payload));for(var a=0;a<n;a++){var c=l._tasks.shift();e.push(c),i.push(c),t.push(c.data)}o+=1,0===l._tasks.length&&l.empty(),o===l.concurrency&&l.saturated();var f=pe(u(e));r(t,f)}s=!1}},length:function(){return l._tasks.length},running:function(){return o},workersList:function(){return i},idle:function(){return l._tasks.length+o===0},pause:function(){l.paused=!0},resume:function(){!1!==l.paused&&(l.paused=!1,p(l.process))}};return l}function ut(e,t){return ct(e,1,t)}it.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},it.prototype.empty=function(){for(;this.head;)this.shift();return this},it.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},it.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},it.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):at(this,e)},it.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):at(this,e)},it.prototype.shift=function(){return this.head&&this.removeLink(this.head)},it.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},it.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},it.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var st=me(ve,1);function lt(e,t,n,r){r=A(r||D);var o=x(n);st(e,(function(e,n,r){o(t,e,(function(e,n){t=n,r(e)}))}),(function(e){r(e,t)}))}function ft(){var e=De(arguments,x);return function(){var t=i(arguments),n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=D,lt(e,t,(function(e,t,r){t.apply(n,e.concat((function(e){var t=i(arguments,1);r(e,t)})))}),(function(e,t){r.apply(n,[e].concat(t))}))}}var dt=function(){return ft.apply(null,i(arguments).reverse())},pt=Array.prototype.concat,ht=function(e,t,n,r){r=r||D;var o=x(n);Oe(e,t,(function(e,t){o(e,(function(e){return e?t(e):t(null,i(arguments,1))}))}),(function(e,t){for(var n=[],o=0;o<t.length;o++)t[o]&&(n=pt.apply(n,t[o]));return r(e,n)}))},vt=me(ht,1/0),mt=me(ht,1),gt=function(){var e=i(arguments),t=[null].concat(e);return function(){var e=arguments[arguments.length-1];return e.apply(this,t)}};function yt(e){return e}function xt(e,t){return function(n,r,o,i){i=i||D;var a,c=!1;n(r,(function(n,r,i){o(n,(function(r,o){r?i(r):e(o)&&!a?(c=!0,a=t(!0,n),i(null,_)):i()}))}),(function(e){e?i(e):i(null,c?a:t(!1))}))}}function bt(e,t){return t}var wt=be(xt(yt,bt)),St=Ie(xt(yt,bt)),kt=me(St,1);function It(e){return function(t){var n=i(arguments,1);n.push((function(t){var n=i(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&Re(n,(function(t){console[e](t)})))})),x(t).apply(null,n)}}var Ot=It("dir");function jt(e,t,n){n=pe(n||D);var r=x(e),o=x(t);function a(e){if(e)return n(e);var t=i(arguments,1);t.push(c),o.apply(this,t)}function c(e,t){return e?n(e):t?void r(a):n(null)}c(null,!0)}function Et(e,t,n){n=pe(n||D);var r=x(e),o=function(e){if(e)return n(e);var a=i(arguments,1);if(t.apply(this,a))return r(o);n.apply(null,[null].concat(a))};r(o)}function Rt(e,t,n){Et(e,(function(){return!t.apply(this,arguments)}),n)}function Pt(e,t,n){n=pe(n||D);var r=x(t),o=x(e);function i(e){if(e)return n(e);o(a)}function a(e,t){return e?n(e):t?void r(i):n(null)}o(a)}function Tt(e){return function(t,n,r){return e(t,r)}}function Lt(e,t,n){xe(e,Tt(x(t)),n)}function Ct(e,t,n,r){he(t)(e,Tt(x(n)),r)}var Ft=me(Ct,1);function _t(e){return y(e)?e:c((function(t,n){var r=!0;t.push((function(){var e=arguments;r?p((function(){n.apply(null,e)})):n.apply(null,e)})),e.apply(this,t),r=!1}))}function Dt(e){return!e}var At=be(xt(Dt,Dt)),qt=Ie(xt(Dt,Dt)),Ut=me(qt,1);function Mt(e){return function(t){return null==t?void 0:t[e]}}function Nt(e,t,n,r){var o=new Array(t.length);e(t,(function(e,t,r){n(e,(function(e,n){o[t]=!!n,r(e)}))}),(function(e){if(e)return r(e);for(var n=[],i=0;i<t.length;i++)o[i]&&n.push(t[i]);r(null,n)}))}function Bt(e,t,n,r){var o=[];e(t,(function(e,t,r){n(e,(function(n,i){n?r(n):(i&&o.push({index:t,value:e}),r())}))}),(function(e){e?r(e):r(null,De(o.sort((function(e,t){return e.index-t.index})),Mt("value")))}))}function Gt(e,t,n,r){(F(t)?Nt:Bt)(e,t,x(n),r||D)}var Ht=be(Gt),zt=Ie(Gt),Wt=me(zt,1);function Jt(e,t){var n=pe(t||D),r=x(_t(e));!function e(t){if(t)return n(t);r(e)}()}var Qt=function(e,t,n,r){r=r||D;var o=x(n);Oe(e,t,(function(e,t){o(e,(function(n,r){return n?t(n):t(null,{key:r,val:e})}))}),(function(e,t){for(var n={},o=Object.prototype.hasOwnProperty,i=0;i<t.length;i++)if(t[i]){var a=t[i].key,c=t[i].val;o.call(n,a)?n[a].push(c):n[a]=[c]}return r(e,n)}))},$t=me(Qt,1/0),Vt=me(Qt,1),Xt=It("log");function Yt(e,t,n,r){r=A(r||D);var o={},i=x(n);ve(e,t,(function(e,t,n){i(e,t,(function(e,r){if(e)return n(e);o[t]=r,n()}))}),(function(e){r(e,o)}))}var Kt=me(Yt,1/0),Zt=me(Yt,1);function en(e,t){return t in e}function tn(e,t){var n=Object.create(null),r=Object.create(null);t=t||yt;var o=x(e),a=c((function(e,a){var c=t.apply(null,e);en(n,c)?p((function(){a.apply(null,n[c])})):en(r,c)?r[c].push(a):(r[c]=[a],o.apply(null,e.concat((function(){var e=i(arguments);n[c]=e;var t=r[c];delete r[c];for(var o=0,a=t.length;o<a;o++)t[o].apply(null,e)}))))}));return a.memo=n,a.unmemoized=e,a}var nn=d(l?n.nextTick:s?e:f);function rn(e,t,n){n=n||D;var r=F(t)?[]:{};e(t,(function(e,t,n){x(e)((function(e,o){arguments.length>2&&(o=i(arguments,1)),r[t]=o,n(e)}))}),(function(e){n(e,r)}))}function on(e,t){rn(xe,e,t)}function an(e,t,n){rn(he(t),e,n)}var cn=function(e,t){var n=x(e);return ct((function(e,t){n(e[0],t)}),t,1)},un=function(e,t){var n=cn(e,t);return n.push=function(e,t,r){if(null==r&&(r=D),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,z(e)||(e=[e]),0===e.length)return p((function(){n.drain()}));t=t||0;for(var o=n._tasks.head;o&&t>=o.priority;)o=o.next;for(var i=0,a=e.length;i<a;i++){var c={data:e[i],priority:t,callback:r};o?n._tasks.insertBefore(o,c):n._tasks.push(c)}p(n.process)},delete n.unshift,n};function sn(e,t){if(t=A(t||D),!z(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)x(e[n])(t)}function ln(e,t,n,r){lt(i(e).reverse(),t,n,r)}function fn(e){var t=x(e);return c((function(e,n){return e.push((function(e,t){var r;e?n(null,{error:e}):(r=arguments.length<=2?t:i(arguments,1),n(null,{value:r}))})),t.apply(this,e)}))}function dn(e){var t;return z(e)?t=De(e,fn):(t={},Le(e,(function(e,n){t[n]=fn.call(this,e)}))),t}function pn(e,t,n,r){Gt(e,t,(function(e,t){n(e,(function(e,n){t(e,!n)}))}),r)}var hn=be(pn),vn=Ie(pn),mn=me(vn,1);function gn(e){return function(){return e}}function yn(e,t,n){var r=5,o=0,i={times:r,intervalFunc:gn(o)};function a(e,t){if("object"==typeof t)e.times=+t.times||r,e.intervalFunc="function"==typeof t.interval?t.interval:gn(+t.interval||o),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||r}}if(arguments.length<3&&"function"==typeof e?(n=t||D,t=e):(a(i,e),n=n||D),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var c=x(t),u=1;function s(){c((function(e){e&&u++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(e))?setTimeout(s,i.intervalFunc(u)):n.apply(null,arguments)}))}s()}var xn=function(e,t){t||(t=e,e=null);var n=x(t);return c((function(t,r){function o(e){n.apply(null,t.concat(e))}e?yn(e,o,r):yn(o,r)}))};function bn(e,t){rn(st,e,t)}var wn=be(xt(Boolean,yt)),Sn=Ie(xt(Boolean,yt)),kn=me(Sn,1);function In(e,t,n){var r=x(t);function o(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}Se(e,(function(e,t){r(e,(function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})}))}),(function(e,t){if(e)return n(e);n(null,De(t.sort(o),Mt("value")))}))}function On(e,t,n){var r=x(e);return c((function(o,i){var a,c=!1;o.push((function(){c||(i.apply(null,arguments),clearTimeout(a))})),a=setTimeout((function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),c=!0,i(r)}),t),r.apply(null,o)}))}var jn=Math.ceil,En=Math.max;function Rn(e,t,n,r){var o=x(n);Oe(function(e,t,n,r){for(var o=-1,i=En(jn((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}(0,e,1),t,o,r)}var Pn=me(Rn,1/0),Tn=me(Rn,1);function Ln(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=z(e)?[]:{}),r=A(r||D);var o=x(n);xe(e,(function(e,n,r){o(t,e,n,r)}),(function(e){r(e,t)}))}function Cn(e,t){var n,r=null;t=t||D,Ft(e,(function(e,t){x(e)((function(e,o){n=arguments.length>2?i(arguments,1):o,r=e,t(!e)}))}),(function(){t(r,n)}))}function Fn(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function _n(e,t,n){n=pe(n||D);var r=x(t);if(!e())return n(null);var o=function(t){if(t)return n(t);if(e())return r(o);var a=i(arguments,1);n.apply(null,[null].concat(a))};r(o)}function Dn(e,t,n){_n((function(){return!e.apply(this,arguments)}),t,n)}var An=function(e,t){if(t=A(t||D),!z(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){var r=x(e[n++]);t.push(pe(o)),r.apply(null,t)}function o(o){if(o||n===e.length)return t.apply(null,arguments);r(i(arguments,1))}r([])},qn={apply:a,applyEach:ke,applyEachSeries:Ee,asyncify:h,auto:_e,autoInject:ot,cargo:ut,compose:dt,concat:vt,concatLimit:ht,concatSeries:mt,constant:gt,detect:wt,detectLimit:St,detectSeries:kt,dir:Ot,doDuring:jt,doUntil:Rt,doWhilst:Et,during:Pt,each:Lt,eachLimit:Ct,eachOf:xe,eachOfLimit:ve,eachOfSeries:st,eachSeries:Ft,ensureAsync:_t,every:At,everyLimit:qt,everySeries:Ut,filter:Ht,filterLimit:zt,filterSeries:Wt,forever:Jt,groupBy:$t,groupByLimit:Qt,groupBySeries:Vt,log:Xt,map:Se,mapLimit:Oe,mapSeries:je,mapValues:Kt,mapValuesLimit:Yt,mapValuesSeries:Zt,memoize:tn,nextTick:nn,parallel:on,parallelLimit:an,priorityQueue:un,queue:cn,race:sn,reduce:lt,reduceRight:ln,reflect:fn,reflectAll:dn,reject:hn,rejectLimit:vn,rejectSeries:mn,retry:yn,retryable:xn,seq:ft,series:bn,setImmediate:p,some:wn,someLimit:Sn,someSeries:kn,sortBy:In,timeout:On,times:Pn,timesLimit:Rn,timesSeries:Tn,transform:Ln,tryEach:Cn,unmemoize:Fn,until:Dn,waterfall:An,whilst:_n,all:At,allLimit:qt,allSeries:Ut,any:wn,anyLimit:Sn,anySeries:kn,find:wt,findLimit:St,findSeries:kt,forEach:Lt,forEachSeries:Ft,forEachLimit:Ct,forEachOf:xe,forEachOfSeries:st,forEachOfLimit:ve,inject:lt,foldl:lt,foldr:ln,select:Ht,selectLimit:zt,selectSeries:Wt,wrapSync:h};t.default=qn,t.apply=a,t.applyEach=ke,t.applyEachSeries=Ee,t.asyncify=h,t.auto=_e,t.autoInject=ot,t.cargo=ut,t.compose=dt,t.concat=vt,t.concatLimit=ht,t.concatSeries=mt,t.constant=gt,t.detect=wt,t.detectLimit=St,t.detectSeries=kt,t.dir=Ot,t.doDuring=jt,t.doUntil=Rt,t.doWhilst=Et,t.during=Pt,t.each=Lt,t.eachLimit=Ct,t.eachOf=xe,t.eachOfLimit=ve,t.eachOfSeries=st,t.eachSeries=Ft,t.ensureAsync=_t,t.every=At,t.everyLimit=qt,t.everySeries=Ut,t.filter=Ht,t.filterLimit=zt,t.filterSeries=Wt,t.forever=Jt,t.groupBy=$t,t.groupByLimit=Qt,t.groupBySeries=Vt,t.log=Xt,t.map=Se,t.mapLimit=Oe,t.mapSeries=je,t.mapValues=Kt,t.mapValuesLimit=Yt,t.mapValuesSeries=Zt,t.memoize=tn,t.nextTick=nn,t.parallel=on,t.parallelLimit=an,t.priorityQueue=un,t.queue=cn,t.race=sn,t.reduce=lt,t.reduceRight=ln,t.reflect=fn,t.reflectAll=dn,t.reject=hn,t.rejectLimit=vn,t.rejectSeries=mn,t.retry=yn,t.retryable=xn,t.seq=ft,t.series=bn,t.setImmediate=p,t.some=wn,t.someLimit=Sn,t.someSeries=kn,t.sortBy=In,t.timeout=On,t.times=Pn,t.timesLimit=Rn,t.timesSeries=Tn,t.transform=Ln,t.tryEach=Cn,t.unmemoize=Fn,t.until=Dn,t.waterfall=An,t.whilst=_n,t.all=At,t.allLimit=qt,t.allSeries=Ut,t.any=wn,t.anyLimit=Sn,t.anySeries=kn,t.find=wt,t.findLimit=St,t.findSeries=kt,t.forEach=Lt,t.forEachSeries=Ft,t.forEachLimit=Ct,t.forEachOf=xe,t.forEachOfSeries=st,t.forEachOfLimit=ve,t.inject=lt,t.foldl=lt,t.foldr=ln,t.select=Ht,t.selectLimit=zt,t.selectSeries=Wt,t.wrapSync=h,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,n(4).setImmediate,n(7),n(5),n(8)(e))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(6),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,c,u=1,s={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return s[u]=o,r(u),u++},d.clearImmediate=p}function p(e){delete s[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=s[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(5),n(7))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,s=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&p())}function p(){if(!l){var e=c(d);l=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||l||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(107);t.baseExt=n(124),t.cookieHelp=n(106),t.cacheHelp=n(126),t.loadJs=n(127),t.urlHandler=n(128),t.tools=n(113),t.checkInvoiceType=n(129).checkInvoiceType,t.checkInvoiceTypeFull=n(129).checkInvoiceTypeFull,t.crossHttp=n(130).default,t.clientCheck=n(131).default,t.kdRequest=r.kdRequest,t.pwyFetch=o.pwyFetch,t.pwyRequest=o.kdRequest,t.paramJson=r.param},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kdRequest=t.param=t.prePath=void 0;var r,o=l(n(11)),i=l(n(14)),a=l(n(15)),c=l(n(86)),u=l(n(88)),s=(t.kdRequest=(r=(0,i.default)(o.default.mark((function e(t){var n,r,i,a=t.urlPre,l=void 0===a?"":a,h=t.method,v=void 0===h?"GET":h,m=t.url,g=void 0===m?"":m,y=t.data,x=void 0===y?"":y,b=(t.mode,t.timeout),w=void 0===b?6e4:b,S=(t.redirect,t.dataType),k=void 0===S?"json":S,I=t.credentials,O=void 0===I?"include":I,j=(t.handlerError,t.headers),E=void 0===j?{"Content-Type":"application/json"}:j;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^http/.test(g)||(g=l+g),n=(0,s.getCookie)("csrfToken"),g=-1===g.indexOf("?")?g+"?_csrf="+n:g+"&_csrf="+n,n)try{E["x-csrf-token"]=n,(0,s.setCookie)("csrfToken",n,1800)}catch(e){(0,s.setCookie)("csrfToken",n,1800)}if(!window.fetch){e.next=17;break}return e.next=7,d({url:g,data:x,dataType:k,headers:E,method:v});case 7:if(200===(r=e.sent).status){e.next=12;break}return e.abrupt("return",{errcode:"5000",description:"请求出错("+r.status+")"});case 12:return e.next=14,r.text().then((function(e){if("json"!==k)return e;try{return e=JSON.parse(e)}catch(t){return{errcode:"jsonErr",description:"返回数据格式异常",data:e}}})).catch((function(e){return{errcode:"serverErr",description:e}}));case 14:return e.abrupt("return",e.sent);case 15:e.next=22;break;case 17:return"GET"===v?x=f(x):"object"===(void 0===x?"undefined":(0,u.default)(x))&&"json"===k&&(x=(0,c.default)(x)),e.next=20,p({method:v,url:g,data:x,timeout:w,credentials:O,headers:E});case 20:return i=e.sent,e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),n(106));function l(e){return e&&e.__esModule?e:{default:e}}t.prePath="/";var f=t.param=function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){return e}var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},d=function(e){var t=e.method,n=void 0===t?"GET":t,r=e.url,o=void 0===r?"":r,i=e.data,a=void 0===i?"":i,s=e.mode,l=void 0===s?"cors":s,d=(e.timeout,e.redirect),p=void 0===d?"follow":d,h=e.dataType,v=void 0===h?"json":h,m=e.credentials,g=void 0===m?"include":m,y=e.headers,x=void 0===y?{"Content-Type":"application/json"}:y,b={method:n,mode:l,credentials:g,redirect:p};return"GET"===n?a=f(a):"object"===(void 0===a?"undefined":(0,u.default)(a))&&"json"===v&&(a=(0,c.default)(a)),"GET"===n?-1===o.indexOf("?")?o+="?"+a:o+="&"+a:"POST"===n&&(b.body=a),"json"===v&&(b.headers=x),fetch(o,b)};function p(e){var t=e.method,n=void 0===t?"GET":t,r=e.url,o=void 0===r?"":r,i=e.data,c=void 0===i?"":i,u=e.timeout,l=void 0===u?6e4:u,f=(e.credentials,e.contentType),d=e.headers;e.success;return f=d["Content-Type"]||"application/json;charset=UTF-8",new a.default((function(e,t){var r=void 0,i=(0,s.getCookie)("csrfToken");(0,s.setCookie)("csrfToken",i,1800),XMLHttpRequest&&(r=new XMLHttpRequest),r||"undefined"==typeof XDomainRequest||(r=new XDomainRequest);try{r.timeout=l}catch(e){console.warn("设置超时时间异常")}if(r.ontimeout=function(){e({errcode:"timeoutErr",description:"请求超时！"})},f)try{r.contentType=f}catch(e){console.warn("设置contentType异常")}r.onload=function(){if(4===r.readyState){var t=r.status;if(200===t){var n=r.responseText;try{n=JSON.parse(n),e(n)}catch(t){e({errcode:"innerErr",description:"返回数据出错！"})}}else e({errcode:"requestErr",description:"请求出错"+t})}},r.onerror=function(t){e({errcode:"requestErr",description:"请求异常"})},r.open(n,o,!0);try{r.setRequestHeader("Content-Type",f)}catch(e){}r.send(c)}))}},function(e,t,n){e.exports=n(12)},function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(13),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof e,s=t.regeneratorRuntime;if(s)u&&(e.exports=s);else{(s=t.regeneratorRuntime=u?e.exports:{}).wrap=v;var l={},f={};f[i]=function(){return this};var d=Object.getPrototypeOf,p=d&&d(d(j([])));p&&p!==n&&r.call(p,i)&&(f=p);var h=x.prototype=g.prototype=Object.create(f);y.prototype=h.constructor=x,x.constructor=y,x[c]=y.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(h),e},s.awrap=function(e){return{__await:e}},b(w.prototype),w.prototype[a]=function(){return this},s.AsyncIterator=w,s.async=function(e,t,n,r){var o=new w(v(e,t,n,r));return s.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(h),h[c]="Generator",h[i]=function(){return this},h.toString=function(){return"[object Generator]"},s.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},s.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}}}function v(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=S(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=m(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function g(){}function y(){}function x(){}function b(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e){var t;this._invoke=function(n,o){function i(){return new Promise((function(t,i){!function t(n,o,i,a){var c=m(e[n],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?Promise.resolve(s.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(s).then((function(e){u.value=e,i(u)}),a)}a(c.arg)}(n,o,t,i)}))}return t=t?t.then(i,i):i()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=m(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(15),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default((function(e,n){return function r(o,a){try{var c=t[o](a),u=c.value}catch(e){return void n(e)}if(!c.done)return i.default.resolve(u).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(u)}("next")}))}}},function(e,t,n){e.exports={default:n(16),__esModule:!0}},function(e,t,n){n(17),n(18),n(62),n(66),n(84),n(85),e.exports=n(26).Promise},function(e,t){},function(e,t,n){"use strict";var r=n(19)(!0);n(22)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(20),o=n(21);e.exports=function(e){return function(t,n){var i,a,c=String(o(t)),u=r(n),s=c.length;return u<0||u>=s?e?"":void 0:(i=c.charCodeAt(u))<55296||i>56319||u+1===s||(a=c.charCodeAt(u+1))<56320||a>57343?e?c.charAt(u):i:e?c.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(23),o=n(24),i=n(40),a=n(29),c=n(41),u=n(42),s=n(58),l=n(60),f=n(59)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,v,m,g){u(n,t,h);var y,x,b,w=function(e){if(!d&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",k="values"==v,I=!1,O=e.prototype,j=O[f]||O["@@iterator"]||v&&O[v],E=j||w(v),R=v?k?w("entries"):E:void 0,P="Array"==t&&O.entries||j;if(P&&(b=l(P.call(new e)))!==Object.prototype&&b.next&&(s(b,S,!0),r||"function"==typeof b[f]||a(b,f,p)),k&&j&&"values"!==j.name&&(I=!0,E=function(){return j.call(this)}),r&&!g||!d&&!I&&O[f]||a(O,f,E),c[t]=E,c[S]=p,v)if(y={values:k?E:w("values"),keys:m?E:w("keys"),entries:R},g)for(x in y)x in O||i(O,x,y[x]);else o(o.P+o.F*(d||I),t,y);return y}},function(e,t){e.exports=!0},function(e,t,n){var r=n(25),o=n(26),i=n(27),a=n(29),c=n(39),u=function(e,t,n){var s,l,f,d=e&u.F,p=e&u.G,h=e&u.S,v=e&u.P,m=e&u.B,g=e&u.W,y=p?o:o[t]||(o[t]={}),x=y.prototype,b=p?r:h?r[t]:(r[t]||{}).prototype;for(s in p&&(n=t),n)(l=!d&&b&&void 0!==b[s])&&c(y,s)||(f=l?b[s]:n[s],y[s]=p&&"function"!=typeof b[s]?n[s]:m&&l?i(f,r):g&&b[s]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((y.virtual||(y.virtual={}))[s]=f,e&u.R&&x&&!x[s]&&a(x,s,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(28);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(30),o=n(38);e.exports=n(34)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(31),o=n(33),i=n(37),a=Object.defineProperty;t.f=n(34)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(32);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(34)&&!n(35)((function(){return 7!=Object.defineProperty(n(36)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=!n(35)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(32),o=n(25).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(32);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=n(29)},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(43),o=n(38),i=n(58),a={};n(29)(a,n(59)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(31),o=n(44),i=n(56),a=n(53)("IE_PROTO"),c=function(){},u=function(){var e,t=n(36)("iframe"),r=i.length;for(t.style.display="none",n(57).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=r(e),n=new c,c.prototype=null,n[a]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(30),o=n(31),i=n(45);e.exports=n(34)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),c=a.length,u=0;c>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(46),o=n(56);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(39),o=n(47),i=n(50)(!1),a=n(53)("IE_PROTO");e.exports=function(e,t){var n,c=o(e),u=0,s=[];for(n in c)n!=a&&r(c,n)&&s.push(n);for(;t.length>u;)r(c,n=t[u++])&&(~i(s,n)||s.push(n));return s}},function(e,t,n){var r=n(48),o=n(21);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(49);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(47),o=n(51),i=n(52);e.exports=function(e){return function(t,n,a){var c,u=r(t),s=o(u.length),l=i(a,s);if(e&&n!=n){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(20),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(20),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(54)("keys"),o=n(55);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(26),o=n(25),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(23)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(25).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(30).f,o=n(39),i=n(59)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(54)("wks"),o=n(55),i=n(25).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(39),o=n(61),i=n(53)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(21);e.exports=function(e){return Object(r(e))}},function(e,t,n){n(63);for(var r=n(25),o=n(29),i=n(41),a=n(59)("toStringTag"),c="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<c.length;u++){var s=c[u],l=r[s],f=l&&l.prototype;f&&!f[a]&&o(f,a,s),i[s]=i.Array}},function(e,t,n){"use strict";var r=n(64),o=n(65),i=n(41),a=n(47);e.exports=n(22)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,o,i,a,c=n(23),u=n(25),s=n(27),l=n(67),f=n(24),d=n(32),p=n(28),h=n(68),v=n(69),m=n(73),g=n(74).set,y=n(76)(),x=n(77),b=n(78),w=n(79),S=n(80),k=u.TypeError,I=u.process,O=I&&I.versions,j=O&&O.v8||"",E=u.Promise,R="process"==l(I),P=function(){},T=o=x.f,L=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[n(59)("species")]=function(e){e(P,P)};return(R||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==j.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),C=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},F=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,c=o?t.ok:t.fail,u=t.resolve,s=t.reject,l=t.domain;try{c?(o||(2==e._h&&A(e),e._h=1),!0===c?n=r:(l&&l.enter(),n=c(r),l&&(l.exit(),a=!0)),n===t.promise?s(k("Promise-chain cycle")):(i=C(n))?i.call(n,u,s):u(n)):s(r)}catch(e){l&&!a&&l.exit(),s(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&_(e)}))}},_=function(e){g.call(u,(function(){var t,n,r,o=e._v,i=D(e);if(i&&(t=b((function(){R?I.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=R||D(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},A=function(e){g.call(u,(function(){var t;R?I.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},q=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),F(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=C(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,s(U,r,1),s(q,r,1))}catch(e){q.call(r,e)}})):(n._v=e,n._s=1,F(n,!1))}catch(e){q.call({_w:n,_d:!1},e)}}};L||(E=function(e){h(this,E,"Promise","_h"),p(e),r.call(this);try{e(s(U,this,1),s(q,this,1))}catch(e){q.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(81)(E.prototype,{then:function(e,t){var n=T(m(this,E));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=R?I.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&F(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=s(U,e,1),this.reject=s(q,e,1)},x.f=T=function(e){return e===E||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!L,{Promise:E}),n(58)(E,"Promise"),n(82)("Promise"),a=n(26).Promise,f(f.S+f.F*!L,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(c||!L),"Promise",{resolve:function(e){return S(c&&this===a?E:this,e)}}),f(f.S+f.F*!(L&&n(83)((function(e){E.all(e).catch(P)}))),"Promise",{all:function(e){var t=this,n=T(t),r=n.resolve,o=n.reject,i=b((function(){var n=[],i=0,a=1;v(e,!1,(function(e){var c=i++,u=!1;n.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,n[c]=e,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=T(t),r=n.reject,o=b((function(){v(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},function(e,t,n){var r=n(49),o=n(59)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(27),o=n(70),i=n(71),a=n(31),c=n(51),u=n(72),s={},l={};(t=e.exports=function(e,t,n,f,d){var p,h,v,m,g=d?function(){return e}:u(e),y=r(n,f,t?2:1),x=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(p=c(e.length);p>x;x++)if((m=t?y(a(h=e[x])[0],h[1]):y(e[x]))===s||m===l)return m}else for(v=g.call(e);!(h=v.next()).done;)if((m=o(v,y,h.value,t))===s||m===l)return m}).BREAK=s,t.RETURN=l},function(e,t,n){var r=n(31);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(41),o=n(59)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(67),o=n(59)("iterator"),i=n(41);e.exports=n(26).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(31),o=n(28),i=n(59)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r,o,i,a=n(27),c=n(75),u=n(57),s=n(36),l=n(25),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},x=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){c("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete g[e]},"process"==n(49)(f)?r=function(e){f.nextTick(a(y,e,1))}:v&&v.now?r=function(e){v.now(a(y,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=x,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",x,!1)):r="onreadystatechange"in s("script")?function(e){u.appendChild(s("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(25),o=n(74).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,c=r.Promise,u="process"==n(49)(a);e.exports=function(){var e,t,n,s=function(){var r,o;for(u&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(s)};else if(!i||r.navigator&&r.navigator.standalone)if(c&&c.resolve){var l=c.resolve(void 0);n=function(){l.then(s)}}else n=function(){o.call(r,s)};else{var f=!0,d=document.createTextNode("");new i(s).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){"use strict";var r=n(28);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(25).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(31),o=n(32),i=n(77);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(29);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t,n){"use strict";var r=n(25),o=n(26),i=n(30),a=n(34),c=n(59)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[c]&&i.f(t,c,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(59)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(24),o=n(26),i=n(25),a=n(73),c=n(80);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(24),o=n(77),i=n(78);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){e.exports={default:n(87),__esModule:!0}},function(e,t,n){var r=n(26),o=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(89)),o=a(n(92)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,n){e.exports={default:n(90),__esModule:!0}},function(e,t,n){n(18),n(62),e.exports=n(91).f("iterator")},function(e,t,n){t.f=n(59)},function(e,t,n){e.exports={default:n(93),__esModule:!0}},function(e,t,n){n(94),n(17),n(104),n(105),e.exports=n(26).Symbol},function(e,t,n){"use strict";var r=n(25),o=n(39),i=n(34),a=n(24),c=n(40),u=n(95).KEY,s=n(35),l=n(54),f=n(58),d=n(55),p=n(59),h=n(91),v=n(96),m=n(97),g=n(100),y=n(31),x=n(32),b=n(61),w=n(47),S=n(37),k=n(38),I=n(43),O=n(101),j=n(103),E=n(98),R=n(30),P=n(45),T=j.f,L=R.f,C=O.f,F=r.Symbol,_=r.JSON,D=_&&_.stringify,A=p("_hidden"),q=p("toPrimitive"),U={}.propertyIsEnumerable,M=l("symbol-registry"),N=l("symbols"),B=l("op-symbols"),G=Object.prototype,H="function"==typeof F&&!!E.f,z=r.QObject,W=!z||!z.prototype||!z.prototype.findChild,J=i&&s((function(){return 7!=I(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=T(G,t);r&&delete G[t],L(e,t,n),r&&e!==G&&L(G,t,r)}:L,Q=function(e){var t=N[e]=I(F.prototype);return t._k=e,t},$=H&&"symbol"==typeof F.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof F},V=function(e,t,n){return e===G&&V(B,t,n),y(e),t=S(t,!0),y(n),o(N,t)?(n.enumerable?(o(e,A)&&e[A][t]&&(e[A][t]=!1),n=I(n,{enumerable:k(0,!1)})):(o(e,A)||L(e,A,k(1,{})),e[A][t]=!0),J(e,t,n)):L(e,t,n)},X=function(e,t){y(e);for(var n,r=m(t=w(t)),o=0,i=r.length;i>o;)V(e,n=r[o++],t[n]);return e},Y=function(e){var t=U.call(this,e=S(e,!0));return!(this===G&&o(N,e)&&!o(B,e))&&(!(t||!o(this,e)||!o(N,e)||o(this,A)&&this[A][e])||t)},K=function(e,t){if(e=w(e),t=S(t,!0),e!==G||!o(N,t)||o(B,t)){var n=T(e,t);return!n||!o(N,t)||o(e,A)&&e[A][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=C(w(e)),r=[],i=0;n.length>i;)o(N,t=n[i++])||t==A||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===G,r=C(n?B:w(e)),i=[],a=0;r.length>a;)!o(N,t=r[a++])||n&&!o(G,t)||i.push(N[t]);return i};H||(c((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===G&&t.call(B,n),o(this,A)&&o(this[A],e)&&(this[A][e]=!1),J(this,e,k(1,n))};return i&&W&&J(G,e,{configurable:!0,set:t}),Q(e)}).prototype,"toString",(function(){return this._k})),j.f=K,R.f=V,n(102).f=O.f=Z,n(99).f=Y,E.f=ee,i&&!n(23)&&c(G,"propertyIsEnumerable",Y,!0),h.f=function(e){return Q(p(e))}),a(a.G+a.W+a.F*!H,{Symbol:F});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=P(p.store),oe=0;re.length>oe;)v(re[oe++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return o(M,e+="")?M[e]:M[e]=F(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in M)if(M[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?I(e):X(I(e),t)},defineProperty:V,defineProperties:X,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ie=s((function(){E.f(1)}));a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return E.f(b(e))}}),_&&a(a.S+a.F*(!H||s((function(){var e=F();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(x(t)||void 0!==e)&&!$(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,D.apply(_,r)}}),F.prototype[q]||n(29)(F.prototype,q,F.prototype.valueOf),f(F,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(55)("meta"),o=n(32),i=n(39),a=n(30).f,c=0,u=Object.isExtensible||function(){return!0},s=!n(35)((function(){return u(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++c,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return s&&f.NEED&&u(e)&&!i(e,r)&&l(e),e}}},function(e,t,n){var r=n(25),o=n(26),i=n(23),a=n(91),c=n(30).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||c(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(45),o=n(98),i=n(99);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,c=n(e),u=i.f,s=0;c.length>s;)u.call(e,a=c[s++])&&t.push(a);return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(49);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(47),o=n(102).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(46),o=n(56).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(99),o=n(38),i=n(47),a=n(37),c=n(39),u=n(33),s=Object.getOwnPropertyDescriptor;t.f=n(34)?s:function(e,t){if(e=i(e),t=a(t,!0),u)try{return s(e,t)}catch(e){}if(c(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){n(96)("asyncIterator")},function(e,t,n){n(96)("observable")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return unescape(o.substring(t.length,o.length))}return""},t.clearCookie=function(e){r(e,"",-1)};var r=t.setCookie=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="";if(0!==(n=n||0)){var i=new Date;i.setTime(i.getTime()+1e3*n),o="; expires="+i.toGMTString(),r&&(o+="; "+r)}document.cookie=e+"="+escape(t)+o+"; path=/"};t.clearAllCookie=function(){for(var e=document.cookie.split("; "),t=0,n=e.length;t<n;t++){var o=e[t].split("=");o.length>0&&r(o[0],"",-1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kdRequest=t.pwyFetch=t.errcodeInfo=void 0;var r,o=p(n(86)),i=p(n(88)),a=p(n(11)),c=p(n(14)),u=p(n(108)),s=p(n(15)),l=(t.kdRequest=(r=(0,c.default)(a.default.mark((function e(t){var n=t.method,r=void 0===n?"GET":n,o=t.url,i=void 0===o?"":o,c=t.data,u=void 0===c?{}:c,s=t.timeout,l=void 0===s?9e4:s,f=t.dataType,d=void 0===f?"json":f,p=t.headers,h=void 0===p?{"Content-Type":"application/json"}:p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(i,{body:u,headers:h,timeout:l,dataType:d,method:r.toUpperCase()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),n(106)),f=n(10),d=n(113);function p(e){return e&&e.__esModule?e:{default:e}}var h,v,m,g,y=t.errcodeInfo={gatewayTimeout:{errcode:"gatewayTimeout",description:"网关超时，请稍后再试!"},serverErr:{errcode:"serverErr",description:"服务端异常, 请稍后再试！"},requestErr:{errcode:"requestErr",description:"请求错误, 请检查网络或参数！"},timeoutErr:{errcode:"timeoutErr",description:"请求超时, 请检查网络是否正常！"}},x=function(e,t){return new s.default((function(n){var r=t||{},o=r.dataType,i=void 0===o?"json":o,a=r.method,c=r.headers,s=void 0===c?{}:c,l=r.mode,f=void 0===l?"cors":l,p=r.credentials,h=void 0===p?"include":p,v=r.redirect,m=void 0===v?"follow":v,g=r.body,x=r.onResponseProgress,b=r.callback,w={method:a,mode:f,credentials:h,redirect:m},S=function(e){"function"==typeof b?b(e):n(e)},k=a.toUpperCase();"json"!==i&&"text"!==i||(w.dataType="text"),w.headers=s,"GET"!==k&&(w.body=g),fetch(e,w).then((function(e){if(504===e.status)S(y.gatewayTimeout);else if(500===e.status)S(y.serverErr);else if(400===e.status||404===e.status)S(y.requestErr);else{var t=function(e){var t=void 0;if("json"===i){try{t=JSON.parse(e)}catch(e){(0,d.consoleLog)(e),t=(0,u.default)({},y.serverErr)}S(t)}else S(e)};if("function"==typeof x&&"function"==typeof TextDecoder){var n=e.body.getReader(),r=new TextDecoder,o=0,a="",c=e.headers.get("content-length");return c=parseInt(c),n.read().then((function e(i){return i.done?(x(o,c),void t(a)):(o+=i.value.length,a+=r.decode(i.value),x(o,c),n.read().then(e))}))}e.text().then((function(e){t(e)})).catch((function(e){(0,d.consoleLog)(e),S(y.requestErr)}))}})).catch((function(e){(0,d.consoleLog)(e),S(y.requestErr)}))}))},b=(h=(0,c.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.race([x(t,n),new s.default((function(e){setTimeout((function(){var t=(0,u.default)({},y.timeoutErr);"function"==typeof n.callback?n.callback(t):e(t)}),n.timeout||9e4)}))]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,void 0)}))),function(e,t){return h.apply(this,arguments)}),w=(v=(0,c.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new s.default((function(e){var r=new window.XMLHttpRequest,o=n.method,i=void 0===o?"GET":o,a=n.body,c=void 0===a?null:a,s=n.dataType,f=void 0===s?"json":s,p=n.callback,h=n.onRequestProgress,v=n.onResponseProgress,m=n.onProgress,g=function(t){"function"==typeof p?p(t):e(t)},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("function"==typeof m)try{m(r.readyState,r.status,e,t)}catch(e){(0,d.consoleLog)(e)}};x(),r.open(i,t,!0),x(),r.ontimeout=function(){g(y.timeoutErr),x()},"function"!=typeof h&&"function"!=typeof m||(r.upload.onprogress=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof h)try{h(e.loaded,e.total)}catch(e){(0,d.consoleLog)(e)}x(e.loaded,e.total)}),"function"!=typeof v&&"function"!=typeof m||(r.onprogress=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof v)try{v(e.loaded,e.total)}catch(e){(0,d.consoleLog)(e)}x(e.loaded,e.total)}),r.onreadystatechange=function(){x()},r.onload=function(){if(4===r.readyState)if(200===r.status){var e=r.responseText,t=void 0;if("json"===f){try{t=JSON.parse(e)}catch(e){(0,d.consoleLog)(e),t=(0,u.default)({},y.serverErr)}g(t)}else g(e)}else g(y.serverErr)},r.onerror=function(e){(0,d.consoleLog)(e),g(y.requestErr),x()};var b=(0,l.getCookie)("csrfToken");n&&n.headers&&n.headers["Content-Type"]&&r.setRequestHeader("Content-Type",n.headers["Content-Type"]),b&&r.setRequestHeader("x-csrf-token",b),"json"===f&&(r.responseType="text"),r.timeout=n.timeout||9e4,"post"===i.toLowerCase()?r.send(c):r.send(null),x()})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)}),S=(m=(0,c.default)(a.default.mark((function e(t,n){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new s.default((function(e){var r=new window.XDomainRequest,o=n.method,i=void 0===o?"GET":o,a=n.body,c=void 0===a?null:a,s=n.callback,l=n.dataType,f=void 0===l?"json":l,p=function(t){"function"==typeof s?s(t):e(t)};r.open(i,t),r.ontimeout=function(){p(y.timeoutErr)},r.onerror=function(e){(0,d.consoleLog)(e),p(y.requestErr)},r.onload=function(){var e=xhr.responseText,t=void 0;if("json"===f){try{t=JSON.parse(e)}catch(e){(0,d.consoleLog)(e),t=(0,u.default)({},y.serverErr)}p(t)}else p(e)},"post"===i.toLowerCase()?r.send(c):r.send(null)})),e.next=3,s.default.race([r,new s.default((function(e){setTimeout((function(){var t=(0,u.default)({},y.timeoutErr);"function"==typeof callback?callback(t):e(t)}),n.timeout||9e4)}))]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)}),k=t.pwyFetch=(g=(0,c.default)(a.default.mark((function e(t,n){var r,c,s,l,d,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.method||"GET",c=n.data||n.body,s=n.headers||{},l=r.toUpperCase(),"json"===(d=n.contentType||"json")&&(s["Content-Type"]="application/json; charset=UTF-8"),n=(0,u.default)({},n,{headers:s,body:c}),"GET"===l&&(void 0!==n.disabledCache&&!1!==n.disabledCache||(t=-1===t.indexOf("?")?t+"?random="+Math.random():t+"&random="+Math.random()),c&&"object"===(void 0===c?"undefined":(0,i.default)(c))&&(c=(0,f.param)(c,!0))&&(t+="&"+c)),"POST"===l&&c&&"object"===(void 0===c?"undefined":(0,i.default)(c))&&"json"===d&&(n=(0,u.default)({},n,{body:(0,o.default)(c)})),p=void 0,!window.fetch||n.onRequestProgress||n.disabledFetch||n.onProgress){e.next=14;break}p=b(t,n),e.next=24;break;case 14:if(!window.XMLHttpRequest){e.next=20;break}return e.next=17,w(t,n);case 17:p=e.sent,e.next=24;break;case 20:if(!window.XDomainRequest){e.next=24;break}return e.next=23,S(t,n);case 23:p=e.sent;case 24:return e.abrupt("return",p);case 25:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(109),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(110),__esModule:!0}},function(e,t,n){n(111),e.exports=n(26).Object.assign},function(e,t,n){var r=n(24);r(r.S+r.F,"Object",{assign:n(112)})},function(e,t,n){"use strict";var r=n(34),o=n(45),i=n(98),a=n(99),c=n(61),u=n(48),s=Object.assign;e.exports=!s||n(35)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r}))?function(e,t){for(var n=c(e),s=arguments.length,l=1,f=i.f,d=a.f;s>l;)for(var p,h=u(arguments[l++]),v=f?o(h).concat(f(h)):o(h),m=v.length,g=0;m>g;)p=v[g++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readAsBinaryString=t.getInvoiceErrInfo=t.isInVisualArea=t.consoleLog=t.getUUId=t.downloadFile=t.blobToFile=t.getInvoiceQrInfoNew=t.getInvoiceQrInfo=t.checkInvoiceTin=t.checkInvoiceTitle=t.getInvoiceTypeName=void 0;var r=l(n(15)),o=l(n(88)),i=l(n(86)),a=l(n(114)),c=l(n(109)),u=n(10),s=n(106);function l(e){return e&&e.__esModule?e:{default:e}}var f=n(118).invoiceTypes.INPUT_INVOICE_TYPES_DICT;t.getInvoiceTypeName=function(e){return{k1:"普通电子发票",k2:"电子发票专票",k3:"普通纸质发票",k4:"专用纸质发票",k5:"普通纸质卷式发票",k7:"通用机打票",k8:"的士票",k9:"火车票",k10:"飞机票",k11:"其他票",k12:"机动车发票",k13:"二手车发票",k14:"定额发票",k15:"通行费电子发票",k16:"客运发票",k17:"过路过桥费"}["k"+e]||"--"},t.checkInvoiceTitle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"simple",o=[1,3,4,5,15],i=/[^A-Za-z0-9\u4e00-\u9fa5]/g;return-1===o.indexOf(parseInt(e))?3:(t=t.replace(i,"").trim(),n=n.replace(i,"").trim(),"strict"===r?t===n?1:2:"simple"===r?t.length<6||t===n?1:2:void 0)},t.checkInvoiceTin=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"simple",i=[1,3,4,5,15],a=/[^A-Za-z0-9\u4e00-\u9fa5]/g;return-1===i.indexOf(parseInt(e))?3:"strict"===o?t===n?1:2:"simple"===o?(r=r.replace(a,"").trim()).length<6||t===n?1:2:void 0},t.getInvoiceQrInfo=function(e){var t=e.replace(/[，]/g,",").split(",");try{var n=t[2],r=t[3],o=t[5],i=t[4],a=t[6].substr(-6);return!!(n&&r&&o)&&{fpdm:n,fphm:r,kprq:o,amount:i,jym:a}}catch(e){return!1}};t.getInvoiceQrInfoNew=function(e){if(e.indexOf("https")>-1&&e.indexOf("?")){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof(e=e.replace("?","&"))&&e?e.split("&").reduce((function(e,t){var n=t.split("=");return(0,c.default)((0,a.default)({},n[0],n[1]),e)}),{}):e}(e),n=t.bill_num,r=void 0===n?"":n,o=t.total_amount,i=void 0===o?"":o,u=t.hash,s=void 0===u?"":u;return""!=r&&""!=i&&""!=s?{errcode:"0000",qrcodeType:"web",data:{bill_num:r,total_amount:i,hash:s},description:"成功"}:{errcode:"fail",qrcodeType:"web",description:"请扫描发票（电，普，专）"}}var l=e.replace(/[，]/g,",").split(",");try{var f=l[6].indexOf("20"),d=l[2],p=l[3];if(8==l[6].length&&0==f)return{errcode:"0000",qrcodeType:"string",data:{fpdm:d,fphm:p,kprq:l[6],amount:l[5],jym:l[7].substr(-5)},description:"成功"};var h=l[5],v=l[4],m=l[6].substr(-6);if(d&&p&&h){if(""==v&&""==m)return{errcode:"fail",description:"请扫描发票（电，普，专）"};var g=function(e){var t=e.substr(e.length-3),n=e.substr(e.length-2),r=e.substr(0,1),o=e.substr(7,1),i=e.substr(5,1);if("10"==e.length)return"130"===t||"140"===t||"160"===t||"170"===t?4:3;if(12==e.length){if("0"==r&&"12"==n)return 15;if("0"==r&&"11"==n)return 1;if("0"==r&&"06"==n)return 5;if("0"==r&&"07"==n)return 5;if("0"==r&&"17"==n)return 13;if(("1"==i||"2"==i)&&"2"==o)return 12;if("0"==r&&"13"==n)return 2}return 3}(d);return"-1"==[1,2,3,4,15].indexOf(g)?{errcode:"fail",description:"请扫描发票（电，普，专）"}:{errcode:"0000",qrcodeType:"string",data:{fpdm:d,fphm:p,kprq:h,amount:v,jym:m},description:"成功"}}return{errcode:"fail",qrcodeType:"string",description:"请扫描发票（电，普，专）"}}catch(e){return{errcode:"fail",description:"请扫描发票（电，普，专）"}}},t.blobToFile=function(e,t){var n=t.split("."),r=n[n.length-1],o="image/jpeg";return o="png"===r?"image/png":"bmp"===r?"image/bmp":"jpg"===r?"image/jpeg":"pdf"===r?"application/pdf":"application/octet-stream",!(!window.File||"function"!=typeof window.File)&&new window.File([e],t,{type:o})},t.downloadFile=function(e){var t=e.url,n=e.key,r=void 0===n?"downloadParams":n,a=e.data,c=void 0===a?{}:a,l=e.method,f=void 0===l?"POST":l,d=e.startCallback,p=e.endCallback,h=e.downloadType,v=void 0===h?"form":h,m=e.timeout,g=void 0===m?6e4:m;if(window.XMLHttpRequest&&window.Blob&&window.FileReader&&"xhr"===v)!function(e){var t=e.url,n=e.key,r=void 0===n?"downloadParams":n,o=e.data,a=void 0===o?{}:o,c=e.method,l=void 0===c?"POST":c,f=e.startCallback,d=e.endCallback,p=e.timeout,h=void 0===p?6e4:p;l=l.toLocaleLowerCase(),f();var v=function(e){(0,s.clearCookie)("downloadResult"),"function"==typeof d&&d(e)},m=new window.XMLHttpRequest;if("get"===l&&(t+="?"+(0,u.param)(a)),m.open(l,t,!0),m.responseType="blob",m.setRequestHeader("Content-Type","application/json"),m.timeout=h,m.onerror=function(){v({errcode:"5000",description:"服务端异常，请稍后再试"})},m.ontimeout=function(){v({errcode:"5004",description:"请求超时，请稍后再试"})},m.onload=function(){if(200===m.status){var e=m.response,t=m.getResponseHeader("Content-Type");if(-1!==t.indexOf("text/html"))v({errcode:"5000",description:"服务端异常，请稍后再试"});else if(-1!==t.indexOf("application/json")){var n=new window.FileReader;n.onload=function(){var e=n.result;try{e=JSON.parse(e)}catch(t){e={errcode:"5000",description:"服务端异常，请稍后再试"},console.error(t)}v(e)},n.readAsText(e)}else{var r=m.getResponseHeader("Content-Disposition"),o=document.createElement("a");o.download=decodeURIComponent(r.split(";")[1].split("=")[1]),o.style.display="none",o.href=URL.createObjectURL(new Blob([e])),document.body.appendChild(o),o.click(),document.body.removeChild(o),v({errcode:"0000",description:"下载成功"})}}else v({errcode:"5000",description:"请求异常，请稍后再试"})},"post"===l){var g=(0,i.default)(a),y={};y[r]=g,m.send((0,i.default)(y))}else m.send()}(e);else{d();var y="tempDownloadIframe"+ +new Date,x="tempFormId_"+ +new Date;(0,s.clearCookie)("downloadResult");var b=function(e){var t=document.getElementById(y),n=document.getElementById(x);(0,s.clearCookie)("downloadResult"),t.innerHTML="",t.parentNode.removeChild(t),n.parentNode.removeChild(n),"function"==typeof p&&p(e)},w=document.createElement("iframe");w.id=y,w.name=y,w.enctype="application/x-www-form-urlencoded",w.style.display="none",document.body.appendChild(w);var S=document.createElement("form");S.id=x,S.target=y,S.style.display="none",S.method=f,S.action=t;var k=document.createElement("input");k.type="hidden",k.name=r,k.value="object"===(void 0===c?"undefined":(0,o.default)(c))?(0,i.default)(c):c,S.appendChild(k),document.body.appendChild(S),S.submit(),function e(t){if(+new Date-t>g)b({errcode:"5004",description:"请求超时，请稍后再试！"});else{var n=(0,s.getCookie)("downloadResult");n?"1"===n?b({errcode:"0000",description:"下载成功"}):(n=JSON.parse(unescape(n)),b(n)):setTimeout((function(){e(t)}),1e3)}}(+new Date)}},t.getUUId=function(){var e=(new Date).getTime();return"xxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))},t.consoleLog=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"object"===(0,o.default)(window.console)&&("error"===t?n?window.console.error(n,e):window.console.error(e):"warn"===t?n?window.console.warn(n,e):window.console.warn(e):n?window.console.log(n,e):window.console.log(e))},t.isInVisualArea=function(e,t){for(var n=t.getElementsByClassName(e),r=t.getBoundingClientRect(),o=r.top,i=r.left,a=r.bottom,c=r.right,u=[],s=0;s<n.length;s++){var l=n[s].getBoundingClientRect();l.top>=o&&l.left>=i&&l.top<=a&&l.left<=c?u.push(!0):u.push(!1)}return u},t.getInvoiceErrInfo=function(e){var t=[],n=[],r={k1:"该发票已失控",k2:"该发票已作废",k3:"该发票已红冲",k4:"该处于异常状态"},o=e.invoiceType,i=e.invoiceStatus,a=e.checkStatus,c=e.isNotEqualTaxNo,u=e.isNotEqualBuyerName,s=e.repeatBx,l=e.isBlacklist,d=e.isSensitiveWords,p=e.continuousNos,h=void 0===p?[]:p,v=e.warningCode,m=void 0===v?"":v,g=e.isOverdueInvoice,y=e.isRevise;return(f["k"+o]||{}).isAddedTax&&(2===parseInt(a)?n.push("查验数据不相符！"):3===parseInt(a)&&n.push("发票还未进行查验！"),r["k"+i]&&n.push(r["k"+i])),c&&n.push("企业税号与发票购方税号不一致！"),u&&n.push("企业抬头与发票抬头不一致！"),2===s&&n.push("发票重复报销！"),2===l&&n.push("该发票在黑名单中！"),2===d&&t.push("发票中包含敏感词！"),h&&h.length>0&&8===parseInt(o)&&t.push("的士票连号，连号号码"+h.join(",")),-1!==m.split(",").indexOf("3")&&t.push("疑似串号发票！"),2===g&&t.push("该发票已过期！"),2===y&&t.push("手工修改过发票字段！"),{errorResult:n,waringResult:t}},t.readAsBinaryString=function(e){return new r.default((function(t){var n=new FileReader;if("function"==typeof FileReader.prototype.readAsBinaryString)n.onload=function(e){t(n.result)},n.onerror=function(){t(null)},n.readAsBinaryString(e);else{var r="";n.onload=function(e){for(var o=new Uint8Array(n.result),i=o.byteLength,a=0;a<i;a++)r+=String.fromCharCode(o[a]);t(r)},n.onerror=function(){t(null)},n.readAsArrayBuffer(e)}}))}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(115),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports={default:n(116),__esModule:!0}},function(e,t,n){n(117);var r=n(26).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(24);r(r.S+r.F*!n(34),"Object",{defineProperty:n(30).f})},function(e,t,n){var r=n(119),o=n(121),i=n(120),a=n(122),c=n(123);e.exports={invoiceEditInfo:r,invoiceTypes:o,selectSource:i,invoiceStatus:a,waringCodes:c.waringCodes,getWaringCodesResult:c.getWaringCodesResult}},function(e,t,n){var r=n(120),o=r.trainSeatSelectSource,i=r.airSeatSelectSource,a=r.currencySelectSource,c=function(e){return moment(e.format("YYYY-MM-DD")).format("X")>moment().format("X")},u=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"校验码后六位",dataIndex:"checkCode",type:"string",maxLength:6,required:!0}],s=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"不含税金额",dataIndex:"invoiceAmount",type:"number",required:!0}],l=[{title:"电子客票号",dataIndex:"electronicTicketNum",type:"string",maxLength:50,required:!0},{title:"身份证号码",dataIndex:"customerIdentityNum",type:"string",maxLength:18,required:!0},{title:"行程",subCols:[{title:"开始行程",dataIndex:"placeOfDeparture",type:"string",maxLength:50,required:!0},{title:"结束行程",dataIndex:"destination",type:"string",maxLength:50,required:!0}]},{title:"票价",dataIndex:"invoiceAmount",type:"number",required:!0},{title:"顾客姓名",dataIndex:"customerName",type:"string",maxLength:50,required:!0},{title:"乘机日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"航班号",dataIndex:"flightNum",type:"string",maxLength:50},{title:"机场建设费",dataIndex:"airportConstructionFee",type:"number"},{title:"燃油附加费",dataIndex:"fuelSurcharge",type:"number"},{title:"印刷序列号",dataIndex:"printNum",type:"string",maxLength:50},{title:"座位等级",dataIndex:"seatGrade",type:"select",selectSource:i}],f=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"合计金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"销方名称",dataIndex:"salerName",type:"string",maxLength:200},{title:"销方税号",dataIndex:"salerTaxNo",type:"string",maxLength:50},{title:"购方名称",dataIndex:"buyerName",type:"string",maxLength:200}],d=[{title:"金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"备注",dataIndex:"salerName",type:"string",maxLength:200,required:!0},{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:c}],p=[{title:"纳税人识别号",dataIndex:"buyerTaxNo",type:"string",maxLength:50,required:!0},{title:"完税证明号码",dataIndex:"taxPaidProofNo",type:"string",maxLength:50,required:!0},{title:"填发日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"税务机关名称",dataIndex:"taxAuthorityName",type:"string",maxLength:200,required:!0},{title:"金额",dataIndex:"totalAmount",type:"number",required:!0}],h=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"所在地",dataIndex:"place",type:"string",maxLength:50,required:!0}],v=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"开票日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"入口",dataIndex:"entrance",type:"string",maxLength:50},{title:"出口",dataIndex:"exit",type:"string",maxLength:50,required:!0},{title:"时间",dataIndex:"time",type:"time"},{title:"所在地",dataIndex:"place",type:"string",maxLength:50}],m=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"乘船人",dataIndex:"passengerName",type:"string",maxLength:50,required:!0},{title:"乘船日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"出发地",dataIndex:"stationGetOn",type:"string",maxLength:50},{title:"到达地",dataIndex:"stationGetOff",type:"string",maxLength:50,required:!0},{title:"金额",dataIndex:"totalAmount",type:"number",required:!0},{title:"币别",dataIndex:"currency",type:"select",selectSource:a}],g=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"乘车日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"金额（含税）",dataIndex:"totalAmount",type:"number",required:!0},{title:"所在地",dataIndex:"place",type:"string",maxLength:50,required:!0},{title:"打车里程",dataIndex:"mileage",type:"number"},{title:"上车时间",dataIndex:"timeGetOn",type:"time"},{title:"下车时间",dataIndex:"timeGetOff",type:"time"}],y=[{title:"发票代码",dataIndex:"invoiceCode",type:"string",maxLength:12,required:!0},{title:"发票号码",dataIndex:"invoiceNo",type:"string",maxLength:10,required:!0},{title:"日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"票价",dataIndex:"totalAmount",type:"number",required:!0},{title:"出发站",dataIndex:"stationGetOn",type:"string",maxLength:50,required:!0},{title:"到达站",dataIndex:"stationGetOff",type:"string",maxLength:50,required:!0},{title:"姓名",dataIndex:"passengerName",type:"string",maxLength:50,required:!0},{title:"时间",dataIndex:"timeGetOn",type:"time"},{title:"币别",dataIndex:"currency",type:"select",selectSource:a}],x=[{title:"姓名",dataIndex:"passengerName",type:"string",maxLength:50,required:!0},{title:"车次",dataIndex:"trainNum",type:"string",maxLength:50,required:!0},{title:"印刷序号",dataIndex:"printingSequenceNo",type:"string",maxLength:50,required:!0},{title:"乘车日期",dataIndex:"invoiceDate",type:"date",disabledDate:c,required:!0},{title:"金额（含税）",dataIndex:"totalAmount",type:"number",required:!0},{title:"行程",subCols:[{title:"开始行程",dataIndex:"stationGetOn",type:"string",maxLength:50,required:!0},{title:"结束行程",dataIndex:"stationGetOff",type:"string",maxLength:50,required:!0}]},{title:"座位等级",dataIndex:"currency",type:"select",selectSource:o}];e.exports={k1:u,k3:u,k4:s,k5:u,k12:s,k13:s,k15:u,k7:f,k8:g,k9:x,k10:l,k14:h,k16:y,k17:v,k19:p,k20:m,k23:f,k11:d}},function(e,t){e.exports={trainSeatSelectSource:["二等座","一等座","特等座","商务座","无座"],airSeatSelectSource:[{value:"F",text:"头等舱"},{value:"C",text:"公务舱（商务舱）"},{value:"Y",text:"普通舱（经济舱）"}],currencySelectSource:[{value:"CNY",text:"人民币"},{value:"HKD",text:"港币"},{value:"USD",text:"美元"}]}},function(e,t){for(var n=[{text:"电子普通发票",value:1,allowDeduction:1,isAddedTax:!0},{text:"电子专用发票",value:2,allowDeduction:1,isAddedTax:!0,allowGovdk:1},{text:"增值税普通发票",value:3,isAddedTax:!0},{text:"增值税专用发票",value:4,allowDeduction:1,isAddedTax:!0,allowGovdk:1},{text:"普通纸质卷票",value:5,isAddedTax:!0},{text:"通用机打发票",value:7},{text:"出租车票",value:8},{text:"火车/高铁票",value:9,allowDeduction:1},{text:"飞机行程单",value:10,allowDeduction:1},{text:"机动车销售发票",value:12,allowDeduction:1,isAddedTax:!0,allowGovdk:1},{text:"二手车销售发票",value:13,isAddedTax:!0},{text:"定额发票",value:14},{text:"通行费电子发票",value:15,allowDeduction:1,isAddedTax:!0,allowGovdk:1},{text:"公路汽车票",value:16,allowDeduction:1},{text:"过路桥费发票",value:17},{text:"完税证明",value:19},{text:"轮船票",value:20,allowDeduction:1},{text:"通用机打电子发票",value:23},{text:"其它票",value:11,allowDeduction:1}],r={},o=[],i=[],a=0;a<n.length;a++){var c=n[a];r["k"+c.value]=c,c.isAddedTax&&o.push(c.value),1===c.allowDeduction&&i.push(c.value)}e.exports={INPUT_INVOICE_TYPES:n,INPUT_INVOICE_TYPES_DICT:r,ADDED_INVOICE_TYPES:o,ALLOW_DK_TYPES:i}},function(e,t){for(var n=[{text:"正常",value:0},{text:"失控",value:1},{text:"作废",value:2},{text:"红冲",value:3},{text:"异常",value:4}],r={},o=0;o<n.length;o++)r["k"+n[o].value]=n[o].text;e.exports={INVOICE_STATUS:n,INVOICE_STATUS_DICT:r}},function(e,t){var n={k1:"",k2:""};e.exports={waringCodes:n,getWaringCodesResult:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split(","),r=[],o=0;o<t.length;o++){var i=t[o],a=n["k"+i]||"";a&&r.push(a)}return r}}},function(e,t,n){"use strict";var r,o,i=n(88),a=(r=i)&&r.__esModule?r:{default:r};Object.setPrototypeOf=n(125),"object"===("undefined"==typeof window?"undefined":(0,a.default)(window))&&(window.requestAnimationFrame=window.requestAnimationFrame||window.requestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1/60)}),Function.prototype.method=function(e,t){return this.prototype[e]||(this.prototype[e]=t),this},Number.method("integer",(function(){return Math[this<0?"ceil":"floor"](this)})),String.method("trim",(function(){return this.replace(/^\s+/g,"").replace(/\s+$/g,"")})),String.method("replaceInclude",(function(){return this.replace("）",")").replace("（","(")})),String.method("entityify",(o={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;"},o=void 0,function(){return this.replace(/(["<>&])/g,(function(e){return o[e]}))})),String.method("isEmail",(function(){return/^([a-zA-Z0-9_\.-]+)@([a-zA-Z0-9\.-]+)\.([a-zA-Z\.]{2,6})$/.test(this)})),String.method("isEmpty",(function(){return/^[\s]*$/.test(this)})),String.method("isNotEmpty",(function(){return/[\S]+/.test(this)})),String.method("isPhone",(function(){return/^(1[0-9]{10}$)/.test(this)})),String.method("isPhoneOrMail",(function(){return this.isEmail()?2:!!this.isPhone()&&1})),String.method("getLength",(function(){var e=this.replace(/[\x00-\xff]/g,"").length;return this.length+e})),String.method("isNumber",(function(){return/[0-9.]*/.test(this)&&isFinite(this)})),String.method("getSub",(function(e,t){var n=/[^\x00-\xff]/g;if(this.replace(n,"mm").length<=e)return this;for(var r=Math.floor(e/2);r<this.length;r++)if(this.substr(0,r).replace(n,"mm").length>=e)return t?this.substr(0,r)+"...":this.substr(0,r);return this})),String.method("trimUnNumber",(function(){var e=parseFloat(this.trim());return isNaN(e)?"":e+""})),Array.method("indexOf",(function(e){var t,n=this.length;for(t=0;t<n;t++)if(this[t]===e)return t;return-1}))},function(e,t,n){"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n]);return e})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearCache=t.getCache=t.setCache=void 0;var r=i(n(86)),o=i(n(88));function i(e){return e&&e.__esModule?e:{default:e}}var a=n(106),c=a.setCookie,u=a.clearCookie;t.setCache=function(e,t,n){if(t="object"===(void 0===t?"undefined":(0,o.default)(t))?escape((0,r.default)(t)):escape(t),localStorage||sessionStorage)if("localStorage"==n&&localStorage)try{return localStorage.setItem(e,t),!0}catch(e){return!1}else if(isNaN(parseInt(n)))try{return sessionStorage.setItem(e,t),!0}catch(e){return!1}else try{return c(e,t,n),!0}catch(e){return!1}else try{var i=3600;return isNaN(parseInt(n))||(i=n),c(e,t,i),!0}catch(e){return!1}},t.getCache=function(e,t,n){if(localStorage||sessionStorage)if("localStorage"==t&&localStorage){if("string"===n)return unescape(localStorage.getItem(e));try{r=unescape(localStorage.getItem(e));return JSON.parse(r)}catch(e){return r}}else if("cookie"!=t&&isNaN(parseInt(t))){if("string"===n)return unescape(sessionStorage.getItem(e));try{r=unescape(sessionStorage.getItem(e));return JSON.parse(r)}catch(e){return r}}else{if("string"===n)return unescape(getCookie(e));try{var r=unescape(getCookie(e));return JSON.parse(r)}catch(e){return r}}else{if("string"===n)return unescape(getCookie(e));try{var r=unescape(getCookie(e));return JSON.parse(r)}catch(e){return r}}},t.clearCache=function(e,t){if(localStorage||sessionStorage)if("localStorage"==t&&localStorage)try{return localStorage.removeItem(e),!0}catch(e){return!1}else if("cookie"!=t&&isNaN(parseInt(t)))try{return sessionStorage.removeItem(e),!0}catch(e){return!1}else try{return u(e),!0}catch(e){return!1}else try{return u(e),!0}catch(e){return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadScripts=t.use=t.syncUse=t.getLoadedJs=void 0;var r=i(n(15)),o=i(n(88));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.getLoadedJs=function(){var e=[];if("object"===("undefined"==typeof document?"undefined":(0,o.default)(document))&&document.getElementsByTagName)for(var t=document.getElementsByTagName("script"),n=t.length;n--;){var r=t[n].src||"";""!=r&&e.push(r)}return e},c=function(e,t){if(/^https?:\/\/.*$/.test(e))return e;t=t||window.location.href.replace(/\/[0-0a-zA-Z._-]*$/,"");var n=window.location.origin;if(/^\/.*$/.test(e))return n+e;if(/^\.\/.*$/.test(e))return t+e.replace(/^\./,"");if(/^\.\.\/.*/.test(e)){for(var r=e.split("/"),o=[],i=0;i<r.length;i++)".."==r[i]&&n!=t?t=t.replace(/\/[0-0a-zA-Z._-]*$/,""):"."!=r[i]&&".."!=r[i]&&o.push(r[i]);return t+"/"+o.join("/")}return t+e},u=t.syncUse=function(e,t){var n=a(),r=[];if("string"==typeof e)r.push(c(e));else for(var o=0,i=e.length;o<i;o++)r.push(c(e[o]));return function e(o){if(-1==n.indexOf(r[o]))if(o<r.length){var i=document.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,e(o+1))}:i.onload=function(){e(o+1)},i.src=r[o],/^.*sea\.js\/?$/.test(r[o])&&(i.id="seajsnode"),document.getElementsByTagName("head")[0].appendChild(i),n.push(r[o])}else t();else e(o+1)}(0)},s=t.use=function(e,t){var n,r=a(),o=0,i=[];if("string"==typeof e)i.push(c(e));else for(var u=e.length;u--;)i.push(c(e[u]));for(var s=n=i.length;s--;){var l=i[s];if(-1==r.indexOf(l)){var f=document.createElement("script");f.type="text/javascript",f.readyState?f.onreadystatechange=function(){"loaded"!=f.readyState&&"complete"!=f.readyState||(f.onreadystatechange=null,++o==n&&t())}:f.onload=function(){++o==n&&t()},f.src=i[s],/^.*sea\.js\/?$/.test(l)&&(f.id="seajsnode"),document.getElementsByTagName("head")[0].appendChild(f),r.push(i[s])}else++o==n&&t()}};t.loadScripts=function(e,t){return new r.default((function(n){try{t?u(e,(function(){n(!0)})):s(e,(function(){n(!0)}))}catch(e){n(!1)}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.urlSearch=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={},n=(e=e.replace(/^\?/,"")).split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("="),a="";i.length>1&&(a=i[1]),t[i[0]]=a}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkInvoiceTypeFull=function(e,t){e&&(e+="");t&&(t+="");if(!t||!e)return 5;var n=e.length;if(12==n){if(12==e.length&&8==t.length){if(e.startsWith("14403")&&"9"===e.substr(8,9))return 1;if(e.startsWith("0")&&e.endsWith("13"))return 2}return e.startsWith("1")&&e.substr(7,8).equals("2")?12:e.endsWith("11")&&e.startsWith("0")?1:e.endsWith("12")&&e.startsWith("0")?15:e.endsWith("04")||e.endsWith("05")?3:e.endsWith("06")||e.endsWith("07")?5:e.endsWith("17")&&e.startsWith("0")?13:3}return 10==n&&(e.endsWith("130")||e.endsWith("140")||e.endsWith("160")||e.endsWith("170"))?4:3};t.checkInvoiceType=function(e,t){e&&(e+=""),t&&(t+="");var n=e.substr(e.length-3),r=e.substr(e.length-2),o=e.substr(0,1),i=e.substr(5,1),a=e.substr(7,1);if("130"===n||"140"===n||"160"===n||"170"===n)return 4;if(12==e.length){if("0"==o&&"12"==r)return 15;if("0"===o&&"17"===r)return 13;if("0"===o&&("06"===r||"07"===r))return 5;if("0"===o&&"13"===r)return 2;if(("1"==i||"2"==i)&&"2"==a)return 12}return 3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(86)),o=a(n(88)),i=a(n(15));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.method,n=void 0===t?"POST":t,a=e.data,c=void 0===a?"":a,u=e.withCredentials,s=void 0!==u&&u,l=e.dataType,f=void 0===l?"json":l,d=e.contentType,p=void 0===d?"text/plain":d,h=e.timeout,v=void 0===h?6e4:h,m=e.url,g=void 0===m?"http://127.0.0.1:52320/cryptctl":m;e.onTimeout,e.onError,e.success;return new i.default((function(e,t){var i=null;if(XMLHttpRequest&&(i=new XMLHttpRequest),s&&void 0!==i.withCredentials&&(i.withCredentials=!0),i||"undefined"==typeof XDomainRequest||(i=new XDomainRequest),i){try{i.timeout=v,i.contentLength=c.length}catch(e){console.warn("设置超时时间异常")}try{i.contentType=p}catch(e){console.warn("设置contentType异常")}i.onload=function(){var t=i.responseText;if("json"===f)try{t=JSON.parse(t),e(t)}catch(t){e({description:"服务端异常",errcode:"serverErr"})}else e(t)},i.ontimeout=function(){e({errcode:"timeout",description:"请求超时,请安装且启动“金蝶发票管理组件”后重试！"},i)},i.onerror=function(){e({errcode:"err",description:"请求异常,请安装且启动“金蝶发票管理组件”后重试！"},i)},i.open(n,g,!0),"object"===(void 0===c?"undefined":(0,o.default)(c))&&(c=(0,r.default)(c)),"string"==typeof c?i.send(c):e({errcode:"argsErr",description:"参数格式不正确"})}else i=null,e({errcode:"accessErr",description:"税盘不支持访问"})}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e={ie:0,gecko:0,webkit:0,khtml:0,opera:0,ver:null},t={ie:0,firefox:0,safari:0,konq:0,opera:0,chrome:0,ver:null},n={win:!1,mac:!1,x11:!1,iphone:!1,ipod:!1,ipad:!1,ios:!1,android:!1,nokiaN:!1,winMobile:!1,wii:!1,ps:!1},r=navigator.userAgent;if(window.opera)e.ver=t.ver=window.opera.version(),e.opera=t.opera=parseFloat(e.ver);else if(/AppleWebKit\/(\S+)/.test(r))if(e.ver=RegExp.$1,e.webkit=parseFloat(e.ver),/Chrome\/(\S+)/.test(r))t.ver=RegExp.$1,t.chrome=parseFloat(t.ver);else if(/Version\/(\S+)/.test(r))t.ver=RegExp.$1,t.safari=parseFloat(t.ver);else{var o=1;o=e.webkit<100?1:e.webkit<312?1.2:e.webkit<412?1.3:2,t.safari=t.ver=o}else/KHTML\/(\S+)/.test(r)||/Konqueror\/([^;]+)/.test(r)?(e.ver=t.ver=RegExp.$1,e.khtml=t.konq=parseFloat(e.ver)):/rv:([^\)]+)\) Gecko\/\d{8}/.test(r)?(e.ver=RegExp.$1,e.gecko=parseFloat(e.ver),/Firefox\/(\S+)/.test(r)&&(t.ver=RegExp.$1,t.firefox=parseFloat(t.ver))):(/MSIE ([^;]+)/.test(r)||/Trident\/7.0/.test(r)&&/rv:([^\)]+)\)/.test(r)||/Edge\/(\S+)/.test(r))&&(e.ver=t.ver=RegExp.$1,e.ie=t.ie=parseFloat(e.ver));t.ie=e.ie,t.opera=e.opera;var i=navigator.platform;if(n.win=0==i.indexOf("Win"),n.mac=0==i.indexOf("Mac"),n.x11="X11"==i||0==i.indexOf("Linux"),n.win&&/Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?/.test(r))if("NT"==RegExp.$1)switch(RegExp.$2){case"5.0":n.win="2000";break;case"5.1":n.win="XP";break;case"6.0":n.win="Vista";break;case"6.1":n.win="7";break;default:n.win="NT"}else"9x"==RegExp.$1?n.win="ME":n.win=RegExp.$1;return n.iphone=r.indexOf("iPhone")>-1,n.ipod=r.indexOf("iPod")>-1,n.ipad=r.indexOf("iPad")>-1,n.nokiaN=r.indexOf("NokiaN")>-1,"CE"==n.win?n.winMobile=n.win:"Ph"==n.win&&/Windows Phone OS (\d+.\d+)/.test(r)&&(n.win="Phone",n.winMobile=parseFloat(RegExp.$1)),n.mac&&r.indexOf("Mobile")>-1&&(/CPU (?:iPhone )?OS (\d+_\d+)/.test(r)?n.ios=parseFloat(RegExp.$1.replace("_",".")):n.ios=2),/Android (\d+\.\d+)/.test(r)&&(n.android=parseFloat(RegExp.$1)),n.wii=r.indexOf("Wii")>-1,n.ps=/playstation/i.test(r),{engine:e,browser:t,system:n}}},function(e,t,n){var r=n(133),o=n(134).default,i=n(135).compressImgFile;e.exports={adjustSize:r.adjustSize,loadImage:r.loadImage,base64ToFile:r.base64ToFile,normalize:r.normalize,getRotateRect:r.getRotateRect,cuteImage:r.cuteImage,markImage:r.markImage,sortByRegion:r.sortByRegion,OperateCanvas:o,compressImgFile:i}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)}))}}function l(e,t,n,r){var o=parseFloat(n/e),i=parseFloat(r/t),a=parseFloat(e/t);return(e>n||t>r)&&(o<i?(e=n,t=Math.floor(e/a)):e=(t=r)*a),{width:e,height:t,rate:a}}function f(e){return new Promise((function(t){var n=new Image;n.onload=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({errcode:"0000",data:{imgObj:n,width:n.width,height:n.height}});case 1:case"end":return e.stop()}}),e)}))),n.onerror=function(){t({errcode:"2000",description:"加载图像失败"})},n.src=e}))}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t=t||"temp_"+ +new Date+"_"+Math.random().toString().replace(/0\./,"")+".jpg";for(var n=e.split(","),r=n[0].match(/:(.*?);/)[1],o=r.split("/")[1],i=atob(n[1]),a=i.length,c=new Uint8Array(a);a--;)c[a]=i.charCodeAt(a);if(t=t.split(".")[0],window.File&&"function"==typeof window.File){var u=new File([c],"".concat(t,".").concat(o),{type:r});return{errcode:"0000",data:u}}try{var s=new Blob([c],{type:r});return s.lastModifiedDate=new Date,s.name="".concat(t,".").concat(o),{errcode:"0000",data:s}}catch(e){return console.error(e),{errcode:"90002",description:"base64转换为图片异常，请检查图片是否正常"}}}function p(e){return h.apply(this,arguments)}function h(){return(h=s(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,u,s,p,h,v,m,g,y,x,b,w,S,k,I,O,j,E,R,P=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P.length>1&&void 0!==P[1]?P[1]:{},r=URL.createObjectURL(t),e.next=4,f(r);case 4:if("0000"===(o=e.sent).errcode){e.next=7;break}return e.abrupt("return",o);case 7:if(i=n.maxWidth,a=void 0===i?1920:i,c=n.maxHeight,u=void 0===c?1080:c,s=n.quality,p=void 0===s?.95:s,h=n.toType,v=void 0===h?"base64":h,m=n.filename,g=void 0===m?"":m,y=o.data,x=y.width,b=y.height,w=y.imgObj,S=l(x,b,a,u),k=S.width,I=S.height,O="",e.prev=13,(j=document.createElement("canvas")).width=k,j.height=I,(E=j.getContext("2d")).clearRect(0,0,k,I),E.drawImage(w,0,0,k,I),O=j.toDataURL("image/jpeg",p),"base64"!==v){e.next=23;break}return e.abrupt("return",{errcode:"0000",data:{imageWidth:k,imageHeight:I,base64:O}});case 23:e.next=29;break;case 25:return e.prev=25,e.t0=e.catch(13),console.error(e.t0),e.abrupt("return",{errcode:"90001",description:"图片转换异常, 请检查图片是否正常"});case 29:return e.next=31,d(O,g);case 31:if("0000"===(R=e.sent).errcode){e.next=34;break}return e.abrupt("return",R);case 34:return e.abrupt("return",{errcode:"0000",data:{imageWidth:k,imageHeight:I,file:R.data}});case 35:case"end":return e.stop()}}),e,null,[[13,25]])})))).apply(this,arguments)}function v(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,a=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,u=parseFloat(Math.PI/180),s=Math.cos,l=Math.sin,f=parseFloat(t/n);e=Math.abs(e);var d=r-i,p=o-i,h=t,v=n;return 0===(e%=360)||180===e?(d=r,p=o):90===e||270===e?(d=o,p=r):e>0&&e<90||e>180&&e<270?(d=r*s(e*u)+o*l(e*u),p=o*s(e*u)+r*l(e*u)):(e>90&&e<180||e>270&&e<360)&&(d=o*s(e*u)+r*l(e*u),p=r*s(e*u)+o*l(e*u)),a&&c&&(t<a||n<c)&&(n<c?h=f*(v=c):v=(h=a)/f),(h>d||v>p)&&(h>v?h=f*(v=p):v=(h=d)/f,h>d?v=(h=d)/f:v>p&&(h=(v=p)*f)),{rw:h,rh:v}}function m(e,t){return g.apply(this,arguments)}function g(){return(g=s(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,c,u,s,l,f,d,p,h,v,m,g,y,x,b,w,S,k,I,O,j,E,R,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.pixel,o=void 0===r?"":r,i=n.region,a=void 0===i?"":i,c=n.maxWidth,u=void 0===c?1920:c,s=n.maxHeight,l=void 0===s?1080:s,""!==a){e.next=3;break}return e.abrupt("return",{errcode:"0000",data:t});case 3:if(f=t.width,d=t.height,a&&o?(g=o.split(","),y=parseInt(g[0]),x=parseInt(g[1]),(f>d&&y<x||f<d&&y>x)&&(y=parseInt(g[1]),x=parseInt(g[0])),b=parseFloat(f/y),w=parseFloat(d/x),S=a.replace(/[\[\]]/g,"").split(","),p=parseInt(S[0])*b,h=parseInt(S[1])*w,v=parseInt(S[2])*b-p,m=parseInt(S[3])*w-h):(p=0,h=0,v=f,m=d),k=parseFloat(v/m),I=v,O=m,"function"==typeof(j=document.createElement("canvas")).getContext){e.next=12;break}return e.abrupt("return",{errcode:"unsport",description:"浏览器不支持canvas"});case 12:return u=v>1920?1920:v,l=m>1080?1080:m,j.width=u,j.height=l,(E=j.getContext("2d")).clearRect(0,0,u,l),R=u,P=l,E.save(),E.translate(u/2,l/2),I>O?I=k*(O=P):O=(I=R)/k,I>R?O=(I=R)/k:O>P&&(I=(O=P)*k),E.translate(-I/2,-O/2),E.drawImage(t,p,h,v,m,0,0,I,O),E.restore(),e.abrupt("return",{errcode:"0000",description:"success",data:j});case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){if(e.length<=1)return e;for(var t=0;t<e.length-1;t++)for(var n=0;n<e.length-t-1;n++){var r=e[n],o=e[n+1],i=o.region||"";i=i.replace(/[[\]]/g,"").split(",");var c=parseInt(i[0]),u=parseInt(i[1]),s=r.region||"";s=s.replace(/[[\]]/g,"").split(",");var l=c-parseInt(s[0]),f=u-parseInt(s[1]),d=!1;if(l<0&&f<0?d=!0:l<0?d=!(f+l>0):f<0&&(d=!(f+l>50)),d){var p=a({},o);e[n+1]=a({},r),e[n]=p}}return e}function x(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r(e),n=0;n<t.length;n++){var o=t[n],i=o.region||"";i=i.replace(/[[\]]/g,"").split(",");for(var a=parseInt(i[0]),c=parseInt(i[1]),u=parseInt(i[2]),s=parseInt(i[3]),l=0;l<t.length;l++)if(!(l<=n)){var f=t[l],d=f.region||"";d=d.replace(/[[\]]/g,"").split(",");var p=parseInt(d[0]),h=parseInt(d[1]),v=parseInt(d[2]),m=parseInt(d[3]);if(!(u<p||s<h)){var g=Math.abs((u>v?u:v)-(a<p?a:p)),y=Math.abs(u-a)+Math.abs(v-p),x=Math.abs((s>m?s:m)-(h<c?h:c)),b=Math.abs(s-c)+Math.abs(m-h),w=g-y,S=x-b;w>0||S>0||(S=Math.abs(S)/2+6,(w=Math.abs(w)/2+6)<S?(a<p?(i=[a,c,parseInt(i[2])-w,i[3]],d=[p+w,h,d[2],d[3]],u-=w,p+=w):(i=[a+w,c,i[2],i[3]],d=[p,h,parseInt(d[2])-w,d[3]],v-=w,a+=w),t[n].region=i.join(","),t[l].region=d.join(",")):(c<h?(i=[a,c,i[2],parseInt(i[3])-S],d=[p,h+S,d[2],d[3]],s-=S,h+=S):(i=[a,c+S,i[2],i[3]],d=[p,h,d[2],parseInt(d[3])-S],m-=S,c+=S),t[n].region=i.join(","),t[l].region=d.join(",")))}}}return t}function b(e){return w.apply(this,arguments)}function w(){return(w=s(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,u,s,l,f,d,p,h,m,g=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>1&&void 0!==g[1]?g[1]:{},r=n.maxWidth,o=void 0===r?1920:r,i=n.maxHeight,a=void 0===i?1024:i,c=n.minWidth,u=n.minHeight,"function"==typeof(s=document.createElement("canvas")).getContext){e.next=5;break}return e.abrupt("return",{errcode:"unsport",description:"浏览器不支持canvas"});case 5:return l=t.width,f=t.height,d=v(0,l,f,o,a,0,c,u),p=d.rw,h=d.rh,s.width=p,s.height=h,(m=s.getContext("2d")).clearRect(0,0,s.width,s.height),m.save(),m.drawImage(t,0,0,l,f,0,0,p,h),m.restore(),e.abrupt("return",{errcode:"0000",description:"success",data:s});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return k.apply(this,arguments)}function k(){return(k=s(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,c,u,s,l,f,d,p,h,m,g,y,b,w,S,k,I,O,j,E,R,P,T,L,C,F,_,D,A,q,U,M,N,B,G,H,z,W,J,Q,$,V,X,Y,K,Z;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.targetWidth,o=n.targetHeight,i=n.areaInfo,a=void 0===i?[]:i,c=n.clearCanvas,u=n.orientation,s=void 0===u?0:u,l=n.maxWidth,f=void 0===l?1920:l,d=n.maxHeight,p=void 0===d?1024:d,h=12,m=16,g=2,y=1,b=t.width,w=t.height,0!==a.length){e.next=9;break}return e.abrupt("return",{errcode:"argsErr",description:"标记区域为空"});case 9:if(void 0===c&&(c=!0),(S=document.createElement("canvas"))&&"function"==typeof S.getContext){e.next=13;break}return e.abrupt("return",{errcode:"unsport",description:"浏览器不支持canvas"});case 13:for(k=Math.abs(s)%360,I=v(k,b,w,f,p,0),O=I.rw,j=I.rh,E=S.getContext("2d"),R=0,P=0,T=0,L=0,C=b,F=w,(_=a[0].pixel)&&(D=_.split(","),b>w&&C<F||b<w&&C>F?(C=parseInt(D[1]),F=parseInt(D[0])):(C=parseInt(D[0]),F=parseInt(D[1]))),90===k||270===k?(S.width=j,S.height=O):(S.width=O,S.height=j),E.save(),E.clearRect(0,0,S.width,S.height),E.translate(S.width/2,S.height/2),E.rotate(-s*Math.PI/180),A=parseFloat(O/C),q=parseFloat(j/F),E.translate(-O/2,-j/2),E.drawImage(t,0,0,b,w,0,0,O,j),U=v(0,S.width,S.height,r,o,0),y=S.height/U.rh,h*=y,m*=y,g*=y,M=x(a),N=0;N<M.length;N++)B=M[N].region.replace(/[[\]]/g,"").split(","),M[N].region||(B=[0,0,b,w]),G=M[N].markColor||"#487BFB",H=M[N].lineColor||G,R=parseInt(B[0])*A,P=parseInt(B[1])*q,T=parseInt(B[2])*A-R,L=parseInt(B[3])*q-P,z=parseInt(B[2])*A,W=parseInt(B[3])*q,T+R>O&&(T=O-R),L+P>j&&(L=j-P),E.save(),E.strokeStyle=H,E.lineWidth=g,"function"==typeof E.setLineDash&&E.setLineDash([10*y,10*y]),E.moveTo(R+g,P+g),E.beginPath(),E.strokeRect(R+g,P+g,T-2*g,L-2*g),E.stroke(),E.closePath(),E.restore(),E.save(),E.strokeStyle=G,E.beginPath(),J=R+h+g+2,Q=P+h+g+2,-90===s||270===s?Q=W-h-g-2:-180===s||180===s?(J=z-h-g-2,Q=W-h-g-2):90!==s&&-270!==s||(J=z-h-g-2),E.moveTo(J,Q),E.arc(J,Q,h,0,2*Math.PI,!1),E.closePath(),E.stroke(),E.fillStyle=G,E.fill(),E.restore();for($=0;$<M.length;$++)V=M[$].region.replace(/[[\]]/g,"").split(","),M[$].region||(V=[0,0,b,w]),R=parseInt(V[0])*A,P=parseInt(V[1])*q,X=parseInt(V[2])*A,Y=parseInt(V[3])*q,K=R+h+g+2.3,Z=P+h+g+2.3,E.save(),E.font=m+"px Times New Roman",E.fillStyle="#fff",E.textAlign="center",E.textBaseline="middle",-90===s||270===s?Z=Y-h-g-2.3:-180===s||180===s?(K=X-h-g-2.3,Z=Y-h-g-2.3):90!==s&&-270!==s||(K=X-h-g-2.3),0!==s?(E.translate(K,Z),E.rotate(s*Math.PI/180),E.fillText($+1,0,0)):E.fillText($+1,K,Z),E.restore();return E.restore(),e.abrupt("return",{errcode:"0000",description:"success",data:S});case 45:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.r(t),n.d(t,"adjustSize",(function(){return l})),n.d(t,"loadImage",(function(){return f})),n.d(t,"base64ToFile",(function(){return d})),n.d(t,"normalize",(function(){return p})),n.d(t,"getRotateRect",(function(){return v})),n.d(t,"cuteImage",(function(){return m})),n.d(t,"sortByRegion",(function(){return y})),n.d(t,"adjuestRect",(function(){return x})),n.d(t,"showImage",(function(){return b})),n.d(t,"markImage",(function(){return S}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n(133);function o(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function c(e){o(a,r,i,c,u,"next",e)}function u(e){o(a,r,i,c,u,"throw",e)}c(void 0)}))}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"modifyArgs",(function(e){n.displayFlag=e.displayFlag||n.displayFlag,n.width=e.width||n.width,n.height=e.height||n.height,n.emptyFillStyle=e.emptyFillStyle||n.emptyFillStyle,n.imgCanvasObj=null})),c(this,"computeDrawSize",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.imgWidth,o=e.imgHeight,i=e.maxWidth,a=e.maxHeight,c=e.rotateDeg,u=void 0===c?n.rotateDeg:c,s=e.displayFlag,l=void 0===s?"showImage":s,f=e.resetLargerRatio,d=e.reset,p=void 0!==e.largerRatio?e.largerRatio:n.largerRatio,h=parseFloat(t/o),v=1*i/2,m=1*a/2;if(u!==n.rotateDeg||f||d){var g="markImage"===l?0:u,y=Object(r.getRotateRect)(g,t,o,i,a,0,v,m);n.rw=y.rw,n.rh=y.rh,n.rotateDeg=d?n.initRotateDeg:u,n.largerRatio=parseFloat(n.rw/t),n.initLargerRatio||(n.initLargerRatio=n.largerRatio)}else p!==n.largerRatio&&(n.largerRatio=p),n.rh=o*p,n.rw=n.rh*h})),c(this,"showImage",function(){var e=i(regeneratorRuntime.mark((function e(t){var o,i,a,c,u,s,l,f,d,p,h,v,m,g,y,x,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=b.length>1&&void 0!==b[1]?b[1]:{},i=o.resetLargerRatio,a=o.reset,c=o.largerRatio,u=void 0===c?n.largerRatio:c,s=void 0!==o.rotateDeg?o.rotateDeg:n.rotateDeg,s%=360,l=n.ctx.canvas.width,f=n.ctx.canvas.height,d=n.getOffset(s,o.offsetX,o.offsetY),p=d.offsetX,h=d.offsetY,s===n.rotateDeg&&n.imgCanvasObj){e.next=14;break}return e.next=10,Object(r.showImage)(t);case 10:if("0000"===(v=e.sent).errcode){e.next=13;break}return e.abrupt("return",v);case 13:n.imgCanvasObj=v.data;case 14:return m=n.ctx,g=n.imgCanvasObj.width,y=n.imgCanvasObj.height,n.computeDrawSize({imgWidth:g,imgHeight:y,maxWidth:l,maxHeight:f,rotateDeg:s,largerRatio:u,resetLargerRatio:i,reset:a}),x=m.canvas,m.save(),m.fillStyle=n.emptyFillStyle,m.clearRect(0,0,x.width,x.height),m.translate(x.width/2,x.height/2),m.rotate(-s*Math.PI/180),m.translate(-n.rw/2+p,-n.rh/2+h),m.drawImage(n.imgCanvasObj,0,0,g,y,0,0,n.rw,n.rh),m.restore(),e.abrupt("return",{errcode:"0000",data:{rotateDeg:n.rotateDeg,largerRatio:n.largerRatio}});case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"cuteImage",function(){var e=i(regeneratorRuntime.mark((function e(t){var o,i,a,c,u,s,l,f,d,p,h,v,m,g,y,x,b,w,S,k,I,O=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=O.length>1&&void 0!==O[1]?O[1]:{},i=o.resetLargerRatio,a=o.reset,c=o.largerRatio,u=void 0===c?n.largerRatio:c,s=o.areaInfo,l=void 0===s?[]:s,f=void 0!==o.rotateDeg?o.rotateDeg:n.rotateDeg,f%=360,d=l[0],p=d.pixel,h=d.region,v=n.ctx.canvas.width,m=n.ctx.canvas.height,f===n.rotateDeg&&n.imgCanvasObj){e.next=14;break}return e.next=10,Object(r.cuteImage)(t,{pixel:p,region:h});case 10:if("0000"===(g=e.sent).errcode){e.next=13;break}return e.abrupt("return",g);case 13:n.imgCanvasObj=g.data;case 14:return y=n.ctx,x=y.canvas,b=n.imgCanvasObj.width,w=n.imgCanvasObj.height,S=n.getOffset(f,o.offsetX,o.offsetY),k=S.offsetX,I=S.offsetY,n.computeDrawSize({imgWidth:b,imgHeight:w,maxWidth:v,maxHeight:m,rotateDeg:f,largerRatio:u,resetLargerRatio:i,reset:a}),y.save(),y.fillStyle=n.emptyFillStyle,y.clearRect(0,0,x.width,x.height),y.translate(x.width/2,x.height/2),y.rotate(-f*Math.PI/180),y.translate(-n.rw/2+k,-n.rh/2+I),y.drawImage(n.imgCanvasObj,0,0,b,w,0,0,n.rw,n.rh),y.restore(),e.abrupt("return",{errcode:"0000",data:{rotateDeg:n.rotateDeg,largerRatio:n.largerRatio}});case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"markImage",function(){var e=i(regeneratorRuntime.mark((function e(t){var o,i,a,c,u,s,l,f,d,p,h,v,m,g,y,x,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=b.length>1&&void 0!==b[1]?b[1]:{},i=o.resetLargerRatio,a=o.reset,c=o.offsetX,u=o.offsetY,s=o.largerRatio,l=void 0===s?n.largerRatio:s,f=o.areaInfo,d=void 0===f?[]:f,p=void 0!==o.rotateDeg?o.rotateDeg:n.rotateDeg,p%=360,h=n.ctx,v=h.canvas.width,m=h.canvas.height,p===n.rotateDeg&&n.imgCanvasObj){e.next=14;break}return e.next=10,Object(r.markImage)(t,{targetHeight:m,targetWidth:v,areaInfo:d,orientation:p});case 10:if("0000"===(g=e.sent).errcode){e.next=13;break}return e.abrupt("return",g);case 13:n.imgCanvasObj=g.data;case 14:return y=n.imgCanvasObj.width,x=n.imgCanvasObj.height,n.computeDrawSize({displayFlag:"markImage",imgWidth:y,imgHeight:x,maxWidth:v,maxHeight:m,rotateDeg:p,largerRatio:l,resetLargerRatio:i,reset:a}),h.save(),h.fillStyle=n.emptyFillStyle,h.clearRect(0,0,h.canvas.width,h.canvas.height),h.translate(h.canvas.width/2-n.rw/2+c,h.canvas.height/2-n.rh/2+u),h.drawImage(n.imgCanvasObj,0,0,y,x,0,0,n.rw,n.rh),h.restore(),e.abrupt("return",{errcode:"0000",data:{rotateDeg:n.rotateDeg,largerRatio:n.largerRatio}});case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.ctx=t.ctx,this.width=t.width,this.height=t.height,this.initLargerRatio=t.largerRatio||1,this.initRotateDeg=t.rotateDeg||0,this.rotateDeg=this.initRotateDeg,this.largerRatio=this.initLargerRatio,this.emptyFillStyle=t.emptyFillStyle||"#D7DAE1"}var t,n,o;return t=e,(n=[{key:"getOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(90===e||-270===e){var r=n;n=t,t=-r}else if(-90===e||270===e){var o=n;n=-t,t=o}else 180!==e&&-180!==e||(n=-n,t=-t);return{offsetX:t,offsetY:n}}}])&&a(t.prototype,n),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"tempCompressImgFile",(function(){return s})),n.d(t,"compressImgFile",(function(){return f}));var r=n(133);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)}))}}function s(e){return l.apply(this,arguments)}function l(){return(l=u(regeneratorRuntime.mark((function e(t){var n,o,a,c,u,s,l,f,d,p,h,v,m,g,y,x,b,w,S,k,I,O,j,E,R=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=R.length>1&&void 0!==R[1]?R[1]:{},o=n.localUrl||"",a=window.URL||window.webkitURL||window.mozURL||{},-1!==(t.type||"").indexOf("image/")&&"function"==typeof a.createObjectURL&&void 0!==n.fileLimitSize){e.next=6;break}return e.abrupt("return",{errcode:"0000",localUrl:o,file:t});case 6:if(c=n.fileLimitWidth,u=n.fileLimitHeight,!(s=n.fileLimitPixel)&&c&&u&&(s=c>u?u:c),s||(s=1500),l=n.fileQuality||.98,l=isNaN(parseFloat(l))?.98:parseFloat(l),""!==o){e.next=21;break}e.prev=13,o=a.createObjectURL(t),e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(13),window.console&&console.error(e.t0),e.abrupt("return",{errcode:"0000",localUrl:o,file:t});case 21:if(f=n.fileLimitSize,d=t.size,p=1024*parseFloat(f)*1024,!(d<=p)){e.next=26;break}return e.abrupt("return",{errcode:"0000",localUrl:o,file:t});case 26:return h=p/d,e.next=29,Object(r.loadImage)(o);case 29:if("0000"===(v=e.sent).errcode){e.next=32;break}return e.abrupt("return",{errcode:"0000",localUrl:o,file:t});case 32:if(m=v.data,g=m.width,y=m.height,x=m.imgObj,b={originWidth:g,originHeight:y,width:g,height:y,localUrl:o},!(g<s||y<s)){e.next=36;break}return e.abrupt("return",i(i({errcode:"0000"},b),{},{file:t}));case 36:w=g,S=y,k=g/y,g<=y?(S=Math.floor(y*h),w=Math.floor(S*k)):(w=Math.floor(g*h),S=Math.floor(w/k)),(w<s||S<s)&&(w<=S?(w=s,S=Math.floor(w/k)):(S=s,w=Math.floor(S*k))),b.width=w,b.height=S,e.prev=43,(O=document.createElement("canvas")).width=w,O.height=S,(j=O.getContext("2d")).clearRect(0,0,w,S),j.drawImage(x,0,0,w,S),I=O.toDataURL("image/jpeg",l),O=null,e.next=58;break;case 54:return e.prev=54,e.t1=e.catch(43),window.console&&console.error(e.t1),e.abrupt("return",i(i({errcode:"0000"},b),{},{file:t}));case 58:return e.next=60,Object(r.base64ToFile)(I,t.name);case 60:if(!("0000"!==(E=e.sent).errcode||E.data.size>t.size)){e.next=63;break}return e.abrupt("return",i(i({errcode:"0000"},b),{},{width:g,height:y,file:t}));case 63:return e.abrupt("return",i(i({errcode:"0000"},b),{},{file:E.data}));case 64:case"end":return e.stop()}}),e,null,[[13,17],[43,54]])})))).apply(this,arguments)}function f(e){return d.apply(this,arguments)}function d(){return(d=u(regeneratorRuntime.mark((function e(t){var n,r,o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.prev=1,e.next=4,s(t,n);case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(1),window.console&&console.error(e.t0);case 11:return o=n.localUrl||"",e.abrupt("return",{errcode:"0000",localUrl:o,file:t});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(9),i=n(132),a=n(3),c=n.n(a),u=n(137),s=["data"];function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,c,"next",e)}function c(e){f(i,r,o,a,c,"throw",e)}a(void 0)}))}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"initScan",(function(e){n.sourceName="",n.staticUrl=e.staticUrl||"",n.needRegonizeQr=e.needRegonizeQr||!1,n.uploadUrl=e.uploadUrl,n.headers=e.headers,n.locale=e.locale,n.limit=e.limit||2,n.debug=e.debug||!1,n.queryDelay=e.queryDelay||1e3,n.scanFileStaticJs=e.scanFileStaticJs||["".concat(n.staticUrl,"/static/gallery/scanner-ruizhen/JsScanner-min.js")],n.scannerApiUrl=e.scannerApiUrl||"http://127.0.0.1:25972/jsscaner/api/v1/command",n.downloadUrl=e.downloadUrl||"".concat(n.staticUrl,"/static/gallery/scanner-ruizhen/JsScanner.msi"),n.onError=e.onError||function(){},n.setCompressOpt(e),n.needRegonizeQr&&n.scanFileStaticJs.push(staticUrl+"/static/gallery/llqrcode.min.js"),n.scanner=new r.default({API_URL:n.scannerApiUrl})})),h(this,"setCompressOpt",(function(e){var t={};e.fileQuality&&(t.fileQuality=e.fileQuality),e.fileLimitWidth&&(t.fileLimitWidth=e.fileLimitWidth),e.fileLimitHeight&&(t.fileLimitHeight=e.fileLimitHeight),e.fileLimitPixel&&(t.fileLimitPixel=e.fileLimitPixel),e.fileLimitSize&&(t.fileLimitSize=e.fileLimitSize),n.compressOpt=t})),h(this,"setDuplexEnabled",(function(e,t){e?(n.ifDuplexEnabled=void 0===t||t,n.duplex=1):(n.ifDuplexEnabled=void 0!==t&&t,n.duplex=0)})),h(this,"setDiscardBlankpages",(function(e){n.ifDuplexEnabled=e})),h(this,"setQrcodeRecognize",(function(e){n.needRegonizeQr=e})),h(this,"resetScan",(function(){if(n.handleIsEnd=!0,n.queryIsEnd=!0,n.queryResultIsEnd=!1,n.scannerSources=[],n.filename="",n.data=null,n.timer?window.clearTimeout(n.timer):n.timer=null,!n.disabledClearFiles&&n.Guid&&n.processFile&&n.processFile.length>0){var e=n.Guid;setTimeout((function(){n.scanner.DeleteAcquireFiles(e)}),1e3)}n.processFile=[],n.Guid="",n.asyncPathsMap&&n.asyncPathsMap.size>0?n.asyncPathsMap.clear():n.asyncPathsMap=new Map})),h(this,"showSelectSource",(function(){var e;Object(u.showSelectSource)({scannerSources:n.scannerSources,sourceName:n.sourceName,onSelect:function(e){n.sourceName=e},onConfirm:function(e){n.sourceName=e,n.AcquireSync(e,{})},onCancel:(e=d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.sourceName="",e.next=3,n.onScanEnd({errcode:"0000",description:"success",data:{imagesNum:0,operateStatus:"cancelSelectSource"}});case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})})),h(this,"showDownloadMsi",(function(e){var t,r;Object(u.showDownloadMsi)({downloadUrl:n.downloadUrl,upgradeFlag:e,onConfirm:(r=d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.onScanEnd({errcode:"0000",description:"success",data:{operateStatus:"confirmDownload",imagesNum:0}});case 2:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),onCancel:(t=d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.onScanEnd({errcode:"0000",description:"success",data:{operateStatus:"cancelDownload",imagesNum:0}});case 2:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})})})),h(this,"setScanSource",(function(e){n.sourceName=e})),h(this,"getScanSources",function(){var e=d(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||!(n.scannerSources.length>0)){e.next=2;break}return e.abrupt("return",{errcode:"0000",description:"success",data:n.scannerSources});case 2:return e.next=4,n.GetDataSources();case 4:if("4000"!==(r=e.sent).ErrorCode){e.next=10;break}return n.showDownloadMsi(),e.abrupt("return",{errcode:"4000",description:"未安装jsScanner扫描组件"});case 10:if(0==r.ErrorCode){e.next=12;break}return e.abrupt("return",{errcode:"4000",description:r.ErrorDescription||"获取扫描仪异常，请重试"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h(this,"checkVersion",d(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.scanner.GetProductVersion();case 3:t=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{ErrorCode:"4000",ErrorDescription:"扫描仪组件调用异常，请检查是否安装"});case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))),h(this,"startScan",function(){var e=d(regeneratorRuntime.mark((function e(t){var r,o,i,a,c,u,f,d,p,h,v,m,g,y,x,b,w,S,k,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.resetScan(!0),r=t.data,o=void 0===r?{}:r,i=l(t,s),i.redirectUpload,a=i.filename,c=void 0===a?"file":a,u=i.addUploadProgress,f=void 0===u?function(){}:u,d=i.stepUploadStart,p=void 0===d?function(){}:d,h=i.stepUploadFinish,v=void 0===h?function(){}:h,m=i.uploadFinish,g=void 0===m?function(){}:m,y=i.onConnected,x=void 0===y?function(){}:y,n.setScanParam(i),n.filename=c,n.onConnected=x,n.addUploadProgress=f,n.stepUploadStart=p,n.stepUploadFinish=v,n.uploadFinish=g,n.data=o,b=n.sourceName,e.next=14,n.checkVersion();case 14:if("4000"!==(w=e.sent).ErrorCode){e.next=18;break}return n.showDownloadMsi(),e.abrupt("return");case 18:if(0==w.ErrorCode){e.next=22;break}return e.next=21,n.onScanEnd(w);case 21:return e.abrupt("return");case 22:if(S=w.Major,k=w.Minor,!(n.versionMajor>S||n.versionMajor===S&&n.versionMinor>k)){e.next=26;break}return n.showDownloadMsi(!0),e.abrupt("return");case 26:return e.next=28,n.GetDataSources();case 28:if(0==(I=e.sent).ErrorCode){e.next=33;break}return e.next=32,n.onScanEnd(I);case 32:return e.abrupt("return");case 33:if(n.scannerSources=I.Sources,0!==n.scannerSources.length){e.next=38;break}return e.next=37,n.onScanEnd({ErrorCode:"30001",ErrorDescription:"未获取到扫描仪，请检查扫描仪驱动是否安装"});case 37:return e.abrupt("return");case 38:if(1!==n.scannerSources.length){e.next=42;break}return n.sourceName=n.scannerSources[0],n.AcquireSync(n.scannerSources[0],{}),e.abrupt("return");case 42:b&&-1!==n.scannerSources.indexOf(b)?n.AcquireSync(b,{}):n.showSelectSource();case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h(this,"GetDataSources",(function(){return new Promise((function(e){n.scanner.GetDataSources((function(t){n.debug&&console.log("GetSourcesCompleted",t),e(t)}),{})}))})),h(this,"getUUId",(function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))})),h(this,"dataURLtoBlob",(function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n);n--;)r[n]=t.charCodeAt(n);return new Blob([r],{type:"image/jpeg"})})),h(this,"blobToFile",(function(e,t){var n=new Date;return e.lastModified=n.getTime(),e.lastModifiedDate=n,e.name=t,e})),h(this,"base64ToFile",(function(e,t){var r=n.dataURLtoBlob(e),i=o.tools.blobToFile(r,t);return i||n.blobToFile(r,t)})),h(this,"handlerUpload",function(){var e=d(regeneratorRuntime.mark((function e(t,r){var a,c,u,s,l,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,e.next=3,Object(i.compressImgFile)(r.file,n.compressOpt);case 3:if(c=e.sent,u=r.file,"0000"===c.errcode&&(u=c.file),a.append(n.filename,u,r.file.name),s=Object.assign(n.data,t.otherData))for(l in s)Object.hasOwnProperty.call(s,l)&&(f=s[l],a.append(l,f));return p={method:"post",data:a,contentType:"file",headers:n.headers},e.abrupt("return",new Promise(function(){var e=d(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(o.pwyFetch)(n.uploadUrl,p).then((function(e){t(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h(this,"getFileInfo",(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.index,o=t.Base64String,i=void 0===o?"":o,a=t.ErrorDescription,c=t.ErrorCode,u=n.getUUId(),s=u+"-"+r+".jpg",l={name:s,index:r,status:"init",id:u,errcode:"0000",description:"success",file:{name:s,size:0},localUrl:"",qrcodeResult:""},f="0000",d="success";if("0"!=c)f="5000",d=a||"获取扫描仪文件异常";else try{e=n.base64ToFile(i,s)}catch(e){console.error("base64ToFile error",e),f="5001",d="浏览器不支持，请更换chrome或者高版本浏览器"}return l.localUrl="data:image/jpg;base64,"+i,e&&(l.file=e),{errcode:f,description:d,fileInfo:l}})),h(this,"mapLimitUpload",(function(e){return new Promise((function(t){c.a.mapLimit(e,n.limit,function(){var e=d(regeneratorRuntime.mark((function e(t,r){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=n.asyncPathsMap.get(t))||"waitUpload"!==o.status){e.next=6;break}return e.next=4,n.handlerUpload(o.preRes,o.fileInfo);case 4:i=e.sent,n.asyncPathsMap.set(t,{status:"uploaded",res:i,fileInfo:o.fileInfo,preRes:o.preRes});case 6:r(null,{});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),(function(e){e&&console.error("mapLimitUpload error",e),t({errcode:"0000",description:"success"})}))}))})),h(this,"handlePreUploadBySort",function(){var e=d(regeneratorRuntime.mark((function e(t){var r,o,i,a,c,u,s,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=41;break}if(o=t[r],i=n.asyncPathsMap.get(o)){e.next=6;break}return e.abrupt("break",41);case 6:if("waiting"!==i.status){e.next=38;break}if(a=n.getFileInfo(i),c=a.errcode,u=a.description,s=a.fileInfo,"function"!=typeof n.addUploadProgress){e.next=18;break}return e.prev=10,e.next=13,n.addUploadProgress(s);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.error("addUploadProgress error",s,e.t0);case 18:if("0000"===c){e.next=21;break}return n.asyncPathsMap.set(o,{status:"uploaded",res:{errcode:c,description:u},fileInfo:s,preRes:{}}),e.abrupt("return");case 21:return l=!0,f={},e.prev=23,e.next=26,n.stepUploadStart(s);case 26:f=e.sent,e.next=33;break;case 29:e.prev=29,e.t1=e.catch(23),f={},console.error("stepUploadStart处理失败：",e.t1);case 33:if(f&&f.otherData&&f.otherData.stopStepUpload&&(l=!1),l){e.next=37;break}return n.asyncPathsMap.set(o,{status:"uploaded",res:{errcode:"0000",description:"success"},fileInfo:s,preRes:f}),e.abrupt("return");case 37:n.asyncPathsMap.set(o,{status:"waitUpload",fileInfo:s,preRes:f});case 38:r++,e.next=1;break;case 41:case"end":return e.stop()}}),e,null,[[10,15],[23,29]])})));return function(t){return e.apply(this,arguments)}}()),h(this,"handlerStepUploadFinishBySort",function(){var e=d(regeneratorRuntime.mark((function e(t){var r,o,i,a,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=27;break}if(o=t[r],i=n.asyncPathsMap.get(o)){e.next=8;break}return e.abrupt("break",27);case 8:if("done"!==i.status){e.next=12;break}return e.abrupt("continue",24);case 12:if("uploaded"===i.status){e.next=14;break}return e.abrupt("break",27);case 14:return a=i.preRes||{},c=a.otherData,u=void 0===c?{}:c,e.prev=15,e.next=18,n.stepUploadFinish(i.res,i.fileInfo,u);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(15),console.error("stepUploadFinish处理失败：",e.t0);case 23:n.asyncPathsMap.set(o,{status:"done"});case 24:r++,e.next=1;break;case 27:case"end":return e.stop()}}),e,null,[[15,20]])})));return function(t){return e.apply(this,arguments)}}()),h(this,"handleScanedFiles",d(regeneratorRuntime.mark((function e(){var t,r,o,i,a,c,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},r=n.processFile,e.next=4,n.handlePreUploadBySort(r);case 4:return e.next=6,n.mapLimitUpload(r);case 6:return e.next=8,n.handlerStepUploadFinishBySort(r);case 8:o=!0,i=0;case 10:if(!(i<r.length)){e.next=19;break}if(a=r[i],(c=n.asyncPathsMap.get(a))&&"done"===c.status){e.next=16;break}return o=!1,e.abrupt("break",19);case 16:i++,e.next=10;break;case 19:if(!n.queryIsEnd||!o){e.next=24;break}return n.handleIsEnd=!0,window.clearTimeout(n.timer),e.next=24,n.onScanEnd({errcode:t.errcode||"0000",description:t.description||"success",data:{imagesNum:r.length}});case 24:case"end":return e.stop()}}),e)})))),h(this,"getFileAsyncByPath",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o={};try{o=n.scanner.GetFileAsyncByPath(e,t)}catch(o){return r>=2?(console.error("getFilesData fileRes: ",o),{ErrorCode:"500",ErrorDescription:"获取扫描仪件异常"}):n.getFileAsyncByPath(e,t,r+1)}return o})),h(this,"getFilesData",(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;t<e.length;t++){var r=e[t];if(!n.asyncPathsMap.get(r)){var o=n.getFileAsyncByPath(n.Guid,r),i=o.Base64String,a=void 0===i?"":i,c=o.ErrorDescription,u=void 0===c?"获取扫描仪件异常":c,s=o.ErrorCode;void 0===o.ErrorCode&&(s="500"),n.asyncPathsMap.set(r,{status:"waiting",index:t,Base64String:a,ErrorDescription:u,ErrorCode:s})}}})),h(this,"QueryResult",d(regeneratorRuntime.mark((function e(){var t,r,o,i,a,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=n.scanner.QueryResult(n.Guid),e.next=10;break;case 4:return e.prev=4,e.t0=e.catch(0),console.error("scanner QueryResult error",e.t0),e.next=9,n.onScanEnd({errcode:"30000",description:"扫描异常，请检查扫描仪是否连接正常"});case 9:return e.abrupt("return");case 10:if(o=(r=t).Status,i=r.Files,a=r.Data,c=r.ErrorCode,u=r.ErrorDescription,"0"==c){e.next=17;break}return n.debug&&console.warn("QueryResult res",t),n.sourceName="",e.next=16,n.onScanEnd({errcode:"30001",description:u||"扫描异常，请检查扫描仪是否连接正常"});case 16:return e.abrupt("return");case 17:if(1!=o){e.next=24;break}return n.processFile=i,n.getFilesData(i),e.next=22,n.handleScanedFiles();case 22:e.next=36;break;case 24:if(2!=o){e.next=36;break}if(n.queryIsEnd=!0,a.Paths&&a.Paths.length>n.processFile.length&&(n.processFile=a.Paths,n.getFilesData(n.processFile)),"0"==a.ErrorCode){e.next=34;break}return l="30002",7==a.ErrorCode?(n.sourceName="",l="30004",s="无法打开指定的扫描仪，请检查扫描仪是否选择正确"):9==a.ErrorCode?(l="30004",s="扫描仪缺纸，请检查！"):10==a.ErrorCode?(l="30005",s="扫描仪卡纸，请检查！"):s=a.ErrorDescription||"扫描异常，请重试",e.next=32,n.handleScanedFiles({errcode:l,description:s});case 32:e.next=36;break;case 34:return e.next=36,n.handleScanedFiles();case 36:case"end":return e.stop()}}),e,null,[[0,4]])})))),h(this,"loopHandlerFiles",d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.handleIsEnd){e.next=3;break}return window.clearTimeout(n.timer),e.abrupt("return");case 3:if(e.prev=3,!n.queryIsEnd){e.next=9;break}return e.next=7,n.handleScanedFiles();case 7:e.next=11;break;case 9:return e.next=11,n.QueryResult();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("loopHandlerFiles error",e.t0);case 16:n.timer=window.setTimeout((function(){return n.loopHandlerFiles(),!1}),n.queryDelay);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))),h(this,"AcquireSync",function(){var e=d(regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.ifDuplexEnabled?1:0,e.prev=1,o=n.scanner.AcquireAsync(t,n.duplex,n.color,n.resolution,n.format,r),e.next=11;break;case 5:return e.prev=5,e.t0=e.catch(1),console.error("AcquireAsync error",e.t0),e.next=10,n.onScanEnd({errcode:"500",description:"扫描服务进程异常，请检查！"});case 10:return e.abrupt("return");case 11:if(0==o.ErrorCode){e.next=16;break}return n.debug&&console.warn("AcquireSync res",o),e.next=15,n.onScanEnd(o);case 15:return e.abrupt("return");case 16:if(!o.Guid){e.next=23;break}n.Guid=o.Guid,n.handleIsEnd=!1,n.queryIsEnd=!1,n.loopHandlerFiles(),e.next=26;break;case 23:return n.debug&&console.warn("AcquireAsync 异常",o),e.next=26,n.onScanEnd({ErrorCode:"30003",ErrorDescription:"扫描异常，请检查扫描仪"});case 26:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}()),h(this,"onScanEnd",function(){var e=d(regeneratorRuntime.mark((function e(t){var r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={errcode:t.ErrorCode||t.errcode,description:t.ErrorDescription||t.description,data:t.data||""},o=r.errcode,i=r.description,a=r.data,n.resetScan(),e.prev=3,"function"!=typeof n.uploadFinish){e.next=9;break}return e.next=7,n.uploadFinish({errcode:o,description:i,data:a});case 7:e.next=11;break;case 9:return e.next=11,n.onError({errcode:o,description:i});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("onScanEnd error",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()),this.versionMajor=1,this.versionMinor=4,this.version="".concat(this.versionMajor,".").concat(this.versionMinor),this.disabledClearFiles=t.disabledClearFiles||!1,this.setScanParam(t),this.initScan(t)}var t,n,a;return t=e,(n=[{key:"setScanParam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.duplex=e.duplex||this.duplex||0,this.color=e.color||this.color||2,this.resolution=e.resolution||this.resolution||300,this.format=e.format||this.format||"jpg",this.ifDuplexEnabled=e.ifDuplexEnabled||this.ifDuplexEnabled||!1}}])&&p(t.prototype,n),a&&p(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=v},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function c(e){r(a,o,i,c,u,"next",e)}function u(e){r(a,o,i,c,u,"throw",e)}c(void 0)}))}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.downloadUrl,n=e.upgradeFlag,r=e.onCancel,i=e.onConfirm,a=document.getElementById("dialog-download-msi");if(a)a.style.display="block";else{var c="\n        .dialog-download-msi {\n            display: none;\n            position: absolute;\n            width: 100vw;\n            height: 100vh;\n            left: 0;\n            top: 0;\n            z-index: 99999999999;\n        }\n        .dialog-download-msi .mask {\n            z-index: 2;\n            position: absolute;\n            background: #333;\n            opacity: .5;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n        }\n        .dialog-download-msi .dialog-content {\n            z-index: 5;\n            position: absolute;\n            top: 30%;\n            left: 0;\n            right: 0;\n            margin: auto auto;\n            font-size: 14px;\n            background-color: #eee;\n            border: 2px solid #777;\n            border-left: 2px solid #ddd;\n            border-top: 2px solid #ddd;\n            padding: 15px 20px 0 20px;\n            width: 300px;\n        }\n\n        .dialog-download-msi .dialog-content p {\n            padding: 0;\n            margin: 0;\n            font-weight: bold;\n        }\n        .dialog-download-msi input {\n            min-width: 80px;\n            height: 20px;\n            margin: 10px 10px 20px 0;\n            line-height: 0;\n        }",u=document.createElement("style");u.innerHTML=c,document.getElementsByTagName("head")[0].appendChild(u);var s="当前未安装扫描必须的组件JsScanner.msi，您可以下载安装后再使用";n&&(s="当前有新版本可以更新，您可以下载安装后再使用");var l='\n        <div class="mask"></div>\n        <div class="dialog-content">\n            <p>'.concat(s,'</p>\n            <a style="display: none" href="').concat(t,'" id="downloadLink" target="_blank">download</a>\n            <div class="dialog-buttons">\n                <input type="button" value="下载" id="comConfirmDownloadBtn" />\n                <input\n                    type="button"\n                    value="取消"\n                    class="cancelDownloadBtn"\n                    id="cancelDownloadBtn"\n                />\n            </div>\n        </div>'),f=document.createElement("div");f.id="dialog-download-msi",f.className="dialog-download-msi",f.innerHTML=l,document.body.prepend(f,document.body.firstChild),f.style.display="block",document.getElementById("comConfirmDownloadBtn").onclick=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("dialog-download-msi").style.display="none",document.getElementById("downloadLink").click(),e.next=4,i();case 4:case"end":return e.stop()}}),e)}))),document.getElementById("cancelDownloadBtn").onclick=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:document.getElementById("dialog-download-msi").style.display="none";case 3:case"end":return e.stop()}}),e)})))}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Element.prototype.on=function(e,t){window.addEventListener?this.addEventListener(e,t,!1):this.attachEvent("on"+e,t)};var t=e.scannerSources,n=e.sourceName,r=e.onSelect,i=e.onConfirm,a=e.onCancel,c=document.getElementById("dialog-selectsourceBox");if(c)c.style.display="block";else{var u=".dialog-selectsourceBox {\n                display: none;\n                position: absolute;\n                width: 100vw;\n                height: 100vh;\n                left: 0;\n                top: 0;\n                z-index: 99999999999;\n            }\n            .dialog-selectsourceBox .mask {\n                z-index: 2;\n                position: absolute;\n                background: #333;\n                opacity: .5;\n                left: 0;\n                top: 0;\n                width: 100%;\n                height: 100%;\n            }\n\n            .dialog-selectsource {\n                z-index: 5;\n                position: absolute;\n                top: 30%;\n                left: 0;\n                right: 0;\n                margin: auto auto;\n                font-size: 14px;\n                background-color: #eee;\n                border: 2px solid #777;\n                border-left: 2px solid #ddd;\n                border-top: 2px solid #ddd;\n                padding: 15px 20px 0 20px;\n                width: 300px;\n            }\n\n            .dialog-selectsource p {\n                padding: 0;\n                margin: 0;\n                font-weight: bold;\n            }\n\n            .dialog-selectsource-sourcelist {\n                height: 70px;\n                padding: 0;\n                background-color: #fff;\n                border: 2px solid #777;\n                border-right: 2px solid #ddd;\n                border-bottom: 2px solid #ddd;\n                overflow-y: auto;\n                overflow-x: hidden;\n                min-width: 240px;\n                -webkit-touch-callout: none;\n                -webkit-user-select: none;\n                -khtml-user-select: none;\n                -moz-user-select: none;\n                -ms-user-select: none;\n                user-select: none;\n            }\n\n            .dialog-selectsource-sourcelist ul {\n                list-style: none;\n                margin: 0;\n                padding: 0;\n            }\n\n            .dialog-selectsource-sourcelist li {\n                padding: 2px 0 2px 2px;\n                margin: 0;\n                list-style: none;\n                cursor: pointer;\n                line-height: 18px;\n            }\n\n            .dialog-selectsource-sourcelist li:hover {\n                background-color: #eff6fd;\n            }\n\n            .dialog-selectsource-sourcelist li.dialog-selectsource-sourcelist-li-selected {\n                background-color: #c7defc;\n            }\n\n            .dialog-selectsource-sourcelist-ul {\n                list-style: none;\n                margin: 0;\n                padding: 0;\n            }\n\n            .dialog-selectsource-buttons>input {\n                min-width: 80px;\n                height: 20px;\n                margin: 10px 10px 20px 0;\n                line-height: 0;\n            }",s=document.createElement("style");s.innerHTML=u,document.getElementsByTagName("head")[0].appendChild(s);var l=function(e){for(var n=[],r=0;r<t.length;r++){var o=t[r],i="dialog-selectsource-sourcelist-li";(-1===t.indexOf(e)&&0===r||o===e)&&(i="dialog-selectsource-sourcelist-li-selected dialog-selectsource-sourcelist-li"),n.push('<li data-value="'.concat(o,'" data="').concat(r,'" class="').concat(i,'">').concat(o,"</li>"))}return n.join("")},f=l(n),d='\n        <div class="mask"></div>\n        <div class="dialog-selectsource">\n            <p>选择扫描仪类型</p>\n            <div class="dialog-selectsource-sourcelist">\n                <ul id="dialog-selectsource-sourcelist-ul">'.concat(f,'</ul>\n            </div>\n            <div class="dialog-selectsource-buttons">\n                <input type="button" value="确定" class="startScanBtn" id="comConfirmScanBtn" />\n                <input\n                    type="button"\n                    value="取消"\n                    class="cancelScanBtn"\n                    id="cancelScanBtn"\n                />\n            </div>\n        </div>'),p=document.createElement("div");p.id="dialog-selectsourceBox",p.className="dialog-selectsourceBox",p.innerHTML=d,document.body.prepend(p,document.body.firstChild),p.style.display="block",document.getElementById("comConfirmScanBtn").onclick=function(){var e=document.getElementsByClassName("dialog-selectsource-sourcelist-li-selected")[0];document.getElementById("dialog-selectsourceBox").style.display="none",i(e.innerText)},document.getElementById("cancelScanBtn").onclick=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("dialog-selectsourceBox").style.display="none",e.next=3,a();case 3:case"end":return e.stop()}}),e)})));var h=document.getElementById("dialog-selectsource-sourcelist-ul"),v=function(e){if("LI"===e.target.tagName){var t=e.target.innerText;h.innerHTML=l(t),r(t)}};h.on("click",v)}}n.r(t),n.d(t,"showDownloadMsi",(function(){return i})),n.d(t,"showSelectSource",(function(){return a}))}])}));